{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "18d9f198_ba6be864",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-06-09T10:38:38Z",
      "side": 1,
      "message": "This is a very dirty solution, but it scales. I can\u0027t see any simpler solution so far.",
      "revId": "e337b4c85389971183fc191eb066bf52bd83d9f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dc2a808b_769b3861",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 1
      },
      "lineNbr": 506,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-06-09T10:46:21Z",
      "side": 1,
      "message": "Can we make this a dex2oat arg instead (--cache-info-fd)? We won\u0027t pass it to the zygote, right?",
      "range": {
        "startLine": 505,
        "startChar": 0,
        "endLine": 506,
        "endChar": 78
      },
      "revId": "e337b4c85389971183fc191eb066bf52bd83d9f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "73bde868_ae93f8af",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 1
      },
      "lineNbr": 506,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-06-09T10:57:54Z",
      "side": 1,
      "message": "I\u0027m not sure. The collector type is a runtime option, so maybe once day we\u0027ll find it useful to pass the cache info FD to Zygote as well. Besides, this is a very dirty solution anyway. Restricting the flag to dex2oat doesn\u0027t make it any cleaner.",
      "parentUuid": "dc2a808b_769b3861",
      "range": {
        "startLine": 505,
        "startChar": 0,
        "endLine": 506,
        "endChar": 78
      },
      "revId": "e337b4c85389971183fc191eb066bf52bd83d9f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "54a32eb2_43b02dfe",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 1
      },
      "lineNbr": 506,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-06-09T11:00:53Z",
      "side": 1,
      "message": "It does convey that the hack is dex2oat/odrefresh only and that a real runtime doesn\u0027t need to worry about.\n\nhowever, if you think the cache info fd will indeed eventually be used by the runtime, then sgtm.",
      "parentUuid": "73bde868_ae93f8af",
      "range": {
        "startLine": 505,
        "startChar": 0,
        "endLine": 506,
        "endChar": 78
      },
      "revId": "e337b4c85389971183fc191eb066bf52bd83d9f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "eab36b77_0e13d3b3",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 1
      },
      "lineNbr": 506,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-06-09T11:41:20Z",
      "side": 1,
      "message": "OK, limiting the use of the hack is a good point. Changed to a dex2oat flag.",
      "parentUuid": "54a32eb2_43b02dfe",
      "range": {
        "startLine": 505,
        "startChar": 0,
        "endLine": 506,
        "endChar": 78
      },
      "revId": "e337b4c85389971183fc191eb066bf52bd83d9f6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}