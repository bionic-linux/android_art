{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "80b63ebd_b4d6d166",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootManager.java",
        "patchSetId": 13
      },
      "lineNbr": 37,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "We\u0027re not getting any SDK stability checks here, right? I wonder if we can add something more to catch any thoughtless API changes. E.g. add an interface class `PreRebootManagerApi` so that any API change needs to be done in an extra file that only contains the API. Or is there a better way?\n\nIt\u0027d also be nice to verify that the classes used in the API are public or system API, but I\u0027ve no idea how to do that.",
      "range": {
        "startLine": 36,
        "startChar": 68,
        "endLine": 37,
        "endChar": 9
      },
      "revId": "774c6a02efe78b9d752b8c15770ccb948d69bd2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5cee36e4_8b6ba0a9",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootManager.java",
        "patchSetId": 13
      },
      "lineNbr": 37,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "Since this is an unusual kind of stable API it\u0027s worth an explanation, i.e. that it\u0027s stability from one version of the ART module to another, and how much they can differ in time.",
      "range": {
        "startLine": 36,
        "startChar": 67,
        "endLine": 37,
        "endChar": 10
      },
      "revId": "774c6a02efe78b9d752b8c15770ccb948d69bd2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fdfa3fd0_6fd941d8",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootManager.java",
        "patchSetId": 13
      },
      "lineNbr": 37,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-04-25T14:37:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5cee36e4_8b6ba0a9",
      "range": {
        "startLine": 36,
        "startChar": 67,
        "endLine": 37,
        "endChar": 10
      },
      "revId": "774c6a02efe78b9d752b8c15770ccb948d69bd2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7194edd9_c69e9492",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootManager.java",
        "patchSetId": 13
      },
      "lineNbr": 37,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-04-25T14:37:05Z",
      "side": 1,
      "message": "\u003e E.g. add an interface class PreRebootManagerApi so that any API change needs to be done in an extra file that only contains the API.\n\nI actually thought about the same, but I didn\u0027t find a good way to do it. We only expose a static method here, but Java doesn\u0027t support defining an interface for static methods. We can make the method non-static, but then we will have to have a constructor, which is one more API and Java doesn\u0027t support interface for constructors either, so it doesn\u0027t solve the problem.\n\n\u003e Or is there a better way?\n\nUnfortunately, I can\u0027t think of a better way. A comment is the best we can do here.\n\n\u003e It\u0027d also be nice to verify that the classes used in the API are public or system API.\n\nSorry, could you elaborate this? What else can this class potentially use?",
      "parentUuid": "80b63ebd_b4d6d166",
      "range": {
        "startLine": 36,
        "startChar": 68,
        "endLine": 37,
        "endChar": 9
      },
      "revId": "774c6a02efe78b9d752b8c15770ccb948d69bd2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}