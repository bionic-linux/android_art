{
  "comments": [
    {
      "key": {
        "uuid": "172a3a64_25114cd9",
        "filename": "tools/perf2cfg/Android.bp",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-08-14T12:40:17Z",
      "side": 1,
      "message": "The CL looks fine now, but this dependency is a problem. I should have picked up on it sooner, apologies for that.\n\nWe\u0027re working on unbundling ART, which means it\u0027s moving into a minimal source tree without the rest of the Android platform sources, including this one. So this dependency won\u0027t work then (regardless it\u0027s this way or through the earlier direct import in the code).\n\nOne possibility is to implement enough of the simpleperf record parser here to remove the dependency. If that\u0027s not a good solution then maybe this tool is better off in simpleperf rather than here - I believe the only dependency on ART is on the CFG file format, but no code, right?",
      "range": {
        "startLine": 21,
        "startChar": 9,
        "endLine": 21,
        "endChar": 30
      },
      "revId": "19f0dca46a8f61431892b4eb4d18e485c9de7a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d32e8ba2_69467274",
        "filename": "tools/perf2cfg/Android.bp",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1724960
      },
      "writtenOn": "2020-08-14T13:34:16Z",
      "side": 1,
      "message": "\u003e I should have picked up on it sooner, apologies for that.\nNo worries! ðŸ˜Š\n\n\u003e I believe the only dependency on ART is on the CFG file format, but no code, right?\nThat\u0027s right, the CFG file parser is self-contained. I\u0027ll have a chat with my team about which solution to choose.",
      "parentUuid": "172a3a64_25114cd9",
      "range": {
        "startLine": 21,
        "startChar": 9,
        "endLine": 21,
        "endChar": 30
      },
      "revId": "19f0dca46a8f61431892b4eb4d18e485c9de7a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9ed89fb3_8c3f7ea9",
        "filename": "tools/perf2cfg/Android.bp",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2020-08-14T13:57:33Z",
      "side": 1,
      "message": "Ok, please do. Another factor might be how stable the simpleperf record format is, i.e. if there would be concerns with an external tool depending on it directly, instead of through libsimpleperf_report or simpleperf_report_lib. I don\u0027t maintain simpleperf so I can\u0027t advise on that; yabinc is a better contact there.",
      "parentUuid": "d32e8ba2_69467274",
      "range": {
        "startLine": 21,
        "startChar": 9,
        "endLine": 21,
        "endChar": 30
      },
      "revId": "19f0dca46a8f61431892b4eb4d18e485c9de7a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f4e52a66_01e45977",
        "filename": "tools/perf2cfg/Android.bp",
        "patchSetId": 6
      },
      "lineNbr": 21,
      "author": {
        "id": 1724960
      },
      "writtenOn": "2020-08-17T08:00:54Z",
      "side": 1,
      "message": "Thank you for the pointers! We have decided to keep the dependency on simpleperf_report_lib and move the tool to system/extras. Introducing another parser would make the tool more error-prone and harder to maintain.",
      "parentUuid": "9ed89fb3_8c3f7ea9",
      "range": {
        "startLine": 21,
        "startChar": 9,
        "endLine": 21,
        "endChar": 30
      },
      "revId": "19f0dca46a8f61431892b4eb4d18e485c9de7a2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}