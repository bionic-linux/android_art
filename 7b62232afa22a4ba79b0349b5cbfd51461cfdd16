{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ccdfd9b3_680156ca",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2021-11-16T18:54:53Z",
      "side": 1,
      "message": "PTAL\n\nWe\u0027ll need to read ro.zygote from composd, and plumb to compsvc later.",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0d069e1c_f4b59e08",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T19:40:44Z",
      "side": 1,
      "message": "Does this mean that CompOS won\u0027t be able to provide odrefresh with any system property? If so, we probably need a more generalized way for overriding system properties.",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "570615df_ff1552fd",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2021-11-16T20:32:49Z",
      "side": 1,
      "message": "I prefer avoiding system property, adding get_prop sepolicy for odrefresh and set_prop for compsvc, just to pass the some strings to the executable.\n\nIf the host variant of odrefresh was used, changes like this (i.e. already exists in the host variant) would be trivial, but since it\u0027s not, I hope the cost to maintain the command line API is acceptable.  WDYT?",
      "parentUuid": "0d069e1c_f4b59e08",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56040faa_964b4541",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T22:51:53Z",
      "side": 1,
      "message": "Honestly, I don\u0027t know how the host variant of odrefresh was designed or how it was supposed to be used. Adding a commandline flag for the target variant should be careful because commandline flags are APIs that the ART module exposes, and they need to be stable. I agree that we can pass system properties via flags, but the question is how. I assume you will need more flags like this later for `dalvik.vm.boot-dex2oat-cpu-set` and others, so I think something like \"--override-system-prop\u003d...\" would be better. WDYT?",
      "parentUuid": "570615df_ff1552fd",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d91b437_e94d97dc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1042276
      },
      "writtenOn": "2021-11-16T23:16:07Z",
      "side": 1,
      "message": "I\u0027m not sure how --override-system-prop\u003d... can help.  If odrefresh needs a new property, CompOS still need to construct the flag (just different flag).\n\nFor the specific case of cpu-set, we actually need to configure the VM accordingly anyway (b/197358423), so we can avoid passing those properties.",
      "parentUuid": "56040faa_964b4541",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d05dba22_231237a1",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-17T10:47:32Z",
      "side": 1,
      "message": "OK, I see.",
      "parentUuid": "7d91b437_e94d97dc",
      "revId": "7b62232afa22a4ba79b0349b5cbfd51461cfdd16",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}