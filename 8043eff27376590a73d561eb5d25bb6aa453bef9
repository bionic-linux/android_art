{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "86664e93_a923bd81",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2020-11-10T20:09:46Z",
      "side": 1,
      "message": "LGTM, except for the remaining comment.",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1da2c441_774c4d8c",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-11-12T14:58:03Z",
      "side": 1,
      "message": "Daniel, are you able to see the errors?",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "471fcbf8_b61b5468",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1752579
      },
      "writtenOn": "2020-11-12T14:59:26Z",
      "side": 1,
      "message": "No, unfortunately not.",
      "parentUuid": "1da2c441_774c4d8c",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3438d052_76378d07",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2020-11-12T15:54:57Z",
      "side": 1,
      "message": "I\u0027ll share the error messages with Daniel.",
      "parentUuid": "471fcbf8_b61b5468",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa185d7d_e44001fa",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2020-11-12T16:09:33Z",
      "side": 1,
      "message": "Presubmit failures:\n\nhttps://android-build.googleplex.com/builds/treetop/android-review/1464422?ref\u003dCOMMENT\u0026revision\u003d5\u0026workplanId\u003dL37800000742332878\n\n[Build] 6968751 art-test on git_master-art-host\n\nhttps://android-build.googleplex.com/builds/pending/P17800010/art-test/latest/view/logs/build.log\n\n  [ 99% 5913/5917] build out/host/linux-x86/obj/PACKAGING/art-host-gtest_intermediates/art_dex2oat_tests64.xml\n  [\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] Running 182 tests from 28 test suites (64 jobs).\n  […]\n  [ RUN      ] ImageWriteReadTest.WriteReadLZ4HCKBBlock\n  art_dex2oat_tests F 11-12 13:52:05 59212 61295 assembler_x86_64.cc:2676] Check failed: CpuHasAVXorAVX2FeatureFlag()\n  Runtime aborting...\n  Dumping all threads without mutator lock held\n  All threads:\n  DALVIK THREADS (16):\n  art_dex2oat_tests F 11-12 13:52:05 59212 61291 assembler_x86_64.cc:2676] Check failed: CpuHasAVXorAVX2FeatureFlag()\n  […]\n  \"Compiler driver thread pool worker thread 12\" prio\u003d5 tid\u003d12 Runnable (still starting up)\n    | group\u003d\"\" sCount\u003d0 ucsCount\u003d0 flags\u003d0 obj\u003d(nil) self\u003d0x7f95a00008c0\n    | sysTid\u003d61295 nice\u003d19 cgrp\u003ddefault sched\u003d0/0 handle\u003d0x7f95cadb1700\n    | state\u003dR schedstat\u003d( 339856197 1560032503 2491 ) utm\u003d33 stm\u003d0 core\u003d49 HZ\u003d100\n    | stack\u003d0x7f95cacb1000-0x7f95cacb3000 stackSize\u003d1028KB\n    | held mutexes\u003d \"abort lock\" \"mutator lock\"(shared held)\n    native: #00 pc 00000000008f7c86  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::DumpNativeStack(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)+134)\n    native:   art::DumpNativeStack(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, int, BacktraceMap*, char const*, art::ArtMethod*, void*, bool)\n    native:    art/runtime/native_stack_dump.cc:335 (discriminator 2)\n    native: #01 pc 0000000000a5911e  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::Thread::DumpStack(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, bool, BacktraceMap*, bool) const+398)\n    native:   art::Thread::DumpStack(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, bool, BacktraceMap*, bool) const\n    native:    art/runtime/thread.cc:2189 (discriminator 2)\n    native: #02 pc 0000000000a7ceb7  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::DumpCheckpoint::Run(art::Thread*)+583)\n    native:   art::DumpCheckpoint::Run(art::Thread*)\n    native:    art/runtime/thread_list.cc:222 (discriminator 2)\n    native: #03 pc 0000000000a75e42  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)+978)\n    native:   art::ThreadList::RunCheckpoint(art::Closure*, art::Closure*)\n    native:    art/runtime/thread_list.cc:383\n    native: #04 pc 0000000000a757b0  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::ThreadList::Dump(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, bool)+368)\n    native:   art::ThreadList::Dump(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, bool)\n    native:    art/runtime/thread_list.cc:266\n    native: #05 pc 0000000000a1f5ea  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::AbortState::Dump(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026) const+186)\n    native:   art::AbortState::Dump(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026) const\n    native:    art/runtime/runtime.cc:533\n    native: #06 pc 0000000000a0a917  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::Runtime::Abort(char const*)+567)\n    native:   art::Dumpable\u003cart::AbortState\u003e::Dump(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026) const\n    native:    art/libartbase/base/dumpable.h:38\n    native:   std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026 art::operator\u003c\u003c\u003cart::AbortState\u003e(std::__1::basic_ostream\u003cchar, std::__1::char_traits\u003cchar\u003e \u003e\u0026, art::Dumpable\u003cart::AbortState\u003e const\u0026)\n    native:    art/libartbase/base/dumpable.h:49\n    native:   art::Runtime::Abort(char const*)\n    native:    art/runtime/runtime.cc:656 (discriminator 2)\n    native: #07 pc 0000000000025d1c  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libbase.so (android::base::SetAborter(std::__1::function\u003cvoid (char const*)\u003e\u0026\u0026)::$_3::__invoke(char const*)+60)\n    native:   std::__1::__function::__value_func\u003cvoid (char const*)\u003e::operator()(char const*\u0026\u0026) const\n    native:    external/libcxx/include/functional:1799 (discriminator 2)\n    native:   std::__1::function\u003cvoid (char const*)\u003e::operator()(char const*) const\n    native:    external/libcxx/include/functional:2347 (discriminator 2)\n    native:   android::base::SetAborter(std::__1::function\u003cvoid (char const*)\u003e\u0026\u0026)::$_3::operator()(char const*) const\n    native:    system/libbase/logging.cpp:424 (discriminator 2)\n    native:   android::base::SetAborter(std::__1::function\u003cvoid (char const*)\u003e\u0026\u0026)::$_3::__invoke(char const*)\n    native:    system/libbase/logging.cpp:424\n    native: #08 pc 0000000000025549  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libbase.so (android::base::LogMessage::~LogMessage()+329)\n    native:   android::base::LogMessage::~LogMessage()\n    native:    system/libbase/logging.cpp:513 (discriminator 4)\n    native: #09 pc 000000000074b8cd  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd-compiler.so (art::x86_64::X86_64Assembler::vxorps(art::x86_64::XmmRegister, art::x86_64::XmmRegister, art::x86_64::XmmRegister)+989)\n    native:   art::x86_64::X86_64Assembler::vxorps(art::x86_64::XmmRegister, art::x86_64::XmmRegister, art::x86_64::XmmRegister)\n    native:    art/compiler/utils/x86_64/assembler_x86_64.cc:2676 (discriminator 6)\n    native: #10 pc 0000000000724150  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd-compiler.so (art::x86_64::InstructionCodeGeneratorX86_64::VisitVecReplicateScalar(art::HVecReplicateScalar*)+176)\n    native:   art::x86_64::InstructionCodeGeneratorX86_64::VisitVecReplicateScalar(art::HVecReplicateScalar*)\n    native:    art/compiler/optimizing/code_generator_vector_x86_64.cc:64 (discriminator 8)\n    native: #11 pc 000000000032cf8c  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd-compiler.so (art::CodeGenerator::Compile(art::CodeAllocator*)+764)\n    native:   art::CodeGenerator::Compile(art::CodeAllocator*)\n    native:    art/compiler/optimizing/code_generator.cc:422\n    native: #12 pc 000000000043828c  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd-compiler.so (art::OptimizingCompiler::TryCompile(art::ArenaAllocator*, art::ArenaStack*, art::CodeVectorAllocator*, art::DexCompilationUnit const\u0026, art::ArtMethod*, art::CompilationKind, art::VariableSizedHandleScope*) const+1964)\n    native:   art::OptimizingCompiler::TryCompile(art::ArenaAllocator*, art::ArenaStack*, art::CodeVectorAllocator*, art::DexCompilationUnit const\u0026, art::ArtMethod*, art::CompilationKind, art::VariableSizedHandleScope*) const\n    native:    art/compiler/optimizing/optimizing_compiler.cc:903 (discriminator 2)\n    native: #13 pc 0000000000439656  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd-compiler.so (art::OptimizingCompiler::Compile(art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::Handle\u003cart::mirror::DexCache\u003e) const+1174)\n    native:   art::OptimizingCompiler::Compile(art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::Handle\u003cart::mirror::DexCache\u003e) const\n    native:    art/compiler/optimizing/optimizing_compiler.cc:1073\n    native: #14 pc 00000000001ca7ff  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/nativetest64/art_dex2oat_tests/art_dex2oat_tests (art::CompileMethodQuick(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)+831)\n    native:   art::CompileMethodQuick(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)::$_34::operator()(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e) const\n    native:    art/dex2oat/driver/compiler_driver.cc:593 (discriminator 2)\n    native:   void art::CompileMethodHarness\u003cart::CompileMethodQuick(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)::$_34\u003e(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e, art::CompileMethodQuick(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)::$_34)\n    native:    art/dex2oat/driver/compiler_driver.cc:438\n    native:   art::CompileMethodQuick(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)\n    native:    art/dex2oat/driver/compiler_driver.cc:635\n    native: #15 pc 00000000001ce868  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/nativetest64/art_dex2oat_tests/art_dex2oat_tests (art::ParallelCompilationManager::ForAllClosureLambda\u003cvoid art::CompileDexFile\u003cvoid (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)\u003e(art::CompilerDriver*, _jobject*, art::DexFile const\u0026, std::__1::vector\u003cart::DexFile const*, std::__1::allocator\u003cart::DexFile const*\u003e \u003e const\u0026, art::ThreadPool*, unsigned long, art::TimingLogger*, char const*, void (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e))::\u0027lambda\u0027(unsigned long)\u003e::Run(art::Thread*)+2984)\n    native:   void art::CompileDexFile\u003cvoid (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)\u003e(art::CompilerDriver*, _jobject*, art::DexFile const\u0026, std::__1::vector\u003cart::DexFile const*, std::__1::allocator\u003cart::DexFile const*\u003e \u003e const\u0026, art::ThreadPool*, unsigned long, art::TimingLogger*, char const*, void (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e))::\u0027lambda\u0027(unsigned long)::operator()(unsigned long) const\n    native:    art/dex2oat/driver/compiler_driver.cc:2757 (discriminator 2)\n    native:   art::ParallelCompilationManager::ForAllClosureLambda\u003cvoid art::CompileDexFile\u003cvoid (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e)\u003e(art::CompilerDriver*, _jobject*, art::DexFile const\u0026, std::__1::vector\u003cart::DexFile const*, std::__1::allocator\u003cart::DexFile const*\u003e \u003e const\u0026, art::ThreadPool*, unsigned long, art::TimingLogger*, char const*, void (*)(art::Thread*, art::CompilerDriver*, art::dex::CodeItem const*, unsigned int, art::InvokeType, unsigned short, unsigned int, art::Handle\u003cart::mirror::ClassLoader\u003e, art::DexFile const\u0026, art::optimizer::DexToDexCompiler::CompilationLevel, art::Handle\u003cart::mirror::DexCache\u003e))::\u0027lambda\u0027(unsigned long)\u003e::Run(art::Thread*)\n    native:    art/dex2oat/driver/compiler_driver.cc:1579\n    native: #16 pc 0000000000a7dffb  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::ThreadPoolWorker::Run()+107)\n    native:   art::ThreadPoolWorker::Run()\n    native:    art/runtime/thread_pool.cc:112\n    native: #17 pc 0000000000a7db38  /buildbot/src/googleplex-android/master-art-host/out/host/linux-x86/lib64/libartd.so (art::ThreadPoolWorker::Callback(void*)+184)\n    native:   art::ThreadPoolWorker::Callback(void*)\n    native:    art/runtime/thread_pool.cc:135\n    native: #18 pc 0000000000008183  /lib/x86_64-linux-gnu/libpthread-2.19.so (start_thread+195)\n    native:   start_thread\n    native:    /build/eglibc-xkFqqE/eglibc-2.19/nptl/pthread_create.c:312 (discriminator 2)\n    native: #19 pc 00000000000fe03c  /lib/x86_64-linux-gnu/libc-2.19.so (clone+108)\n    native:   clone\n    native:    /build/eglibc-xkFqqE/eglibc-2.19/misc/../sysdeps/unix/sysv/linux/x86_64/clone.S:111\n    (no managed stack frames)\n  […]\n  [\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d\u003d] 182 tests from 28 test suites ran. (58906 ms total)\n  [  PASSED  ] 175 tests.\n  [  FAILED  ] 7 tests, listed below:\n  [  FAILED  ] ImageTest.TestImageLayout\n  [  FAILED  ] ImageTest.TestDefaultMethods\n  [  FAILED  ] ImageTest.TestSoftVerificationFailureDuringClassInitialization\n  [  FAILED  ] ImageWriteReadTest.WriteReadUncompressed\n  [  FAILED  ] ImageWriteReadTest.WriteReadLZ4\n  [  FAILED  ] ImageWriteReadTest.WriteReadLZ4HC\n  [  FAILED  ] ImageWriteReadTest.WriteReadLZ4HCKBBlock\n  \n   7 FAILED TESTS",
      "parentUuid": "3438d052_76378d07",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0b21c10c_55cc3b72",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2020-11-12T16:20:06Z",
      "side": 1,
      "message": "CC-ing Xueliang and Artem, as agreed yesterday.",
      "revId": "8043eff27376590a73d561eb5d25bb6aa453bef9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}