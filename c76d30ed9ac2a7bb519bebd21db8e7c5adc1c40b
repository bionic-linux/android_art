{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "1e22102a_dc5566c7",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 32,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2024-07-30T19:57:20Z",
      "side": 1,
      "message": "We should also test on all arches, as this only runs the tests on arm64 / x86_64. Unfortunately riscv64 tests are broken at the moment. I\u0027m happy to +1 if someone ran riscv64 tests before and observed them passing, otherwise we should wait until they are fixed, or alternatively run them in an old tree (the breakage probably happened in the last few weeks).",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "05712555_5e1b507a",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 32,
      "author": {
        "id": 1989777
      },
      "writtenOn": "2024-07-31T08:33:08Z",
      "side": 1,
      "message": "The last time I spoke to Vladimir about testing riscv64 I understood that the process was quite extensive (lots of cherry picked patches) therefore as long as the changes mirrored those on other arches the patch would be okay without this testing. Do you know if this is still the case or have things changed , or did I misunderstand originally?",
      "parentUuid": "1e22102a_dc5566c7",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2da93a04_ba348a76",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 32,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2024-07-31T08:55:56Z",
      "side": 1,
      "message": "I don\u0027t have the same level of knowledge about ART as Vladimir does, so I\u0027m a bit scared of submitting riscv64 changes without any testing at all. I\u0027m actively working on fixing riscv64 testing now. Give me a couple of days to try and fix it, and if I do not succeed I will +2 since Mythri and Vladimir think the code looks ok, and I don\u0027t want to block simulator work even more.\n\nThe process for riscv64 testing should be as easy as testing on cuttlefish using ART chroot-based testing: https://cs.android.com/android/platform/superproject/+/master:art/test/README.chroot.md.\n\n1. In AOSP tree:\n```\n. build/envsetup.sh\nlunch lunch aosp_cf_riscv64_phone-trunk_staging-eng\nm -j$(nproc)\nlaunch_cvd\n```\n\n2. In master-art tree:\n```\n. build/envsetup.sh\nexport SOONG_ALLOW_MISSING_DEPENDENCIES\u003dtrue\nexport BUILD_BROKEN_DISABLE_BAZEL\u003dtrue\nlunch riscv64-trunk_staging-eng\nart/tools/buildbot-build.sh\nunset ART_TEST_ANDROID_ROOT\nunset CUSTOM_TARGET_LINKER\nunset ART_TEST_ANDROID_ART_ROOT\nunset ART_TEST_ANDROID_RUNTIME_ROOT\nunset ART_TEST_ANDROID_I18N_ROOT\nunset ART_TEST_ANDROID_TZDATA_ROOT\nexport ANDROID_SERIAL\u003d0.0.0.0:6520\nexport ART_TEST_CHROOT\u003d/data/local/art-test-chroot\nart/tools/buildbot-cleanup-device.sh\nart/tools/buildbot-setup-device.sh\nart/tools/buildbot-sync.sh\nart/test.py -j8 -r --target --verbose --ndebug --64 --optimizing\n# ... run other tests\n```\n\nUnfortunately, this is broken at the moment.\n\nThere\u0027s also VM-based approach which I find faster and easier to debug, but it\u0027s blocked on the same things as cuttlefish.",
      "parentUuid": "05712555_5e1b507a",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d41affee_b7271ef1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 32,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2024-07-31T09:47:34Z",
      "side": 1,
      "message": "Thanks Ulya! Just to clarify, Vladimir looked only at ARM (32/64 bit) changes. If we are unable to run the tests, then maybe we can all take take another look at riscv to see it matches other archs.",
      "parentUuid": "2da93a04_ba348a76",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "85831d6f_53794ec1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 11
      },
      "lineNbr": 32,
      "author": {
        "id": 1989777
      },
      "writtenOn": "2024-07-31T12:59:03Z",
      "side": 1,
      "message": "Thanks for the instructions for testing, that\u0027s really helpful! The plan sounds good to me.",
      "parentUuid": "d41affee_b7271ef1",
      "range": {
        "startLine": 32,
        "startChar": 0,
        "endLine": 32,
        "endChar": 29
      },
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "156346b3_1c33ecc3",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2024-07-23T10:33:25Z",
      "side": 1,
      "message": "Thanks!",
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "60a1ddc9_2afb9c6a",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 11
      },
      "lineNbr": 0,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2024-08-01T13:01:42Z",
      "side": 1,
      "message": "I\u0027ve got some comments but I\u0027ll just upload them as a follow-up CL.",
      "revId": "c76d30ed9ac2a7bb519bebd21db8e7c5adc1c40b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}