{
  "comments": [
    {
      "key": {
        "uuid": "5f404975_fdb7c7f7",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-11-26T09:33:54Z",
      "side": 1,
      "message": "This confuses me. Are key/value pairs leaked out of the internal data structure, and users of the map assume that pair they fetched is always in it?",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff2f3db3_b693a061",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2014-11-26T09:37:47Z",
      "side": 1,
      "message": "The only user of this list is just above: DumpThreadList. The map stores the names of threads when they get unregistered in ThreadList. It\u0027s a std::string, so memory management is not an issue.\n\nFrom test failures it seems that we get the same tid being unregistered twice. (Can happen if you attach - detach - re-attach - detach a thread, I think.)\n\nThe issue is with Put. In SafeMap, you cannot Put the same key twice.",
      "parentUuid": "5f404975_fdb7c7f7",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9f448158_e4fe403d",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-11-26T09:43:08Z",
      "side": 1,
      "message": "Can we DCHECK that? (In SafeMap, you cannot Put the same key twice.)",
      "parentUuid": "ff2f3db3_b693a061",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f663537_d75bbe3d",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2014-11-26T09:44:09Z",
      "side": 1,
      "message": "That is the DCHECK we are triggering in ThreadStress at the moment...",
      "parentUuid": "9f448158_e4fe403d",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1fa5f182_e6a0a005",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-11-26T09:50:42Z",
      "side": 1,
      "message": "Please add that SafeMap does not support Put with an existing entry.",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf52254f_3ec651da",
        "filename": "runtime/trace.cc",
        "patchSetId": 1
      },
      "lineNbr": 738,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2014-11-26T09:57:35Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1fa5f182_e6a0a005",
      "range": {
        "startLine": 738,
        "startChar": 0,
        "endLine": 738,
        "endChar": 70
      },
      "revId": "7184456bad3a412ba2ad60e28855b40c4cb82b01",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}