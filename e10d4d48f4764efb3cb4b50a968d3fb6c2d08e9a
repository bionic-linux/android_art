{
  "comments": [
    {
      "key": {
        "uuid": "bcb4e5de_9da947a7",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 992,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2014-03-12T12:07:53Z",
      "side": 1,
      "message": "Should all this code actually go to Gate()? It\u0027s a bit of a hack to use temp_bit_vector_size_\u003d\u003d0 as an indication to skip the WalkBasicBlocks().",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dce519f4_a1c25a72",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 996,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2014-03-12T12:07:53Z",
      "side": 1,
      "message": "After any successful iget/iput/invoke, the class is surely initialized. But is it safe to assume that the type is in the dex cache? Or should I limit this just to invoke-static/range?",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9cb9e1da_692c9a7a",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 996,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-03-13T02:08:11Z",
      "side": 1,
      "message": "What happens if there\u0027s an exception in initializer error?",
      "parentUuid": "dce519f4_a1c25a72",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c1ab5b4_7a2e2111",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 996,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2014-03-13T10:58:50Z",
      "side": 1,
      "message": "If any exception is thrown (NPE or clinit error), we won\u0027t reach those insns where we\u0027re eliminating the check.",
      "parentUuid": "9cb9e1da_692c9a7a",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fce81dcd_e9b510f8",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 996,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2014-03-13T16:17:40Z",
      "side": 1,
      "message": "Ok. How is the case:\n\nclass MyOtherClass {\n  static {\n    throw new Exception(\"boo\");\n  }\n  static int x;\n}\nclass MyClass {\n\nstatic {\n  try {\n    MyOtherClass.x \u003d 100;  // Should fail with EIIE\n  } catch(Throwable ignored) {\n  }\n  MyOtherClass.x \u003d 100;  // Should fail again.\n}\n\nhandled?",
      "parentUuid": "3c1ab5b4_7a2e2111",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dce519f4_6fb03908",
        "filename": "compiler/dex/mir_optimization.cc",
        "patchSetId": 2
      },
      "lineNbr": 996,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2014-03-13T16:22:46Z",
      "side": 1,
      "message": "There is a catch handler, isn\u0027t there? In EliminateClassInitChecks(), the BasicBlock for the catch handler will go through the SetInitialBits() branch and the BasicBlock for the assignment will go through the Union() branch, so it will have the bit set and the check will not be eliminated.",
      "parentUuid": "fce81dcd_e9b510f8",
      "revId": "e10d4d48f4764efb3cb4b50a968d3fb6c2d08e9a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}