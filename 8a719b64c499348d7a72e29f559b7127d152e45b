{
  "comments": [
    {
      "key": {
        "uuid": "6327a712_a7ef8871",
        "filename": "Android.mk",
        "patchSetId": 8
      },
      "lineNbr": 406,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T10:53:09Z",
      "side": 1,
      "message": "Should we try to get rid of this phony module altogether (in another CL)?",
      "range": {
        "startLine": 406,
        "startChar": 15,
        "endLine": 406,
        "endChar": 27
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a103cfbc_721b01a1",
        "filename": "Android.mk",
        "patchSetId": 8
      },
      "lineNbr": 406,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-12-17T12:24:15Z",
      "side": 1,
      "message": "It would be useful, but I am not sure if that is feasible. This phony module is referenced from several places.",
      "parentUuid": "6327a712_a7ef8871",
      "range": {
        "startLine": 406,
        "startChar": 15,
        "endLine": 406,
        "endChar": 27
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "539aa2da_a1113f98",
        "filename": "Android.mk",
        "patchSetId": 8
      },
      "lineNbr": 406,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T13:25:57Z",
      "side": 1,
      "message": "From a quick search, it seems to only be referenced from two locations now:\n\n1. in this file (line 655); and\n2. in Fuchsia\u0027s configuration: https://android.git.corp.google.com/device/google/fuchsia/+/eba611b974ea52ff1bcff9065da08dcbaf4ffc9e/fuchsia.mk#32\n\nMaybe we could think about removing this later.",
      "parentUuid": "a103cfbc_721b01a1",
      "range": {
        "startLine": 406,
        "startChar": 15,
        "endLine": 406,
        "endChar": 27
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "af5e7928_7dda1fda",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T10:53:09Z",
      "side": 1,
      "message": "Should we also add \"com.android.art.testing\" for every module listing \"com.android.art.debug\" in its `apex_available` property? (Or is it irrelevant because the Testing ART APEX is never installed?)",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 32
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9cd61309_32673a9c",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-12-17T12:24:15Z",
      "side": 1,
      "message": "no. testing apexes are automatically exempted.  See https://source.corp.google.com/android/build/soong/apex/apex.go;cl\u003dmaster;l\u003d1181?q\u003df:apex.go\u0026sq\u003dpackage:%5Eandroid$\u0026ct\u003dos",
      "parentUuid": "af5e7928_7dda1fda",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 32
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f42d5e6d_e0e05608",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T13:25:57Z",
      "side": 1,
      "message": "I see; thanks for the information.",
      "parentUuid": "9cd61309_32673a9c",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 32
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ff55fce6_968b60ac",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-12-17T17:31:44Z",
      "side": 1,
      "message": "This is included in all ART APEXes. Why doesn\u0027t it require apex_available?",
      "range": {
        "startLine": 66,
        "startChar": 11,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b71ee4f_62050838",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-12-18T12:20:32Z",
      "side": 1,
      "message": "I presume this is due to the permissive default, which as you mentioned is [\"//apex_available:platform\", \"//apex_available:any_apex\"]. Really, all apex_available declarations here are optional, aren\u0027t they?\n\nConsidering this it makes even more sense to have a restrictive setting in art_defaults. We could perhaps discuss whether it should be the two ART APEXes or [] (i.e. nothing).\n\nSo I still see more value in the whitelisting approach rather than blacklisting, but if you don\u0027t want to address that here then I think it\u0027s perfectly fine to descope that and leave it to us.\n\nIf so, would it work for you to just drop all the blacklisting clauses in this CL, so we\u0027ll avoid some churn? I\u0027ll follow up with a CL that uses the defaults then. If not I\u0027ll +2 and revert them in a follow up.",
      "parentUuid": "ff55fce6_968b60ac",
      "range": {
        "startLine": 66,
        "startChar": 11,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d07abc3e_0205bf98",
        "filename": "adbconnection/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 66,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-12-19T03:09:19Z",
      "side": 1,
      "message": "Yes, that is due to the permissive default, which I will change to [\"//apex_available:platform\"] in the future.\n\nWhat I actually want is the removal of the check in Make. https://source.corp.google.com/android/build/make/core/main.mk;cl\u003dmaster;l\u003d1244\nTo do so, I needed to do this, which is equivalent to the check.\n\nThat is preventing me from doing https://android-review.googlesource.com/q/topic:%22apex_symlink%22+(status:open%20OR%20status:merged)",
      "parentUuid": "9b71ee4f_62050838",
      "range": {
        "startLine": 66,
        "startChar": 11,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d86c1098_54e556b7",
        "filename": "dexdump/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T10:53:09Z",
      "side": 1,
      "message": "Out of curiosity, why is this not just \"platform\"? (Is this because this check is not enforced yet, and this value acts as a placeholder/reminder?)",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 35
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8894a0e4_be4b6eff",
        "filename": "dexdump/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-12-17T12:24:15Z",
      "side": 1,
      "message": "\"//\" here is not for commenting. \"//apex_available:\" is a magic prefix for distinguishing meta module names like platform and anyapex from ordinary module names.",
      "parentUuid": "d86c1098_54e556b7",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 35
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "059778e7_9e9e17eb",
        "filename": "dexdump/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 58,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T13:25:57Z",
      "side": 1,
      "message": "I see; thanks for educating me.",
      "parentUuid": "8894a0e4_be4b6eff",
      "range": {
        "startLine": 58,
        "startChar": 8,
        "endLine": 58,
        "endChar": 35
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8032910f_717600c2",
        "filename": "libartbase/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 176,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T10:53:09Z",
      "side": 1,
      "message": "Nit: Long line (likewise with other instances below).",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 176,
        "endChar": 102
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "60203216_fee4cee6",
        "filename": "libartbase/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 176,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2019-12-17T12:24:15Z",
      "side": 1,
      "message": "I thought we don\u0027t have any column limit for Android.bp files. Furthermore, since this comment will anyway be removed when\nthe issue is fixed, I think we can leave this as it is for now.",
      "parentUuid": "8032910f_717600c2",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 176,
        "endChar": 102
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d26607a_c4a72970",
        "filename": "libartbase/Android.bp",
        "patchSetId": 8
      },
      "lineNbr": 176,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-12-17T13:25:57Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "60203216_fee4cee6",
      "range": {
        "startLine": 176,
        "startChar": 0,
        "endLine": 176,
        "endChar": 102
      },
      "revId": "8a719b64c499348d7a72e29f559b7127d152e45b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}