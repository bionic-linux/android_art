{
  "comments": [
    {
      "key": {
        "uuid": "ab0ebe7a_a60b6884",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2016-09-09T17:22:07Z",
      "side": 1,
      "message": "Will the rest arrays be passed by value? Anyway to make them passed by reference?",
      "range": {
        "startLine": 6545,
        "startChar": 43,
        "endLine": 6545,
        "endChar": 48
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_86f46c4e",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:27:05Z",
      "side": 1,
      "message": "no but added things to make it more clear.",
      "parentUuid": "ab0ebe7a_a60b6884",
      "range": {
        "startLine": 6545,
        "startChar": 43,
        "endLine": 6545,
        "endChar": 48
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_6644d09e",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:36:07Z",
      "side": 1,
      "message": "nit: don\u0027t need two functions\n\n  std::reference_wrapper\u003cconst ScopedArenaVector\u003cArtMethod*\u003e\u003e lists[] \u003d {std::cref(list), std::cref(rest)...};\n\n  for (auto\u0026\u0026 list_wrapper : lists) { \n      const ScopedArenaVector\u003cArtMethod*\u003e\u0026 list \u003d list_wrapper.get();\n  // existing code\n  }\n\n  // or just use a pointer instead of reference_wrapper. key is that arrays of references are illegal\n  // but by using an array we can avoid recursively calling this function.",
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_e66ba0ad",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:41:46Z",
      "side": 1,
      "message": "I like this way better.",
      "parentUuid": "ab0ebe7a_6644d09e",
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_8698ecc6",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:42:01Z",
      "side": 1,
      "message": "Without including \u0026 or \u0026\u0026 it will pass by value, see  http://www.aristeia.com/TalkNotes/C++TypeDeductionandWhyYouCareCppCon2014.pdf page 7",
      "parentUuid": "ab0ebe7a_a60b6884",
      "range": {
        "startLine": 6545,
        "startChar": 43,
        "endLine": 6545,
        "endChar": 48
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_462ef453",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:47:29Z",
      "side": 1,
      "message": "so I changed it to const Types\u0026 ... rest in the next version, does that work?",
      "parentUuid": "ab0ebe7a_8698ecc6",
      "range": {
        "startLine": 6545,
        "startChar": 43,
        "endLine": 6545,
        "endChar": 48
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_c63024a1",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6545,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:48:46Z",
      "side": 1,
      "message": "Yes, that definitely works.",
      "parentUuid": "ab0ebe7a_462ef453",
      "range": {
        "startLine": 6545,
        "startChar": 43,
        "endLine": 6545,
        "endChar": 48
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_e6f1e05c",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6605,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:36:07Z",
      "side": 1,
      "message": "nit: separating into 2 CHECKs will make it easier to determine which failed",
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_2688187c",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 6605,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:41:46Z",
      "side": 1,
      "message": "Really the first is just a short circuit. Also the names should be different from prettyMethod",
      "parentUuid": "ab0ebe7a_e6f1e05c",
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_a61ec879",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 7187,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:36:07Z",
      "side": 1,
      "message": "Can you turn this into a named constant? 0xFFFF seems pretty magical.",
      "range": {
        "startLine": 7187,
        "startChar": 39,
        "endLine": 7187,
        "endChar": 45
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_a69b68c2",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 7187,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:41:46Z",
      "side": 1,
      "message": "It\u0027s just getting the lower 16 bits. It\u0027s not very magic",
      "parentUuid": "ab0ebe7a_a61ec879",
      "range": {
        "startLine": 7187,
        "startChar": 39,
        "endLine": 7187,
        "endChar": 45
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_a6cd28b3",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 7187,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T17:48:46Z",
      "side": 1,
      "message": "That doesn\u0027t explain why it\u0027s setting the lower 16 bits. It\u0027s some kind of implied context that other people don\u0027t understand when they read this.",
      "parentUuid": "ab0ebe7a_a69b68c2",
      "range": {
        "startLine": 7187,
        "startChar": 39,
        "endLine": 7187,
        "endChar": 45
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_c9a675ad",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 7187,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2016-09-09T17:57:45Z",
      "side": 1,
      "message": "It is just making explicit that we expect the truncation of the number when it is converted to the uint16_t this function expects. It is done the same way many other places in this function and file.",
      "parentUuid": "ab0ebe7a_a6cd28b3",
      "range": {
        "startLine": 7187,
        "startChar": 39,
        "endLine": 7187,
        "endChar": 45
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ab0ebe7a_c92b15ed",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 5
      },
      "lineNbr": 7187,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-09T18:10:21Z",
      "side": 1,
      "message": "I see..\n\n   static_cast\u003cuint16_t\u003e(i)\n\nis much more clear then. It does the same exact thing because a cast to an unsigned value is the modulus 2^sizeof.\n\nAnd it\u0027s more readable. And there\u0027s less magic.\n\n0xFFFF seems like some java-ism to go from int/long to short because they don\u0027t have proper unsigned types.\n\nLook at what it does, I made the implicit conversions explicit:\n\n   0xFFFF \u0026 i -\u003e 0xFFFF has to be converted to size_t first\n   (size_t)(0xFFFF) \u0026 i\n   // and 0xFFFF is a signed int here so we have to consider (a) signed int32-\u003eunsigned32 and \n   // (b) signed int32 -\u003e unsigned int64 depending on arch\n   Now the whole type is size_t.\n   (uint16_t)((size_t)(0xFFFF) \u0026 i)\n   and it has to do an implicit uint16_t conversion anyway because the type of the expression doesn\u0027t\n    match function parameter.\n\nPlus we have to worry about this magic number 0xFFFF. VS:\n\n   static_cast\u003cuint16_t\u003e(i)\n\nNo implicit hidden conversions, no magic numbers.",
      "parentUuid": "ab0ebe7a_c9a675ad",
      "range": {
        "startLine": 7187,
        "startChar": 39,
        "endLine": 7187,
        "endChar": 45
      },
      "revId": "5b2c149571b2fa168b99f3d2e2bfd1564b8830a6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}