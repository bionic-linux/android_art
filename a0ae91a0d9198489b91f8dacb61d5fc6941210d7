{
  "comments": [
    {
      "key": {
        "uuid": "b9f26ee4_8e0cae11",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 44,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "Why does this need to instantiate a new one for each of those template parameters? This just leads to slower compile times, and is considered suboptimal C++ best practices.\n\nCan we reduce the # of template parameters further?",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d91642dc_bbf7b386",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 44,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "I prefer the encapsulation, keeping implementation details as private members.\n\nI could move this out of DedupeSet\u003c\u003e into a namespace \"detail\", if you think it\u0027s better.",
      "parentUuid": "b9f26ee4_8e0cae11",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79d47637_a5a2e916",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 44,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T22:37:03Z",
      "side": 1,
      "message": "Completely agreed it should be encapsulated as a private member.\n\nA detail namespace would be a bit cleaner and faster too, but I\u0027m not feeling strongly about this, just thought I\u0027d point it out.",
      "parentUuid": "d91642dc_bbf7b386",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f91146d4_b710ebd3",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 53,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "See 44",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d93d624e_6372dcd0",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 53,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "This one actually uses InKey, StoreKey and Alloc (and there is a discrepancy between DedupeSet\u003c\u003e taking a HashType and HashSet\u003c\u003e always using size_t), so I\u0027d like to keep it in DedupeSet\u003c\u003e.",
      "parentUuid": "f91146d4_b710ebd3",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39de7e5b_2ac24aba",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 53,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T22:37:03Z",
      "side": 1,
      "message": "Hmm, maybe we can fix HashSet at some point in the future.\n\nAnyway just thought I\u0027d point it out, not feeling strongly about this :).",
      "parentUuid": "d93d624e_6372dcd0",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79d47637_65bf61e6",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "This will be instantiated multiple times for the same T since it\u0027s dependent on DedupeSet. That\u0027s unlikely the desired behavior, consider pulling this out to a separate struct.",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d91642dc_5bfd3765",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "What is the overhead of that instantiation (besides debug symbols and compile time), assuming all member functions will be inlined? I would expect none.",
      "parentUuid": "79d47637_65bf61e6",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "791716fc_9ee601c6",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 112,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T22:37:03Z",
      "side": 1,
      "message": "I\u0027m not feeling strongly about this, just thought I\u0027d point it out.\n\n----\n\nWell, no runtime overhead, if it\u0027s all inlined. Even if it\u0027s not inlined we can get lucky with ICF (identical code folding).\n\nIt\u0027s basically down to the compile time though, it\u0027s best practices for extensive template code.\n\nhttps://github.com/isocpp/CppCoreGuidelines/blob/master/CppCoreGuidelines.md#Rt-scary  T.61\n\n----\n\nAnyway it could add up quickly for any kind of moderate template metaprogramming (which I can see this is not doing).",
      "parentUuid": "d91642dc_5bfd3765",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9f26ee4_4e212669",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 138,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "See 112",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b940aed4_42bc74ef",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 138,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "ditto",
      "parentUuid": "b9f26ee4_4e212669",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f91146d4_77039390",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 149,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "See 112",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59fc12c5_04d8b676",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 149,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "ditto",
      "parentUuid": "f91146d4_77039390",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "791716fc_3b3edf83",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 156,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "See 112",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "595892e5_c7bac0ab",
        "filename": "compiler/utils/dedupe_set-inl.h",
        "patchSetId": 16
      },
      "lineNbr": 156,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "I\u0027ll actually use the InKey and StoreKey in ShardPred with the next patch set.",
      "parentUuid": "791716fc_3b3edf83",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79d47637_05f89da8",
        "filename": "compiler/utils/dedupe_set.h",
        "patchSetId": 16
      },
      "lineNbr": 41,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2015-10-20T21:36:36Z",
      "side": 1,
      "message": "nit: public member functions ought to have a comment",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "595892e5_e7bfbc98",
        "filename": "compiler/utils/dedupe_set.h",
        "patchSetId": 16
      },
      "lineNbr": 41,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-10-20T22:22:27Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "79d47637_05f89da8",
      "revId": "a0ae91a0d9198489b91f8dacb61d5fc6941210d7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}