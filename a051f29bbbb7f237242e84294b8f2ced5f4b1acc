{
  "comments": [
    {
      "key": {
        "uuid": "5e90e1c5_04f955d6",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:22:37Z",
      "side": 0,
      "message": "We can also remove this.",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 25
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b1e8e960_2d0ba98c",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-11-10T16:26:25Z",
      "side": 0,
      "message": "Are you sure? It\u0027s still used by testrunner.",
      "parentUuid": "5e90e1c5_04f955d6",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 25
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "41c626f2_0ded8842",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:29:50Z",
      "side": 0,
      "message": "It reads from env var not from makefile.",
      "parentUuid": "b1e8e960_2d0ba98c",
      "range": {
        "startLine": 36,
        "startChar": 0,
        "endLine": 38,
        "endChar": 25
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "468d9a61_7ae44e8d",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:22:37Z",
      "side": 0,
      "message": "Not sure if this is used by Gtest.",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 45,
        "endChar": 25
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "eda4af3c_a8a31336",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2017-11-13T11:53:21Z",
      "side": 0,
      "message": "It is, see line 138 below:\n\n  # Define the command run on test failure. $(1) is the name of the test. Executed by the shell.\n  # If the test was a top-level make target (e.g. `test-art-host-gtest-codegen_test64`), the command\n  # fails with exit status 1 (returned by the last `grep` statement below).\n  # Otherwise (e.g., if the test was run as a prerequisite of a compound test command, such as\n  # `test-art-host-gtest-codegen_test`), the command does not fail, as this would break rules running\n  # ART_TEST_PREREQ_FINISHED as one of their actions, which expects *all* prerequisites *not* to fail.\n  define ART_TEST_FAILED\n    ( [ -f $(ART_HOST_TEST_DIR)/skipped/$(1) ] || \\\n      (mkdir -p $(ART_HOST_TEST_DIR)/failed/ \u0026\u0026 touch $(ART_HOST_TEST_DIR)/failed/$(1) \u0026\u0026 \\\n        echo $(ART_TEST_KNOWN_FAILING) | grep -q $(1) \\\n          \u0026\u0026 (echo -e \"$(1) \\e[91mKNOWN FAILURE\\e[0m\") \\\n          || (echo -e \"$(1) \\e[91mFAILED\\e[0m\" \u003e\u00262; echo $(MAKECMDGOALS) | grep -q -v $(1))))\n  endef\n\nI think we should keep it.",
      "parentUuid": "468d9a61_7ae44e8d",
      "range": {
        "startLine": 43,
        "startChar": 0,
        "endLine": 45,
        "endChar": 25
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "12fa822d_d19f99d9",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:22:37Z",
      "side": 0,
      "message": "Not relevant",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 14
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "853e1bc4_e7998387",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-11-10T16:26:25Z",
      "side": 0,
      "message": "how about gtest?",
      "parentUuid": "12fa822d_d19f99d9",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 14
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5d94beaa_61b8df6d",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:29:50Z",
      "side": 0,
      "message": "Though I didn\u0027t see any direct use, but there could be some indirect use of it.",
      "parentUuid": "853e1bc4_e7998387",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 14
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "863a1ee8_630a56a1",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-10T16:38:15Z",
      "side": 0,
      "message": "Gtest is using it.",
      "parentUuid": "5d94beaa_61b8df6d",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 14
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "35b610be_f62351d5",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 54,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2017-11-13T11:53:21Z",
      "side": 0,
      "message": "Indeed, see line 143 below:\n\n  ifeq ($(ART_TEST_QUIET),true)\n    ART_TEST_ANNOUNCE_PASS :\u003d ( true )\n    ART_TEST_ANNOUNCE_RUN :\u003d ( true )\n    ART_TEST_ANNOUNCE_SKIP_FAILURE :\u003d ( true )\n    ART_TEST_ANNOUNCE_SKIP_BROKEN :\u003d ( true )\n  else\n    # Note the use of \u0027\u003d\u0027 and not \u0027:\u003d\u0027 is intentional since these are actually functions.\n    ART_TEST_ANNOUNCE_PASS \u003d ( echo -e \"$(1) \\e[92mPASSED\\e[0m\" )\n    ART_TEST_ANNOUNCE_RUN \u003d ( echo -e \"$(1) \\e[95mRUNNING\\e[0m\")\n    ART_TEST_ANNOUNCE_SKIP_FAILURE \u003d ( echo -e \"$(1) \\e[93mSKIPPING DUE TO EARLIER FAILURE\\e[0m\" )\n    ART_TEST_ANNOUNCE_SKIP_BROKEN \u003d ( echo -e \"$(1) \\e[93mSKIPPING BROKEN TEST\\e[0m\" )\n  endif",
      "parentUuid": "863a1ee8_630a56a1",
      "range": {
        "startLine": 54,
        "startChar": 0,
        "endLine": 54,
        "endChar": 14
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "14b95444_1c18c538",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:22:37Z",
      "side": 0,
      "message": "Not relevant.",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1945ba6a_2f358bcd",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-11-10T16:26:25Z",
      "side": 0,
      "message": "Are you sure? It\u0027s still used by testrunner.",
      "parentUuid": "14b95444_1c18c538",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6d59e245_01ff1ab9",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:29:50Z",
      "side": 0,
      "message": "Same. It does read from makefile. It reads from environment variables.",
      "parentUuid": "1945ba6a_2f358bcd",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b69aa8b2_5cd55dc1",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-10T16:38:15Z",
      "side": 0,
      "message": "Variables set in makefiles are exposed as environment variables by command run from within a makefile...",
      "parentUuid": "6d59e245_01ff1ab9",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2452e1b5_f0650808",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-10T16:40:05Z",
      "side": 0,
      "message": "Although looking at it closer it defaults to true and I dont think we call testrunner from make anymore ever.",
      "parentUuid": "b69aa8b2_5cd55dc1",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1dc62ef6_e1fab1e9",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:41:27Z",
      "side": 0,
      "message": "There is no need for make to expose those variables to testrunner as it can directly read them.\nAlso, I don\u0027t think anybody would be running testrunner from makefiles.",
      "parentUuid": "b69aa8b2_5cd55dc1",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1ed10056_7f8421ab",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2017-11-10T17:12:16Z",
      "side": 0,
      "message": "Variables set in makefiles are _not_ exposed as environment variables unless you add\nexport ART_TEST_RUN_TEST_2ND_ARCH\n\nRunning testrunner from inside make will fail if it calls make, we prevent recursion.",
      "parentUuid": "1dc62ef6_e1fab1e9",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c02c8aef_590522b5",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T17:34:30Z",
      "side": 0,
      "message": "testrunner doesn\u0027t invoke make when called from make except here - https://cs.corp.google.com/android/art/test/testrunner/env.py?sq\u0026l\u003d56.",
      "parentUuid": "1ed10056_7f8421ab",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e20e7036_0811b932",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-10T17:44:09Z",
      "side": 0,
      "message": "We\u0027re not exporting these variables? Then what are they for? Seems like vestigial code.",
      "parentUuid": "c02c8aef_590522b5",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2a01d1c0_400e4f47",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T17:49:08Z",
      "side": 0,
      "message": "Yes, seems like that. Could have just been removed during the transition.",
      "parentUuid": "e20e7036_0811b932",
      "range": {
        "startLine": 118,
        "startChar": 0,
        "endLine": 118,
        "endChar": 26
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "721079e7_7f6eb90b",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1084268
      },
      "writtenOn": "2017-11-10T16:22:37Z",
      "side": 0,
      "message": "Not relevant.",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 121,
        "endChar": 30
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "cd88430e_b54354e4",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 121,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-11-10T16:26:25Z",
      "side": 0,
      "message": "ditto",
      "parentUuid": "721079e7_7f6eb90b",
      "range": {
        "startLine": 121,
        "startChar": 0,
        "endLine": 121,
        "endChar": 30
      },
      "revId": "a051f29bbbb7f237242e84294b8f2ced5f4b1acc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}