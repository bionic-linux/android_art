{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bd7556d4_22afccc0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "This is getting rather hard to read in places, mostly because there are too many interconnected data structures, and too many invariants to keep in mind at once. I unfortunately don\u0027t know how to fix this; I think it\u0027s inherently complicated.\n\nWe have memory regions with pages that go from unavailable to processed-with-data-elsewhere to available. Is there some way to turn that into a separate abstraction that\u0027s documented independently? I don\u0027t know.",
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "87dbf89f_5b5873a5",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2262,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2024-01-28T15:18:23Z",
      "side": 1,
      "message": "Missing \u0027.\u0027",
      "range": {
        "startLine": 2262,
        "startChar": 32,
        "endLine": 2262,
        "endChar": 37
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d9580ea6_fad9f17a",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2262,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-24T01:42:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "87dbf89f_5b5873a5",
      "range": {
        "startLine": 2262,
        "startChar": 32,
        "endLine": 2262,
        "endChar": 37
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "589b7268_75f1f79f",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2267,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "Intended?",
      "range": {
        "startLine": 2267,
        "startChar": 21,
        "endLine": 2267,
        "endChar": 24
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91bcf4bd_fb453b87",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2267,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "589b7268_75f1f79f",
      "range": {
        "startLine": 2267,
        "startChar": 21,
        "endLine": 2267,
        "endChar": 24
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d1206eff_af88a8c9",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2281,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "\"few\" -\u003e \"a few\"\n\nCan we add a short phrase to suggest how they are used later?",
      "range": {
        "startLine": 2281,
        "startChar": 4,
        "endLine": 2281,
        "endChar": 51
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b7eb2816_f07e2840",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 2281,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d1206eff_af88a8c9",
      "range": {
        "startLine": 2281,
        "startChar": 4,
        "endLine": 2281,
        "endChar": 51
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ea60b9d4_c665e881",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3495,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2024-01-28T15:18:23Z",
      "side": 1,
      "message": "extra space",
      "range": {
        "startLine": 3495,
        "startChar": 83,
        "endLine": 3495,
        "endChar": 85
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7ec8f195_4b6d73ad",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3495,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ea60b9d4_c665e881",
      "range": {
        "startLine": 3495,
        "startChar": 83,
        "endLine": 3495,
        "endChar": 85
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bb62d5b4_06e1bf07",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3629,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "Used to be release. But I guess the CopyIoctl fence semantics suffice?",
      "range": {
        "startLine": 3629,
        "startChar": 73,
        "endLine": 3629,
        "endChar": 80
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebc6622f_35fe79f2",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3629,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Yes that was the idea. I hope that\u0027s ok? I think I have used that at several locations (even prior to this CL).",
      "parentUuid": "bb62d5b4_06e1bf07",
      "range": {
        "startLine": 3629,
        "startChar": 73,
        "endLine": 3629,
        "endChar": 80
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c937a283_e37b6708",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3794,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "This is used long before it is assigned anything non-null, so please add a comment about what it represents.",
      "range": {
        "startLine": 3794,
        "startChar": 1,
        "endLine": 3794,
        "endChar": 45
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9fb9c77c_b4e7c8cb",
        "filename": "runtime/gc/collector/mark_compact.cc",
        "patchSetId": 4
      },
      "lineNbr": 3794,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c937a283_e37b6708",
      "range": {
        "startLine": 3794,
        "startChar": 1,
        "endLine": 3794,
        "endChar": 45
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1e8bebb2_59b26c27",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2024-01-28T15:18:23Z",
      "side": 1,
      "message": "drop?",
      "range": {
        "startLine": 161,
        "startChar": 58,
        "endLine": 161,
        "endChar": 60
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4343e2a_26ff2c28",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 161,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-24T01:42:00Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1e8bebb2_59b26c27",
      "range": {
        "startLine": 161,
        "startChar": 58,
        "endLine": 161,
        "endChar": 60
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d0ef960_0548008a",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 525,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "I found this hard to read. Can we do something along the following lines:\n// 1) check the status of to-space pages in the interval (cur_page_idx_, last_checked_reclaim_page_idx_] to see whether the corresponding from-space page can be reused.\n// 2) Map the pages in the range [cur_page_idx, end_idx_for_mapping), ...\n// 3) ...\n(where I don\u0027t currently know how to fill in the ellipses)?",
      "range": {
        "startLine": 521,
        "startChar": 2,
        "endLine": 525,
        "endChar": 47
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a9781679_e359aa47",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 525,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8d0ef960_0548008a",
      "range": {
        "startLine": 521,
        "startChar": 2,
        "endLine": 525,
        "endChar": 47
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5607ac90_973a1efb",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 706,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "Can we instead say something more specific about what especially the last 3 represent? Presumably last_reclaimed_page_ \u003c\u003d last_reclaimable_page, and their meaning is fairly clear. But how does cur_reclaimable_page_ relate?\n\nI find this hard to follow without some statement of the invariants we\u0027re maintaining.",
      "range": {
        "startLine": 705,
        "startChar": 1,
        "endLine": 706,
        "endChar": 51
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e20a8009_19bfbe96",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 706,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "5607ac90_973a1efb",
      "range": {
        "startLine": 705,
        "startChar": 1,
        "endLine": 706,
        "endChar": 51
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7c8d542c_1373edf1",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 721,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2024-02-01T00:42:53Z",
      "side": 1,
      "message": "Is it safe to just say that kProcessed entries also contain the from-space offset? Or is it easy to make that invariant hold? If so, it would be better to describe it that way instead.",
      "range": {
        "startLine": 719,
        "startChar": 29,
        "endLine": 721,
        "endChar": 19
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e16e0b09_655b0610",
        "filename": "runtime/gc/collector/mark_compact.h",
        "patchSetId": 4
      },
      "lineNbr": 721,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2024-03-01T00:35:09Z",
      "side": 1,
      "message": "That\u0027s right. kProcessed entries only can have the offset. Updated the comment.",
      "parentUuid": "7c8d542c_1373edf1",
      "range": {
        "startLine": 719,
        "startChar": 29,
        "endLine": 721,
        "endChar": 19
      },
      "revId": "dc83bb78b7a0496bfba0248d5325a59cc7cede4f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}