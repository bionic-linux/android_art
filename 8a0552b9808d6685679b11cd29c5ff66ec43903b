{
  "comments": [
    {
      "key": {
        "uuid": "19f188a2_4e473364",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "my thought was that if the runtime found a -Ximage oat file that contained relocations, it would require them, rather than have to be told via a command line option.\n\nI don\u0027t know if others have similar thoughts.",
      "range": {
        "startLine": 7,
        "startChar": 0,
        "endLine": 7,
        "endChar": 44
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e8d0cd_a5b6e4c2",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2014-07-15T16:38:05Z",
      "side": 1,
      "message": "I did it this way because only the oat file needs specific support for relocation. This way in image space i don\u0027t need logic to find the oat file and check if we can relocate. Also this is just much simpler and has the nice effect that we can enforce the use of relocated images by changing the default value of a flag.\n\nAs it is if there is an image in both DALVIK_CACHE and /system with the same checksums it will prefer the one in the cache, regardless of the flag.\n\nIf you think it is necessary/preferable I can change it to either remove these flags or make it do the check of the oat file if none are given to it, but I think that the way it is now is fine.",
      "parentUuid": "19f188a2_4e473364",
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "390c8c77_4f5d6d25",
        "filename": "build/Android.common_build.mk",
        "patchSetId": 1
      },
      "lineNbr": 212,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "Like I said on previous CLs, I only want to support positive deltas, so that the base address can be considered a minimum address (which is why I wanted it to be an unsigned size_t value, not an off_t).",
      "range": {
        "startLine": 212,
        "startChar": 41,
        "endLine": 212,
        "endChar": 51
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9f79c98_ab8a0959",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "i\u0027m fine if we only test relocate. also, do the last two cases exist anymore?",
      "range": {
        "startLine": 25,
        "startChar": 0,
        "endLine": 26,
        "endChar": 56
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e8d0cd_e5646c72",
        "filename": "build/Android.common_test.mk",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2014-07-15T16:38:05Z",
      "side": 1,
      "message": "Having non-relocated versions is useful for finding bugs in patchoat.\n\nThe other two still do exist (I think, the make files are confusing).",
      "parentUuid": "b9f79c98_ab8a0959",
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b9f79c98_8b874d51",
        "filename": "compiler/dex/compiler_ir.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "can\u0027t this just be an option in the CompilerDrivers\u0027s CompilerOptions? and didn\u0027t we already add this option there?\n\nthe next file seems to indicate this is just a copy of that. if so, can it be cost? also can we add a comment here (like above) that this is just\n\ncompiler_driver.GetCompilerOptions().GetIncludePatchInformation();\n\nand perhaps rename it to include_patch_information_ for consistency.",
      "range": {
        "startLine": 68,
        "startChar": 0,
        "endLine": 68,
        "endChar": 19
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e8d0cd_25f1f477",
        "filename": "compiler/dex/compiler_ir.h",
        "patchSetId": 1
      },
      "lineNbr": 68,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2014-07-15T16:38:05Z",
      "side": 1,
      "message": "Done\n\nCannot be const because of the way it is set.",
      "parentUuid": "b9f79c98_8b874d51",
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19f188a2_ae3b37e4",
        "filename": "compiler/driver/compiler_callbacks_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "PreferRelocation seems too optional? perhaps RelocateIfNecessary?",
      "range": {
        "startLine": 45,
        "startChar": 9,
        "endLine": 45,
        "endChar": 15
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e8d0cd_059078f7",
        "filename": "compiler/driver/compiler_callbacks_impl.h",
        "patchSetId": 1
      },
      "lineNbr": 45,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2014-07-15T16:38:05Z",
      "side": 1,
      "message": "Changed to IsRelocationPossible",
      "parentUuid": "19f188a2_ae3b37e4",
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19f188a2_ee353fef",
        "filename": "compiler/oat_writer.h",
        "patchSetId": 1
      },
      "lineNbr": 82,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "again, I\u0027ve always said we should only have an unsigned delta.",
      "range": {
        "startLine": 82,
        "startChar": 0,
        "endLine": 82,
        "endChar": 38
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19f188a2_8e38fbe8",
        "filename": "test/etc/push-and-run-prebuilt-test-jar",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1003723
      },
      "writtenOn": "2014-07-15T04:42:51Z",
      "side": 1,
      "message": "not really glad to see a fork of this script. again, I always assumed the runtime would figure out what to do based on what the -Ximage looked like",
      "range": {
        "startLine": 1,
        "startChar": 0,
        "endLine": 1,
        "endChar": 9
      },
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d9e8d0cd_454c4002",
        "filename": "test/etc/push-and-run-prebuilt-test-jar",
        "patchSetId": 1
      },
      "lineNbr": 1,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2014-07-15T16:38:05Z",
      "side": 1,
      "message": "This script is nessecary (for testing) even if we do that. It tests the code path that relocating stuff that was dexpreopt (i.e. it was compiled against a non-relocated image and needs to be moved to a newly relocated image).",
      "parentUuid": "19f188a2_8e38fbe8",
      "revId": "8a0552b9808d6685679b11cd29c5ff66ec43903b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}