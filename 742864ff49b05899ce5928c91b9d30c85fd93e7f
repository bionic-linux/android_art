{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "2dbfa256_1627c795",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-07T06:44:42Z",
      "side": 1,
      "message": "+enh for NDK-API again.",
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "063375ca_aa6c9add",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-08T20:27:30Z",
      "side": 1,
      "message": "Can I please have NDK-API +1? There\u0027s no difference from https://r.android.com/1658000 here.",
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cd1440b_8fb16e4e",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2021-04-08T20:32:30Z",
      "side": 1,
      "message": "+jiyong this sounds like a trivially fixable bug",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4a4d22f2_179e8e55",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-08T20:36:53Z",
      "side": 1,
      "message": "I believe it\u0027s WAI - there was a discussion about it here: https://r.android.com/c/platform/art/+/1620961/5/sigchainlib/libsigchain.map.txt#22",
      "parentUuid": "7cd1440b_8fb16e4e",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "10be08d8_c5565102",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1043845
      },
      "writtenOn": "2021-04-08T21:51:23Z",
      "side": 1,
      "message": "https://android-review.googlesource.com/c/platform/build/soong/+/1670427 says it should work fine. What error are you seeing?",
      "parentUuid": "4a4d22f2_179e8e55",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "616f1950_bee21462",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-09T02:51:55Z",
      "side": 1,
      "message": "Linker doesn\u0027t accept empty map file. I did an experiment in another library (libincident):\n\n```\nFAILED: out/soong/.intermediates/frameworks/base/libs/incident/libincident/android_arm_armv7-a-neon_shared_30/libincident.so\nprebuilts/clang/host/linux-x86/clang-r416183/bin/clang++  @out/soong/.intermediates/frameworks/base/libs/incident/libincident/android_arm_armv7-a-neon_shared_30/libincident.so.rsp   -o out/soong/.intermediates/frameworks/base/libs/incident/libincident/android_arm_armv7-a-neon_shared_30/libincident.so -target armv7a-linux-androideabi10000 -Bprebuilts/gcc/linux-x86/arm/arm-linux-androideabi-4.9/arm-linux-androideabi/bin -Wl,-z,noexecstack -Wl,-z,relro -Wl,-z,now -Wl,--build-id\u003dmd5 -Wl,--warn-shared-textrel -Wl,--fatal-warnings -Wl,--no-undefined-version -Wl,--exclude-libs,libgcc.a -Wl,--exclude-libs,libgcc_stripped.a -Wl,--exclude-libs,libunwind_llvm.a -Wl,--exclude-libs,libunwind.a -Wl,--icf\u003dsafe -fuse-ld\u003dlld -Wl,--pack-dyn-relocs\u003dandroid+relr -Wl,--use-android-relr-tags -Wl,--no-undefined -Wl,--hash-style\u003dgnu -Wl,-m,armelf -Wl,--exclude-libs\u003dlibclang_rt.builtins-arm-android.a  -nostdlib -Wl,--gc-sections -shared -Wl,-soname,libincident.so -Wl,--version-script,out/soong/.intermediates/frameworks/base/libs/incident/libincident/android_arm_armv7-a-neon_shared_30/gen/stub.map \nld.lld: error: out/soong/.intermediates/frameworks/base/libs/incident/libincident/android_arm_armv7-a-neon_shared_30/gen/stub.map:1: unexpected EOF\n```",
      "parentUuid": "10be08d8_c5565102",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2afdd040_88c1dcef",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-09T02:57:26Z",
      "side": 1,
      "message": "Note: in the above experiment, the map file in the source tree was as follows:\n\n```\nLIBINCIDENT {\n    local:\n        *;\n};\n```",
      "parentUuid": "616f1950_bee21462",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7980532e_ab2f0e2f",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-09T08:56:29Z",
      "side": 1,
      "message": "This file isn\u0027t used as version_script though, only for APEX stubs. Is it still fed into the linker as a version script then?",
      "parentUuid": "2afdd040_88c1dcef",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1745aaec_fa260ccb",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-09T10:27:44Z",
      "side": 1,
      "message": "Yes... because APEX stubs are created using the same function as the NDK stubs.\n\nhttps://source.corp.google.com/android/build/soong/cc/ndk_library.go;rcl\u003d74bf62a278f8776fe498b9eb5ef040726ae9285a;l\u003d234\n\nWe perhaps need to revise the implementation of shouldUseVersionScript().",
      "parentUuid": "7980532e_ab2f0e2f",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54ed5f93_27041897",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-09T11:15:50Z",
      "side": 1,
      "message": "Yeah, just to check I did the same change here and got the same error.\n\nMaybe we should fix this, but I prefer to descope that from this change. I don\u0027t think we\u0027re blocking ourselves from dropping LibsigchainNonexistentFunction later.",
      "parentUuid": "7980532e_ab2f0e2f",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52522120_e8be98d5",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1132673
      },
      "writtenOn": "2021-04-11T23:39:49Z",
      "side": 1,
      "message": "Yeah, I agree with you that it\u0027s out of scope.",
      "parentUuid": "54ed5f93_27041897",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "757b3ae4_ac58aca8",
        "filename": "sigchainlib/libsigchain.map.txt",
        "patchSetId": 3
      },
      "lineNbr": 21,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-12T19:05:24Z",
      "side": 1,
      "message": "Thanks. Dan, are you ok with that too? I still need NDK-API +1 here.",
      "parentUuid": "52522120_e8be98d5",
      "range": {
        "startLine": 19,
        "startChar": 0,
        "endLine": 21,
        "endChar": 18
      },
      "revId": "742864ff49b05899ce5928c91b9d30c85fd93e7f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}