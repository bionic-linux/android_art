{
  "comments": [
    {
      "key": {
        "uuid": "f0f4e242_c29904c6",
        "filename": "runtime/mirror/art_method.cc",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-04-13T18:53:16Z",
      "side": 1,
      "message": "This ShadowFrame is not visited by GC so it may contain stale references if a GC occurred during the invoke above.",
      "range": {
        "startLine": 470,
        "startChar": 41,
        "endLine": 470,
        "endChar": 64
      },
      "revId": "c7c0efd3c17f9ed668eb38781945efad698e5df7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10597645_17b4de31",
        "filename": "runtime/mirror/art_method.cc",
        "patchSetId": 4
      },
      "lineNbr": 470,
      "author": {
        "id": 1043514
      },
      "writtenOn": "2015-04-14T07:00:55Z",
      "side": 1,
      "message": "Good point! I\u0027ll fix it.",
      "parentUuid": "f0f4e242_c29904c6",
      "range": {
        "startLine": 470,
        "startChar": 41,
        "endLine": 470,
        "endChar": 64
      },
      "revId": "c7c0efd3c17f9ed668eb38781945efad698e5df7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30ebda64_24867c62",
        "filename": "runtime/thread.h",
        "patchSetId": 4
      },
      "lineNbr": 359,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-04-13T18:53:16Z",
      "side": 1,
      "message": "Can you explain why you need this change?",
      "range": {
        "startLine": 357,
        "startChar": 4,
        "endLine": 359,
        "endChar": 5
      },
      "revId": "c7c0efd3c17f9ed668eb38781945efad698e5df7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "904c868c_a764c4ca",
        "filename": "runtime/thread.h",
        "patchSetId": 4
      },
      "lineNbr": 359,
      "author": {
        "id": 1043514
      },
      "writtenOn": "2015-04-14T07:00:55Z",
      "side": 1,
      "message": "It\u0027s possible there is nested case for QuickExceptionHandler. And each QuickExceptionHandler calls GetLongJumpContext() and then ReleaseLongJumpContext(), so the DCHECK(tlsPtr_.long_jump_context \u003d\u003d nullptr); isn\u0027t accurate.\n\ntlsPtr_.long_jump_context is basically a cached context to avoid allocating a context each time GetLongJumpContext() is called. Since we only cache one, we just delete the one that\u0027s not needed.\n\nGuess I can also do it as:\n    if (tlsPtr_.long_jump_context !\u003d nullptr) {\n      // We already have one context for reuse.\n      delete context;\n    } else {\n      // Save context for reuse.\n      tlsPtr_.long_jump_context \u003d context;\n    }\nIs this better?",
      "parentUuid": "30ebda64_24867c62",
      "range": {
        "startLine": 357,
        "startChar": 4,
        "endLine": 359,
        "endChar": 5
      },
      "revId": "c7c0efd3c17f9ed668eb38781945efad698e5df7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}