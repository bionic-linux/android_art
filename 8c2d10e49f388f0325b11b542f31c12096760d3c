{
  "comments": [
    {
      "key": {
        "uuid": "1583872a_c2f94470",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1308278
      },
      "writtenOn": "2020-07-08T12:10:12Z",
      "side": 1,
      "message": "I am interested in how Integer.divideUnsigned is used. Could you share this information?\nMaybe, instead of the intrinsic, it is worth to replace the call with HDiv(UInt32 dividend, UInt32 divisor). If the divisor is a constant, more effective code is generated.",
      "revId": "8c2d10e49f388f0325b11b542f31c12096760d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e3074c57_966f4c38",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1308278
      },
      "writtenOn": "2020-07-08T12:18:56Z",
      "side": 1,
      "message": "Out of curiosity, is Integer.divideUnsigned inlined?\nI\u0027ve been working on recognition of non-negative dividends. If everything is inlined, it is not difficult to detect that dividend and divisor are non-negative.\nThere is \u0027IsGEZero(HInstruction* instruction)\u0027 where the logic can be added.",
      "parentUuid": "1583872a_c2f94470",
      "revId": "8c2d10e49f388f0325b11b542f31c12096760d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c075a6a3_025a001b",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2020-07-08T12:47:08Z",
      "side": 1,
      "message": "Hi Evgeny, this work is motivated by:\n\n  https://issuetracker.google.com/issues/154693569\n\nwhich in turn probably comes from:\n\n  https://jakewharton.com/which-is-better-on-android-divide-by-two-or-shift-by-one/ \n\nWe\u0027re using it as a warm-up project for Andra\u0027s internship.\n\nWe debated whether to replace with HDiv or implement as an an instrinsic, but we felt instrinsic was probably sufficient and low risk: existing code might be surprised by unsigned types.\n\nThere isn\u0027t widespread usage of Integer.divideUnsigned() (or Long.divideUnsigned()). AFAIK, the only actual usage on Android is with openjdk\u0027s java.util.stream.LongStream.\n\nNot averse to a future change taking the direction you are suggesting.",
      "parentUuid": "e3074c57_966f4c38",
      "revId": "8c2d10e49f388f0325b11b542f31c12096760d3c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}