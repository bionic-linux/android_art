{
  "comments": [
    {
      "key": {
        "uuid": "2ce568e3_016c8954",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-03-22T13:47:22Z",
      "side": 1,
      "message": "What if --compiler-filter has not been specified? Does this duplicate the arguments?\n\nIf the script is reaching out to sed, the script could just use:\necho $@ | sed -e \u0027/\\(--compiler-filter\u003d\\)/\\1interpret-only/\u0027\n\nIt doesn\u0027t look like the -r\u0027s are needed in the existing invocations.",
      "range": {
        "startLine": 111,
        "startChar": 11,
        "endLine": 111,
        "endChar": 61
      },
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "934c6a57_54aa6ce1",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-03-22T14:48:51Z",
      "side": 1,
      "message": "This approach has some potential issues, it will strip whitespace from the arguments. Plus see Orion\u0027s comment.\n\nInstead I recommend to loop through $0 until $# , if you find compiler-filter replace it with what you want.\n\n    extra\u003d\"--compiler-filter\u003dinterpret-only\"\n    while ...\n       if [ ${$i} \u003d\u003d --compiler-filter\u003d* ]; then\n          ${$i}\u003d\"--compiler-filter\u003dinterpret-only\"\n          extra\u003d\"\"\n       fi\n     done\n\n     .... dalvikvm \"$extra\" \"$@\"",
      "parentUuid": "2ce568e3_016c8954",
      "range": {
        "startLine": 111,
        "startChar": 11,
        "endLine": 111,
        "endChar": 61
      },
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b97590ca_d20d63bb",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-03-22T14:48:51Z",
      "side": 1,
      "message": "Not going to work with golem, the first run\u0027s output needs to be stripped otherwise it will get 2 sets of metrics for the same run.",
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93d83b99_45236b8a",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 128,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-03-22T14:48:51Z",
      "side": 1,
      "message": "What if the MODARGS have any of the args above..? It\u0027s ok?",
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0dc73955_0bbc00e3",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 137,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-03-22T14:48:51Z",
      "side": 1,
      "message": "It needs to support multiple classpaths (and multiple -cp args). golem uses that quite frequently for example dacapo, specjvm etc.",
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "1094e682_dec5e7c2",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 142,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-03-22T13:47:22Z",
      "side": 1,
      "message": "The more traditional sed usage would be s_/__ as sed will take the first character after s and use that as the pattern separator.",
      "range": {
        "startLine": 142,
        "startChar": 15,
        "endLine": 142,
        "endChar": 20
      },
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2777d8e_9db6b64c",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 143,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-03-22T13:47:22Z",
      "side": 1,
      "message": "s_/_@_g",
      "range": {
        "startLine": 143,
        "startChar": 14,
        "endLine": 143,
        "endChar": 23
      },
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19ccb0f6_d38afe04",
        "filename": "tools/art",
        "patchSetId": 6
      },
      "lineNbr": 144,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-03-22T13:47:22Z",
      "side": 1,
      "message": "This looks like the only place needing -r. Alternatively, the script could use [.] instead of -r and \\.\n\nThis script only needs a single invocation of sed. It would use less resources with a single sed instance:\n\nsed -e \u0027s/.*-cp[^ ]* //\u0027 \\\n    -e ... \\\n    -e ... \\\n    -e ...",
      "range": {
        "startLine": 144,
        "startChar": 14,
        "endLine": 144,
        "endChar": 20
      },
      "revId": "d2585081d2f3829c4cd381ef8df2379297f53579",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}