{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "24d22786_2de26f71",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-11-23T15:10:36Z",
      "side": 1,
      "message": "PS5 fixes one more test failure.",
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6df87c51_6320bad3",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-11-24T10:45:54Z",
      "side": 1,
      "message": "Why would an error occur in checking if the APK has dex files?",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "36ebb957_e3804438",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-11-24T15:25:34Z",
      "side": 1,
      "message": "Failed to open the file, failed to read the magic, failed to read the file as a zip file, etc.",
      "parentUuid": "6df87c51_6320bad3",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "081b4b20_bd0fa7eb",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-11-24T15:30:00Z",
      "side": 1,
      "message": "OK, but should that be another CL then?",
      "parentUuid": "36ebb957_e3804438",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b121128_46c3e75a",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-11-24T15:51:20Z",
      "side": 1,
      "message": "I had to change this in this CL because otherwise oat_file_assistant_test will fail (see the presubmit failures on PS3). Basically, I changed the semantics of `ArtDexFileLoader::GetMultiDexChecksums`, so I have to update all the callers to adapt to the new semantics, and `HasDexFiles` is one of them.\n\nThe change to this method is a no-op from the perspective of the API. The API that we expose to the platform is `GetDexOptNeeded`, and you can see that, in `GetDexOptNeeded`, I just log a warning for this error and ignore it, so that the API keeps behave the same.",
      "parentUuid": "081b4b20_bd0fa7eb",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96fecb4b_31e51ee7",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-11-25T10:34:28Z",
      "side": 1,
      "message": "Sorry for re-opening again, but what\u0027s the downside of return false on HasDexfiles if there are any errors?",
      "parentUuid": "2b121128_46c3e75a",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "944c3a86_a9ec8521",
        "filename": "runtime/oat_file_assistant.h",
        "patchSetId": 5
      },
      "lineNbr": 287,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2022-11-25T12:56:03Z",
      "side": 1,
      "message": "Then caller would lose the ability to distinguish failure from APK with no dex code. Someone may write buggy code that calls this function without being aware that it can actually fail, and introduce subtle bugs. In fact, it happened on `GetRequiredDexChecksums` (see the subsequent CL), and it can also happen on this function in the future.",
      "parentUuid": "96fecb4b_31e51ee7",
      "range": {
        "startLine": 287,
        "startChar": 65,
        "endLine": 287,
        "endChar": 98
      },
      "revId": "e710da574b42a9f31bc647d85e57178e60aedc91",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}