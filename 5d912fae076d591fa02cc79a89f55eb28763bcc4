{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "37d43e75_fa287239",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-25T15:14:03Z",
      "side": 1,
      "message": "How expensive is it? A dump is already heavyweight - this adds significantly to it?",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7bc7cc87_d70d5595",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-25T19:05:56Z",
      "side": 1,
      "message": "Yes, this can potentially add significantly to the already heavyweight dump operation. Every signature verification involves calculating a digest, etc., so it\u0027s expensive. In the worst case, every APK has an SDM associated to it, so we\u0027ll be performing the signature verification on `2n` files, where `n` is usually \u003e100.",
      "parentUuid": "37d43e75_fa287239",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4d122693_93b1a55a",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-26T16:51:47Z",
      "side": 1,
      "message": "Just to get a sense of how bad it is, what are we talking about in extra time? Is it like half a sec per file?",
      "parentUuid": "7bc7cc87_d70d5595",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aba626d6_0fc5745c",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-26T22:44:50Z",
      "side": 1,
      "message": "Will experiment it and get back to you.",
      "parentUuid": "4d122693_93b1a55a",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2c663015_25374986",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-27T18:07:02Z",
      "side": 1,
      "message": "I tried running this on all APKs on Pixel 8 with 284 pre-installed APKs, and it took 49s.",
      "parentUuid": "aba626d6_0fc5745c",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54ead5bf_98367c02",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 158,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-27T19:23:03Z",
      "side": 1,
      "message": "Thanks, is that 49s longer than without `--verify-sdm-signatures`?",
      "parentUuid": "2c663015_25374986",
      "range": {
        "startLine": 158,
        "startChar": 11,
        "endLine": 158,
        "endChar": 65
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a45aa739_cd79388c",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 240,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-25T15:14:03Z",
      "side": 1,
      "message": "If this is the expensive call, then what about letting the flag control skipping only it?\n\nIt seems useful to see whether an sdm file exists regardless of the flag, at least.",
      "range": {
        "startLine": 240,
        "startChar": 34,
        "endLine": 240,
        "endChar": 51
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b42db59a_c8bc277f",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 240,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-25T19:05:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a45aa739_cd79388c",
      "range": {
        "startLine": 240,
        "startChar": 34,
        "endLine": 240,
        "endChar": 51
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d97dae52_ed0f97e2",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 247,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-25T15:14:03Z",
      "side": 1,
      "message": "`mismatched-signers`?",
      "range": {
        "startLine": 247,
        "startChar": 37,
        "endLine": 247,
        "endChar": 54
      },
      "fixSuggestions": [
        {
          "fixId": "873bcf30_c4ab5274",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "libartservice/service/java/com/android/server/art/DumpHelper.java",
              "range": {
                "startLine": 247,
                "startChar": 0,
                "endLine": 248,
                "endChar": 0
              },
              "replacement": "                        signature \u003d \"mismatched-signers\";\n"
            }
          ]
        }
      ],
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13547a23_677bff9c",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 247,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-25T19:05:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d97dae52_ed0f97e2",
      "range": {
        "startLine": 247,
        "startChar": 37,
        "endLine": 247,
        "endChar": 54
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6238c16f_1fdaf0b0",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 307,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-11-25T15:14:03Z",
      "side": 1,
      "message": "Delete?",
      "range": {
        "startLine": 306,
        "startChar": 0,
        "endLine": 307,
        "endChar": 60
      },
      "fixSuggestions": [
        {
          "fixId": "5788c086_fa56a8f0",
          "description": "prompt_to_edit API",
          "replacements": [
            {
              "path": "libartservice/service/java/com/android/server/art/DumpHelper.java",
              "range": {
                "startLine": 306,
                "startChar": 0,
                "endLine": 308,
                "endChar": 0
              },
              "replacement": ""
            }
          ]
        }
      ],
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13515ac1_5620b0e0",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 7
      },
      "lineNbr": 307,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-11-25T19:05:56Z",
      "side": 1,
      "message": "Sorry, this was premature. I need these annotations.",
      "parentUuid": "6238c16f_1fdaf0b0",
      "range": {
        "startLine": 306,
        "startChar": 0,
        "endLine": 307,
        "endChar": 60
      },
      "revId": "5d912fae076d591fa02cc79a89f55eb28763bcc4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}