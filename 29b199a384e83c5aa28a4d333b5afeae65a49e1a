{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "4724cbb4_59023dee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1989777
      },
      "writtenOn": "2024-06-03T13:29:54Z",
      "side": 1,
      "message": "Could the results from the failing presubmit tests please be shared? I cannot see anything in the checks tab and assume I do not have access to these results.",
      "revId": "29b199a384e83c5aa28a4d333b5afeae65a49e1a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8f60d693_a69c8bdc",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2024-06-03T14:16:33Z",
      "side": 1,
      "message": "Yes sure. There are two problems, one of them is building on riscv:\n\n```\nmv a0, SP\n           ^\n\u003cinstantiation\u003e:3:5: note: while in macro instantiation\n    PREPARE_AND_DO_LONG_JUMP\n    ^\nart/runtime/arch/riscv64/jni_entrypoints_riscv64.S:448:5: note: while in macro instantiation\n    DELIVER_PENDING_EXCEPTION_FRAME_READY\n    ^\n\u003cinstantiation\u003e:11:17: error: unknown operand\n    add a1, sp, #264\n                ^\n\u003cinstantiation\u003e:3:5: note: while in macro instantiation\n    PREPARE_AND_DO_LONG_JUMP\n    ^\nart/runtime/arch/riscv64/jni_entrypoints_riscv64.S:448:5: note: while in macro instantiation\n    DELIVER_PENDING_EXCEPTION_FRAME_READY\n    ^\n\u003cinstantiation\u003e:10:12: error: invalid operand for instruction\n    mv a0, SP\n           ^\nart/runtime/arch/riscv64/jni_entrypoints_riscv64.S:529:5: note: while in macro instantiation\n    PREPARE_AND_DO_LONG_JUMP\n    ^\n\u003cinstantiation\u003e:11:17: error: unknown operand\n    add a1, sp, #264\n                ^\nart/runtime/arch/riscv64/jni_entrypoints_riscv64.S:529:5: note: while in macro instantiation\n    PREPARE_AND_DO_LONG_JUMP\n ```\n \n \n The other is related to cfi in method exit hook:\n \n ```\n Reproduce locally with m out/soong/.intermediates/art/tools/check_cfi/android_arm64_armv8-2a_cortex-a55/c0c8ce1d9ae443881f7dd8bc7031bf7b/gen/check_cfi.txt\n\n...\n0x00210e9c [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 str x16, [x19, #0xa8]\n0x00210ea0 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 mov x2, #0x0 // \u003d0\n0x00210ea4 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 mov x1, x0\n0x00210ea8 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 mov x0, x19\n0x00210eac [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 bl 0x8c4db0 \u003cartDeoptimizeIfNeeded\u003e\n0x00210eb0 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 cbnz w0, 0x210f40 \u003cart_quick_lock_object_no_inline+0x1a0\u003e\n0x00210eb4 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 ldr x0, [sp, #0x110]\n0x00210eb8 [quick_entrypoints_arm64.S:871]: dwarf\u003d512 inferred\u003d512 ldp d0, d1, [sp, #0x10]\n... 26473 lines skipped ...\n0x0022d490 [quick_entrypoints_arm64.S:2559]: dwarf\u003d512 inferred\u003d512 ldp x23, x24, [sp, #0x1c0]\n0x0022d494 [quick_entrypoints_arm64.S:2559]: dwarf\u003d512 inferred\u003d512 ldp x25, x26, [sp, #0x1d0]\n0x0022d498 [quick_entrypoints_arm64.S:2559]: dwarf\u003d512 inferred\u003d512 ldp x27, x28, [sp, #0x1e0]\n0x0022d49c [quick_entrypoints_arm64.S:2559]: dwarf\u003d512 inferred\u003d512 ldp x29, x30, [sp, #0x1f0]\n0x0022d4a0 [quick_entrypoints_arm64.S:2559]: dwarf\u003d512 inferred\u003d512 add sp, sp, #0x200\n0x0022d4a4 [quick_entrypoints_arm64.S:2560]: dwarf\u003d0 inferred\u003d0 ldr w20, [x19, #0x20]\n0x0022d4a8 [quick_entrypoints_arm64.S:2561]: dwarf\u003d0 inferred\u003d0 ret\n0x0022d4ac [quick_entrypoints_arm64.S:2565]: dwarf\u003d0 inferred\u003d512 sub sp, sp, #0x210\n0x0022d4b0 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 mov x0, x19\n0x0022d4b4 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 mov x1, sp\n0x0022d4b8 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 add x2, sp, #0x110\n0x0022d4bc [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 bl 0x887990 \u003cartContextCopyForLongJump\u003e\n0x0022d4c0 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 mov x0, sp\n0x0022d4c4 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 add x1, sp, #0x110\n0x0022d4c8 [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 bl 0x210cc0 \u003cart_quick_do_long_jump\u003e\n0x0022d4cc [quick_entrypoints_arm64.S:2565]: dwarf\u003d528 inferred\u003d1040 brk #0\n0x0022d4ac [quick_entrypoints_arm64.S:2565]: ERROR in art_quick_method_exit_hook: DWARF offset does not match inferred offset\n\n182 ERROR(s) in out/soong/.intermediates/art/runtime/libart-unstripped/android_arm64_armv8-2a_cortex-a55_shared/c0c8ce1d9ae443881f7dd8bc7031bf7b/libart-unstripped.so\nexit status 1\n ```\n \n If you need help with reproducing these locally let me know. I haven\u0027t looked at them in detail yet.",
      "parentUuid": "4724cbb4_59023dee",
      "revId": "29b199a384e83c5aa28a4d333b5afeae65a49e1a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}