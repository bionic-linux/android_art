{
  "comments": [
    {
      "key": {
        "uuid": "133de99e_31146a5c",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "Please add a (virtual) HasSideEffects method on HInstruction.",
      "range": {
        "startLine": 25,
        "startChar": 12,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10807fc3_39f9eb9a",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1013855
      },
      "writtenOn": "2014-09-04T00:09:38Z",
      "side": 1,
      "message": "I agree with Nicolas here.",
      "parentUuid": "133de99e_31146a5c",
      "range": {
        "startLine": 25,
        "startChar": 12,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90d1cfe4_b24bc03c",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-04T09:50:25Z",
      "side": 1,
      "message": "Actually, once https://android-review.googlesource.com/#/c/106342 gets in, you can just use the SideEffects class.",
      "parentUuid": "10807fc3_39f9eb9a",
      "range": {
        "startLine": 25,
        "startChar": 12,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_dfdc5ff8",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 25,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:20:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "133de99e_31146a5c",
      "range": {
        "startLine": 25,
        "startChar": 12,
        "endLine": 25,
        "endChar": 34
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f04e8b81_24a447a5",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1013855
      },
      "writtenOn": "2014-09-04T00:09:38Z",
      "side": 1,
      "message": "I do not see how this is safe to remove. This updates the heap. This is only okay to remove if the array does not escape and you have successfully disambiguated heap accesses.",
      "range": {
        "startLine": 34,
        "startChar": 14,
        "endLine": 34,
        "endChar": 24
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_5c1b7d0a",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-04T09:50:25Z",
      "side": 1,
      "message": "Note that there is a ! line 27. So ArraySet is not in the list of things to be removed.",
      "parentUuid": "f04e8b81_24a447a5",
      "range": {
        "startLine": 34,
        "startChar": 14,
        "endLine": 34,
        "endChar": 24
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_3c1a3104",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-04T09:50:25Z",
      "side": 1,
      "message": "parallel moves are inserted after register allocation, so you should never see one when doing graph optimizations.",
      "range": {
        "startLine": 35,
        "startChar": 14,
        "endLine": 35,
        "endChar": 28
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_bf371364",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d0a0a75c_3c1a3104",
      "range": {
        "startLine": 35,
        "startChar": 14,
        "endLine": 35,
        "endChar": 28
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "50583741_0fd04601",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 43,
      "author": {
        "id": 1013855
      },
      "writtenOn": "2014-09-04T00:09:38Z",
      "side": 1,
      "message": "Linear pass through blocks is likely not going to be effective for DCE.",
      "range": {
        "startLine": 43,
        "startChar": 7,
        "endLine": 43,
        "endChar": 44
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "133de99e_91499e7f",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "Phis should probably be dealt separately (and already are in SsaDeadPhiElimination), since we statically know they never have side effects.",
      "range": {
        "startLine": 45,
        "startChar": 9,
        "endLine": 45,
        "endChar": 29
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b09df327_9e61f964",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 45,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:20:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "133de99e_91499e7f",
      "range": {
        "startLine": 45,
        "startChar": 9,
        "endLine": 45,
        "endChar": 29
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33582d1a_cf09bd94",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "I don\u0027t think you need a worklist approach. You could just do a post-dominator visit and remove dead instructions. This way, you ensure dead instructions cannot be used by dead instructions.",
      "range": {
        "startLine": 61,
        "startChar": 10,
        "endLine": 61,
        "endChar": 19
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_5f1b6f0a",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 61,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:20:11Z",
      "side": 1,
      "message": "Done in https://android-review.googlesource.com/#/c/106492/1",
      "parentUuid": "33582d1a_cf09bd94",
      "range": {
        "startLine": 61,
        "startChar": 10,
        "endLine": 61,
        "endChar": 19
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "33582d1a_6f04517d",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "Always use braces for control flow.",
      "range": {
        "startLine": 81,
        "startChar": 21,
        "endLine": 81,
        "endChar": 24
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90d1cfe4_b5c08a62",
        "filename": "compiler/optimizing/dead_code_elimination.cc",
        "patchSetId": 2
      },
      "lineNbr": 81,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:20:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "33582d1a_6f04517d",
      "range": {
        "startLine": 81,
        "startChar": 21,
        "endLine": 81,
        "endChar": 24
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "10807fc3_59bce7c5",
        "filename": "compiler/optimizing/dead_code_elimination.h",
        "patchSetId": 2
      },
      "lineNbr": 28,
      "author": {
        "id": 1013855
      },
      "writtenOn": "2014-09-04T00:09:38Z",
      "side": 1,
      "message": "Seem a pass infrastructure like in Quick would be more useful. So that these optimizations can be easily controlled and reran as needed.",
      "range": {
        "startLine": 28,
        "startChar": 6,
        "endLine": 28,
        "endChar": 25
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d398b1f7_5cabbdfb",
        "filename": "compiler/optimizing/dead_code_elimination_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "I think you should check you did eliminate the instructions you think should be eliminated.",
      "range": {
        "startLine": 47,
        "startChar": 22,
        "endLine": 47,
        "endChar": 27
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0a0a75c_df577f8a",
        "filename": "compiler/optimizing/dead_code_elimination_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 47,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:20:11Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d398b1f7_5cabbdfb",
      "range": {
        "startLine": 47,
        "startChar": 22,
        "endLine": 47,
        "endChar": 27
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d398b1f7_1ca1351c",
        "filename": "compiler/optimizing/dead_code_elimination_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2014-09-01T13:52:25Z",
      "side": 1,
      "message": "Nit: /** and * at each line.",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 2
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b09df327_fe6fdd35",
        "filename": "compiler/optimizing/dead_code_elimination_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 55,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2014-09-04T14:32:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d398b1f7_1ca1351c",
      "range": {
        "startLine": 55,
        "startChar": 0,
        "endLine": 55,
        "endChar": 2
      },
      "revId": "bd808a3dfe887cea9e9c9e7ffb4ad3850f53b425",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}