{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6a8de488_07e9ce19",
        "filename": "runtime/mirror/string-inl.h",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2023-10-09T12:03:29Z",
      "side": 1,
      "message": "nit: in Java APIs ranges are only half open. But here end is closed, i.e. it\u0027s `..end]`, not `..end)`.",
      "range": {
        "startLine": 71,
        "startChar": 59,
        "endLine": 71,
        "endChar": 70
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "09ceed16_20c8bcb8",
        "filename": "runtime/mirror/string-inl.h",
        "patchSetId": 1
      },
      "lineNbr": 71,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-09T13:37:56Z",
      "side": 1,
      "message": "Done. Renamed the argument.",
      "parentUuid": "6a8de488_07e9ce19",
      "range": {
        "startLine": 71,
        "startChar": 59,
        "endLine": 71,
        "endChar": 70
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2824c390_d367367c",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2023-10-09T12:03:29Z",
      "side": 1,
      "message": "Should they be declared after `if` statement?",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9802be20_72fed68a",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-09T13:37:56Z",
      "side": 1,
      "message": "I initially did so, but both styles seems to exist in the ART code base. However, I can\u0027t exactly find the reasons from the documentation. But it\u0027s more clear when these 3 handles are allocated with this current style. Are you concerned with the overhead?",
      "parentUuid": "2824c390_d367367c",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "adb2cb8c_fb4cb6d6",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2023-10-10T10:25:34Z",
      "side": 1,
      "message": "I would define the `h_name` using the result of the `ComputeName()`.\nAnd I would not define `h_inner_name` at all, the `class_name` does not need to be wrapped in a `Handle\u003c\u003e` in that code path.",
      "parentUuid": "9802be20_72fed68a",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "56a95dd1_c3bee58d",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-10T15:29:46Z",
      "side": 1,
      "message": "I was told that Handle is needed if there is a suspend check. For `h_inner_name`, how do I know `GetDeclaringClass` and `GetEnclosingMethod` doesn\u0027t have a suspend check given that it has allocations?\n\nOtherwise, it\u0027s done in https://r.android.com/2781307.",
      "parentUuid": "adb2cb8c_fb4cb6d6",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3ddb7e18_c22c0e04",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2023-10-10T15:42:07Z",
      "side": 1,
      "message": "Sorry, I was wrong, the `h_inner_name` is actually needed. When I see `GetDeclaringClass()` I think of the `Art{Method,Field}::GetDeclaringClass()` which cannot suspend but the `annotations::GetDeclaringClass()` is different. The hint is in the parameter type - it takes a `Handle\u003c\u003e`.",
      "parentUuid": "56a95dd1_c3bee58d",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "02f3b573_afd8805e",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 688,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-13T16:04:00Z",
      "side": 1,
      "message": "Thanks for confirmation. Done for moving `h_name` in https://r.android.com/2781307.",
      "parentUuid": "3ddb7e18_c22c0e04",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9891a152_41bb8b78",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 705,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2023-10-09T12:03:29Z",
      "side": 1,
      "message": "Won\u0027t `soa.AddLocalReference\u003cjstring\u003e(class_name)` work here?",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2ba3ac08_08d5f661",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 705,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-09T13:37:56Z",
      "side": 1,
      "message": "I think that `annotations::GetDeclaringClass` or `annotations::GetEnclosingMethod` may have suspend points, and use handle instead.",
      "parentUuid": "9891a152_41bb8b78",
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd94efae_3d5912fd",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 714,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2023-10-09T12:03:29Z",
      "side": 1,
      "message": "`dot_index`",
      "range": {
        "startLine": 714,
        "startChar": 10,
        "endLine": 714,
        "endChar": 18
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84cd1ff7_18b07437",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 714,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-09T13:37:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dd94efae_3d5912fd",
      "range": {
        "startLine": 714,
        "startChar": 10,
        "endLine": 714,
        "endChar": 18
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ab3cda7a_06c65a2d",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 718,
      "author": {
        "id": 1793992
      },
      "writtenOn": "2023-10-09T12:03:29Z",
      "side": 1,
      "message": "`start_index`",
      "range": {
        "startLine": 718,
        "startChar": 10,
        "endLine": 718,
        "endChar": 20
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "392efb6e_c243881c",
        "filename": "runtime/native/java_lang_Class.cc",
        "patchSetId": 1
      },
      "lineNbr": 718,
      "author": {
        "id": 1047684
      },
      "writtenOn": "2023-10-09T13:37:56Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ab3cda7a_06c65a2d",
      "range": {
        "startLine": 718,
        "startChar": 10,
        "endLine": 718,
        "endChar": 20
      },
      "revId": "113582ffaa2c5909cb7d3481813413711de9c5ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}