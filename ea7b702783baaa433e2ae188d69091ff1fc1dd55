{
  "comments": [
    {
      "key": {
        "uuid": "9609fab1_abf7757d",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-11-06T11:43:56Z",
      "side": 1,
      "message": "Thanks :-).",
      "range": {
        "startLine": 10,
        "startChar": 45,
        "endLine": 11,
        "endChar": 37
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d69a9277_921bd1fd",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-11-06T18:28:35Z",
      "side": 1,
      "message": "Nit: May I suggest a change of naming that would emphasize that this computes a common dominator for an arbitrary-sized set of blocks:\n - class: CommonDominator\n - static CommonDominator: ForPair\n - instance CommonDominator: just Get, or GetCommonDominator\n - instance Update: AddBlock",
      "range": {
        "startLine": 24,
        "startChar": 6,
        "endLine": 24,
        "endChar": 27
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d61d32f8_9a7c2d9c",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T19:03:24Z",
      "side": 1,
      "message": "I\u0027ll keep the \"Update\", I find it more descriptive. This is not a container.",
      "parentUuid": "d69a9277_921bd1fd",
      "range": {
        "startLine": 24,
        "startChar": 6,
        "endLine": 24,
        "endChar": 27
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b637de6a_64c0a4fe",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 24,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-11-09T10:33:04Z",
      "side": 1,
      "message": "Fair enough, in that case I suggest UpdateWith, but that\u0027s just me being picky...",
      "parentUuid": "d61d32f8_9a7c2d9c",
      "range": {
        "startLine": 24,
        "startChar": 6,
        "endLine": 24,
        "endChar": 27
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "760c86c0_27f3ba08",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2015-11-06T11:57:18Z",
      "side": 1,
      "message": "also private.",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 34,
        "endChar": 10
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56030291_a6b9e63c",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T12:46:43Z",
      "side": 1,
      "message": "No, this is exactly as intended even if it\u0027s not yet fully used in this CL.",
      "parentUuid": "760c86c0_27f3ba08",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 34,
        "endChar": 10
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1698aa84_fdbce8e0",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-11-06T17:59:56Z",
      "side": 1,
      "message": "I\u0027m not a fan of future use claims. I\u0027d prefer if you kept it simple (the algorithm can be written as FindCommonDominator and DominatorChainLength helper functions) and later modified it, or used straight away.\n\nI take it that means you want to keep a CommonDominatorFinder instance per block in the ComputeDominanceInformation function to save one ChainLength call and some equalize iterations. But then you\u0027re trading back speed for space. It would be good to get some numbers on that, perhaps focusing mainly on the pathological cases, to find the right balance.",
      "parentUuid": "56030291_a6b9e63c",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 34,
        "endChar": 10
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b637de6a_644f44b8",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T18:09:34Z",
      "side": 1,
      "message": "This CL was split out of https://android-review.googlesource.com/180842 . There would be no point in doing so if another refactoring was needed immediately in that CL anyway.\n\nTrading speed for space? What space? 8B/16B on the stack is absolutely irrelevant; assuming it\u0027s even stored on the stack and not scalarized and promoted.",
      "parentUuid": "1698aa84_fdbce8e0",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 34,
        "endChar": 10
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1698aa84_5d75fcd5",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 34,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-11-06T18:28:35Z",
      "side": 1,
      "message": "Okay, I see your motivation now. I thought you were gonna keep blocks.size() array of these in ComputeDominatorInformation.",
      "parentUuid": "b637de6a_644f44b8",
      "range": {
        "startLine": 34,
        "startChar": 2,
        "endLine": 34,
        "endChar": 10
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6127ed6_69b4e53f",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2015-11-06T11:57:18Z",
      "side": 1,
      "message": "I find it slightly hard to read the code with block and block2 names.",
      "range": {
        "startLine": 40,
        "startChar": 7,
        "endLine": 40,
        "endChar": 13
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d60ff2af_eabfa71f",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T12:46:43Z",
      "side": 1,
      "message": "We\u0027re working with two interchangeable blocks here, so what else would you name them?",
      "parentUuid": "b6127ed6_69b4e53f",
      "range": {
        "startLine": 40,
        "startChar": 7,
        "endLine": 40,
        "endChar": 13
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b686fe2b_55c5cfaf",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-11-06T18:28:35Z",
      "side": 1,
      "message": "+1. How about \u0027new_block\u0027 for the parameter and \u0027old_dominator\u0027 for the other one.",
      "parentUuid": "d60ff2af_eabfa71f",
      "range": {
        "startLine": 40,
        "startChar": 7,
        "endLine": 40,
        "endChar": 13
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16e42a25_cf5e4128",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 40,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T19:03:24Z",
      "side": 1,
      "message": "The moment I start equalizing the chain lengths (line 50), those names don\u0027t make sense anymore.",
      "parentUuid": "b686fe2b_55c5cfaf",
      "range": {
        "startLine": 40,
        "startChar": 7,
        "endLine": 40,
        "endChar": 13
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d6345268_c235e285",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2015-11-06T11:57:18Z",
      "side": 1,
      "message": "why not \n\nif (block \u003d\u003d dominator_) { return; }\n\nand DCHECK at the end of the function that domniator_ !\u003d nullptr (such that you have an invariant)",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 46,
        "endChar": 5
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96173ad8_f8ca1172",
        "filename": "compiler/optimizing/common_dominator_finder.h",
        "patchSetId": 2
      },
      "lineNbr": 46,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T12:46:43Z",
      "side": 1,
      "message": "That\u0027s purely a matter of style. Note that the !\u003d nullptr is enforced throughout this function, so I find an extra DCHECK(dominator_ !\u003d nullptr) at the end unnecessary.",
      "parentUuid": "d6345268_c235e285",
      "range": {
        "startLine": 44,
        "startChar": 1,
        "endLine": 46,
        "endChar": 5
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b6127ed6_c9c4f1b6",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 2
      },
      "lineNbr": 185,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2015-11-06T11:57:18Z",
      "side": 1,
      "message": "I find it hard to understand this comment. Could you try rephrase it?",
      "range": {
        "startLine": 183,
        "startChar": 8,
        "endLine": 185,
        "endChar": 67
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16e42a25_2f594583",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 2
      },
      "lineNbr": 185,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-11-06T12:46:43Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b6127ed6_c9c4f1b6",
      "range": {
        "startLine": 183,
        "startChar": 8,
        "endLine": 185,
        "endChar": 67
      },
      "revId": "ea7b702783baaa433e2ae188d69091ff1fc1dd55",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}