{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "3593ea2d_b351d641",
        "filename": "runtime/gc/heap.h",
        "patchSetId": 7
      },
      "lineNbr": 155,
      "author": {
        "id": 1280281
      },
      "writtenOn": "2023-11-09T16:32:32Z",
      "side": 1,
      "message": "@lokeshgidra@google.com, @hboehm@google.com, could you please suggest if the understanding is correct that this isn\u0027t longer expected to be the case for non-4K page size as well as for 4K and the TODO should be removed?",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 155,
        "endChar": 57
      },
      "revId": "148d346eb312b06d8b3d60885f3ccf5ba23956f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "943155e0_03b5727c",
        "filename": "runtime/gc/heap.h",
        "patchSetId": 7
      },
      "lineNbr": 155,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2023-11-17T23:56:25Z",
      "side": 1,
      "message": "I think the right value here is unlikely to be a multiple of 4K for 4K pages. So I\u0027m OK with the TODO. The goal here is to minimize fragmentation while allocationg whole pages for the object, so we don\u0027t have to move it. A 12K-1 aized objects will have a lot less fragmentation than a 12K+1 sized object. So refusing to use a large object for the former while using one for the latter is clearly wrong. Without any experimentation, 10K seems like a better number for both 4K and 16K. With 1K, we get about a factor of 2 internal fragmentation for 16K+1 objects, so 8/5 for 10K doesn\u0027t seem terrible by comparison.\n\nI wouldn\u0027t do that in this CL, since it\u0027s slightly risky for 16K-unrelated reasons. Some app that barely fits now might run out of space. But we probably should do this in a separate follow-on CL.",
      "parentUuid": "3593ea2d_b351d641",
      "range": {
        "startLine": 154,
        "startChar": 0,
        "endLine": 155,
        "endChar": 57
      },
      "revId": "148d346eb312b06d8b3d60885f3ccf5ba23956f4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}