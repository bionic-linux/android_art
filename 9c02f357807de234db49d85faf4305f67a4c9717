{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "1c6bedc1_591d2e04",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "Nice!",
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ee9767be_4e205bf5",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:17:55Z",
      "side": 1,
      "message": "Test failure from SELinux denials. See system/sepolicy/private/system_server.te, you\u0027ll need to change:\n\nallow system_server { apex_art_data_file dalvikcache_data_file }:file r_file_perms;\n\nto this:\n\nallow system_server { apex_art_data_file }:file rx_file_perms;\nallow system_server { dalvikcache_data_file }:file r_file_perms;\n\n[ it probably needs more tweaking than this, welcome to the android matrix :-) ]\n",
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "488d44b2_b8ff11a4",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "A few quick comments.",
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d21112de_876675e0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "1c6bedc1_591d2e04",
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "afd5fdc0_e7833604",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-19T08:31:45Z",
      "side": 1,
      "message": "I missed this tip. Thank you for explaining this to me over VC! I created aosp/1770906.",
      "parentUuid": "ee9767be_4e205bf5",
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "119aee30_edb1de54",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "Are you using an editor with clang-format? [ which will format this change ]. Just a heads-up, but the clang-format is a pretty good attempt, but still a work-in-progress. The current ART style (go/artsty) doesn\u0027t really align with anything that our formatters can deal with precisely.",
      "range": {
        "startLine": 75,
        "startChar": 0,
        "endLine": 76,
        "endChar": 34
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d5d8c355_282d911a",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Thank you for sharing the style guide (I assume there was a typo and it should be go/artstyle). I didn\u0027t know there is an ART-specific style guide.\n\nYes, I\u0027m using clang-format. It was required to use the formatter when I was working on google3, or the lint could hardly pass. It became kind of my habit, and I found it very inconvenient to work without the formatter, especially when dealing with line-wrapping. clang-format is highly customizable. I\u0027m adding some rules to my config, such as \"BinPackArguments: false\", to conform with go/artstyle. So far, I find it working well.\n\nRegarding the order of includes, looks like go/artstyle doesn\u0027t say anything about it, and the order that the formatter gives me conforms with go/cstyle#Names_and_Order_of_Includes. Is this fine?",
      "parentUuid": "119aee30_edb1de54",
      "range": {
        "startLine": 75,
        "startChar": 0,
        "endLine": 76,
        "endChar": 34
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6ef6e74a_669ec14e",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-15T07:17:26Z",
      "side": 1,
      "message": "[Apologies for the cut-and-pasto, glad you found it]\n\nPlease contribute to the clang-format in the art repo (art/.clang-format). When Chris (chriswailes@) was exploring he tried to see which style adjustments led to the smallest diffs on large bodies chunks of existing art code. There likely further improvements available that would be benefit everyone.\n\nIf you want this order it\u0027s fine.",
      "parentUuid": "d5d8c355_282d911a",
      "range": {
        "startLine": 75,
        "startChar": 0,
        "endLine": 76,
        "endChar": 34
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3045704_d687dc88",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 76,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-16T05:56:21Z",
      "side": 1,
      "message": "I didn\u0027t know there is an existing config. Thank you for letting me know. I\u0027ll update it if needed.\n\nI\u0027m using VS code with clang-format to format modified lines only, so the diffs on existing art code are not a problem for me.",
      "parentUuid": "6ef6e74a_669ec14e",
      "range": {
        "startLine": 75,
        "startChar": 0,
        "endLine": 76,
        "endChar": 34
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e9f685a1_984b9799",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "active APEXes",
      "range": {
        "startLine": 294,
        "startChar": 32,
        "endLine": 294,
        "endChar": 40
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28e9f1c1_e98ed2aa",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 294,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e9f685a1_984b9799",
      "range": {
        "startLine": 294,
        "startChar": 32,
        "endLine": 294,
        "endChar": 40
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4fbb6fab_78496133",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 340,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "consistency: APEX in human readable messages.",
      "range": {
        "startLine": 340,
        "startChar": 85,
        "endLine": 340,
        "endChar": 89
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84fb0734_5803710f",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 340,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4fbb6fab_78496133",
      "range": {
        "startLine": 340,
        "startChar": 85,
        "endLine": 340,
        "endChar": 89
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7e4a552b_c91cf92c",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 346,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "APEX",
      "range": {
        "startLine": 346,
        "startChar": 89,
        "endLine": 346,
        "endChar": 93
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2727aa5_e5e4fdbd",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 346,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7e4a552b_c91cf92c",
      "range": {
        "startLine": 346,
        "startChar": 89,
        "endLine": 346,
        "endChar": 93
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "186eb1b2_f6701828",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 557,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "There isn\u0027t an ART APEX change here, right? It just happens that the apex is on /data. I suggest dropping the code in this \u0027else\u0027 branch.",
      "range": {
        "startLine": 556,
        "startChar": 0,
        "endLine": 557,
        "endChar": 58
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "571ce83c_ec63f212",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 557,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "186eb1b2_f6701828",
      "range": {
        "startLine": 556,
        "startChar": 0,
        "endLine": 557,
        "endChar": 58
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b7fa2f3e_887fefbe",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-14T20:47:56Z",
      "side": 1,
      "message": "Failure here can also be due to xml schema change. We no longer log the distinction, but seems useful to be able to distinguish.",
      "range": {
        "startLine": 560,
        "startChar": 1,
        "endLine": 566,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1e86a589_7202edc4",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "This function assumes that the xml is either valid or non-exist. If there is an xml schema change, the caller will handle such case (https://android.googlesource.com/platform/art/+/refs/changes/06/1765306/4/odrefresh/odrefresh.cc#828), and this function won\u0027t be called at all.",
      "parentUuid": "b7fa2f3e_887fefbe",
      "range": {
        "startLine": 560,
        "startChar": 1,
        "endLine": 566,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "301ec511_0dbaae4e",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-07-15T07:17:26Z",
      "side": 1,
      "message": "The point was the more precise error indication is lost. The comment was for the deletion of L541 in the base. The code that you are pointing to also doesn\u0027t distinguish between the two cases either.",
      "parentUuid": "1e86a589_7202edc4",
      "range": {
        "startLine": 560,
        "startChar": 1,
        "endLine": 566,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9ae221a3_33053cec",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 566,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-16T05:56:21Z",
      "side": 1,
      "message": "The precise error indication is not lost. CheckArtifactsAreUpToDate is now split into three functions: CheckArtifactsAreUpToDate, CheckBootExtensionArtifactsAreUpToDate, CheckSystemServerArtifactsAreUpToDate.\n\nThe case where the xml file exists but invalid is handled by CheckArtifactsAreUpToDate (https://android.googlesource.com/platform/art/+/refs/changes/06/1765306/4/odrefresh/odrefresh.cc#828).\n\nThe case where the xml file doesn\u0027t exist is handled by the latter two functions (https://android.googlesource.com/platform/art/+/refs/changes/06/1765306/4/odrefresh/odrefresh.cc#560, https://android.googlesource.com/platform/art/+/refs/changes/06/1765306/4/odrefresh/odrefresh.cc#655)\n\nI separated the handling because the former case should definitely trigger a compilation and CheckArtifactsAreUpToDate can do an early return, while the latter case requires further checks.",
      "parentUuid": "301ec511_0dbaae4e",
      "range": {
        "startLine": 560,
        "startChar": 1,
        "endLine": 566,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "184684be_a71d046d",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "If the artifacts are on /system, should we still do this?",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "70c85d5f_71332a82",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Part of the system server consists of some APEX jars, and they don\u0027t have artifacts on /system. APEX jars are not shipped with artifacts because they depends on /system/framework/services.jar, which is usually customized by OEMs. Therefore, I think we should always do on-device compilation for the system server during the first boot.",
      "parentUuid": "184684be_a71d046d",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cda019bb_823854e4",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-15T09:01:25Z",
      "side": 1,
      "message": "Ah, but another part of this change, is to change the build system to \"preopt\" those apex jars to avoid having to run odrefresh on the first boot.",
      "parentUuid": "70c85d5f_71332a82",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3557d4c5_e8e2d05f",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-16T05:56:21Z",
      "side": 1,
      "message": "Sorry, I\u0027m not sure I get it. How can we \"preopt\" those apex jars without knowing about /system/framework/services.jar, which they depend on? Even if they can be AOT compiled by the build system, the execution won\u0027t achieve the best performance because the artifacts will not be complete and will be missing some information. Do I understand it correctly?",
      "parentUuid": "cda019bb_823854e4",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f931e40e_c4ab7801",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-16T07:33:20Z",
      "side": 1,
      "message": "At build time we know those dependencies. What we need to do is preopt all jars in SYSTEMSERVERCLASSPATH at build time (we currently only preopt non-apex ones).",
      "parentUuid": "3557d4c5_e8e2d05f",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1a83ddee_a2254985",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 660,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-19T08:31:45Z",
      "side": 1,
      "message": "Done. Added a check, though it will never pass for now because we don\u0027t have preopted artifacts for APEXes on /system. Added a TODO on line 1233.",
      "parentUuid": "f931e40e_c4ab7801",
      "range": {
        "startLine": 659,
        "startChar": 0,
        "endLine": 660,
        "endChar": 31
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6ce8bf83_b7779b3b",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 671,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "Ditto, the artifacts can be on /system.",
      "range": {
        "startLine": 668,
        "startChar": 0,
        "endLine": 671,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "bc38ff67_26094185",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 671,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Ditto.",
      "parentUuid": "6ce8bf83_b7779b3b",
      "range": {
        "startLine": 668,
        "startChar": 0,
        "endLine": 671,
        "endChar": 19
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ddd58159_d4af08f1",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 762,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "false?",
      "range": {
        "startLine": 762,
        "startChar": 12,
        "endLine": 762,
        "endChar": 44
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "b5b8217e_28cfaeec",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 762,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Oops. I\u0027m surprised that this can compile :)",
      "parentUuid": "ddd58159_d4af08f1",
      "range": {
        "startLine": 762,
        "startChar": 12,
        "endLine": 762,
        "endChar": 44
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3a291cf0_58bcf5f6",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 872,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "nit: add parens",
      "range": {
        "startLine": 872,
        "startChar": 11,
        "endLine": 872,
        "endChar": 61
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d2ceb497_d76fb18d",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 872,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "3a291cf0_58bcf5f6",
      "range": {
        "startLine": 872,
        "startChar": 11,
        "endLine": 872,
        "endChar": 61
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bdff511e_3988c4a4",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1585,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "I suggest moving this if in the caller, and dropping the force_compile argument?",
      "range": {
        "startLine": 1585,
        "startChar": 8,
        "endLine": 1585,
        "endChar": 21
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4638514_840701dc",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1585,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done. Thank you for the suggestion. The code is much cleaner now.",
      "parentUuid": "bdff511e_3988c4a4",
      "range": {
        "startLine": 1585,
        "startChar": 8,
        "endLine": 1585,
        "endChar": 21
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39c2f22b_d25b6944",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1611,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "Looks like you can drop this check as force_compile impiles compile_boot_extensions.",
      "range": {
        "startLine": 1611,
        "startChar": 10,
        "endLine": 1611,
        "endChar": 23
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9af7c57b_37ed2df0",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1611,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "Why doing this check, if compile_boot_extensions is already found to be true?",
      "range": {
        "startLine": 1611,
        "startChar": 56,
        "endLine": 1611,
        "endChar": 83
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c00f7459_679005e6",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1611,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "39c2f22b_d25b6944",
      "range": {
        "startLine": 1611,
        "startChar": 10,
        "endLine": 1611,
        "endChar": 23
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3f3e84db_1c00d2d9",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1611,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "I was trying to handle the case where boot extensions are already compiled for one ISA, but not another. This can happen when the device runs out of space right after compilation is done for just one ISA. In that case, we want to skip the compilation for an ISA that is already compiled, even if compile_boot_extensions is true.\n\nI revisited this and realized that the logic was too tricky. I changed to using a vector to indicate which ISAs to compile boot extensions for, instead of using a single boolean.",
      "parentUuid": "9af7c57b_37ed2df0",
      "range": {
        "startLine": 1611,
        "startChar": 56,
        "endLine": 1611,
        "endChar": 83
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "93025123_3789bdd7",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1612,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "nit: put on new line, aligned with compile_boot_extensions.",
      "range": {
        "startLine": 1611,
        "startChar": 55,
        "endLine": 1612,
        "endChar": 97
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1fe5e36e_2081db48",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1612,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "93025123_3789bdd7",
      "range": {
        "startLine": 1611,
        "startChar": 55,
        "endLine": 1612,
        "endChar": 97
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e949f84_c26e4b76",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1636,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "ditto, force_compile implies compile_system_server",
      "range": {
        "startLine": 1636,
        "startChar": 8,
        "endLine": 1636,
        "endChar": 21
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ff331ddb_9792f277",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1636,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4e949f84_c26e4b76",
      "range": {
        "startLine": 1636,
        "startChar": 8,
        "endLine": 1636,
        "endChar": 21
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2a185e6d_e4ea02f7",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1637,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-07-14T08:51:50Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 1637,
        "startChar": 34,
        "endLine": 1637,
        "endChar": 61
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "739928e3_82648ef8",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1637,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-07-15T04:26:08Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2a185e6d_e4ea02f7",
      "range": {
        "startLine": 1637,
        "startChar": 34,
        "endLine": 1637,
        "endChar": 61
      },
      "revId": "9c02f357807de234db49d85faf4305f67a4c9717",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}