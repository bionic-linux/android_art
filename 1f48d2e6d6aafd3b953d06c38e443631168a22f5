{
  "comments": [
    {
      "key": {
        "uuid": "f7baf242_66b8ef40",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1266,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-14T00:15:45Z",
      "side": 1,
      "message": "Could you invoke the constructor instead? In other places, I find it hard to find locations of where a constructor is called when used in such a way.",
      "range": {
        "startLine": 1266,
        "startChar": 39,
        "endLine": 1266,
        "endChar": 66
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a75af15e_97df431d",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1266,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-02-14T01:07:24Z",
      "side": 1,
      "message": "I can. but this should be more efficient and leads to shorter. This code is executed with the mutator lock so I think it\u0027s better if we maximize speed and avoid the copying.\n\nThat said, yea, I agree that if you search for the constructor this gets in a way. Also, I don\u0027t really have numbers for how much we gain in this particular case. I do remember Vladimir used the same technique to reduce the compilation time.\n\nDo you have a strong preference here?",
      "parentUuid": "f7baf242_66b8ef40",
      "range": {
        "startLine": 1266,
        "startChar": 39,
        "endLine": 1266,
        "endChar": 66
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8abcfbaf_22d2f44a",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1266,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-15T12:44:10Z",
      "side": 1,
      "message": "Just discussed with vmarko. My strong preference would be to use the constructor and not care until it shows up as a problem, but I can accept your mutator lock argument :-)\n\nMy second strong preference would then be to put /* Constructor */ where you\u0027re doing this construct. I think that\u0027s a good compromise. So in this case:\n\nprofile_classes.emplace_back(/*ProfileMethodInfo::ProfileClassReference*/\u0026class_dex_file, type_index);\n\nWDYT?",
      "parentUuid": "a75af15e_97df431d",
      "range": {
        "startLine": 1266,
        "startChar": 39,
        "endLine": 1266,
        "endChar": 66
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06f0bde9_e091fa9c",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1266,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-02-16T00:20:28Z",
      "side": 1,
      "message": "oki, I\u0027ll go with the constructor comments then. The other reason I like emplace is that it makes the code much shorter :), though with the comment that benefit will go away.\n\nI don\u0027t think the copy here will show up as a problem but I think we should be mindful of locks :).",
      "parentUuid": "8abcfbaf_22d2f44a",
      "range": {
        "startLine": 1266,
        "startChar": 39,
        "endLine": 1266,
        "endChar": 66
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "890c4906_57ed43e2",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1270,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-14T00:15:45Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 1270,
        "startChar": 35,
        "endLine": 1270,
        "endChar": 65
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b5d8aee_e5d0255c",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1270,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-02-16T00:20:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "890c4906_57ed43e2",
      "range": {
        "startLine": 1270,
        "startChar": 35,
        "endLine": 1270,
        "endChar": 65
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2c2d06a0_010d0e60",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1273,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-02-14T00:15:45Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 1273,
        "startChar": 25,
        "endLine": 1273,
        "endChar": 77
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7f8600ff_d995f4fb",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 12
      },
      "lineNbr": 1273,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-02-16T00:20:28Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2c2d06a0_010d0e60",
      "range": {
        "startLine": 1273,
        "startChar": 25,
        "endLine": 1273,
        "endChar": 77
      },
      "revId": "1f48d2e6d6aafd3b953d06c38e443631168a22f5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}