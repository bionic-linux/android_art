{
  "comments": [
    {
      "key": {
        "uuid": "b0938fd9_105bd2f4",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 12
      },
      "lineNbr": 4675,
      "author": {
        "id": 1113370
      },
      "writtenOn": "2016-09-23T02:20:44Z",
      "side": 1,
      "message": "This code doesn\u0027t work for charAt compressed for segmentation fault. I go through the dump oat file and found generated code like this\n\n0x70a746e4: f0234300      bic r3, #2147483648\n0x70a746e8: 4298          cmp r0, r3\n0x70a746ea: d226          bcs 0x70a7473a\n0x70a746ec: 3110          adds r1, #16\n0x70a746ee: 688a          ldr r2, [r1, #8]\n0x70a746f0: 2a00          cmp r2, #0\n0x70a746f2: da01          bge 0x70a746f8\n0x70a746f4: 5c08          ldrb r0, [r1, r0]\n0x70a746f6: e001          b 0x70a746fc\n0x70a746f8: f8310010      ldrh r0, [r1, r0, lsl #1]\n\nIt doesn\u0027t load the length from right register. It\u0027s loading from r1 which already added by 16. I wonder why the obj is added by 16, meanwhile in the code, the one that we add is temp instead of obj and I load it from obj (line 4665).\n\nThis also happens to the ARM64.",
      "range": {
        "startLine": 4647,
        "startChar": 0,
        "endLine": 4675,
        "endChar": 25
      },
      "revId": "df4760bdd3afcc8f418ea4db625a5b8e7e93aa99",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85656bf7_4903e171",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 12
      },
      "lineNbr": 4675,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-09-23T08:46:53Z",
      "side": 1,
      "message": "I haven\u0027t looked too closely at the generated code, but isn\u0027t it the intermediate address instruction you need to change how it generates code?",
      "parentUuid": "b0938fd9_105bd2f4",
      "range": {
        "startLine": 4647,
        "startChar": 0,
        "endLine": 4675,
        "endChar": 25
      },
      "revId": "df4760bdd3afcc8f418ea4db625a5b8e7e93aa99",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}