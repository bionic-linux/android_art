{
  "comments": [
    {
      "key": {
        "uuid": "fbc3671a_e09d77e6",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 1958,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "This change shouldn\u0027t be needed for std::atomic.",
      "range": {
        "startLine": 1958,
        "startChar": 2,
        "endLine": 1958,
        "endChar": 41
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ddd4b090_ebf0c156",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 1958,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fbc3671a_e09d77e6",
      "range": {
        "startLine": 1958,
        "startChar": 2,
        "endLine": 1958,
        "endChar": 41
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bd8e2f09_f1c87f9e",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 1958,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-30T04:04:06Z",
      "side": 1,
      "message": "Sorry. I meant that it should be possible to do this as a constructor field initialization as before. Though I guess it would now go in the tls32_ constructor?",
      "parentUuid": "ddd4b090_ebf0c156",
      "range": {
        "startLine": 1958,
        "startChar": 2,
        "endLine": 1958,
        "endChar": 41
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ea7ea2d1_6be4681d",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 1958,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-30T10:54:45Z",
      "side": 1,
      "message": "Yes, which we actually don\u0027t have a constructor for. I\u0027ve put back the store.",
      "parentUuid": "bd8e2f09_f1c87f9e",
      "range": {
        "startLine": 1958,
        "startChar": 2,
        "endLine": 1958,
        "endChar": 41
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59f4eed0_9953ac84",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2253,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "The crucial observation now seems to be that no other thread can reset the flag; thus there is no need to make the check and reset atomic.",
      "range": {
        "startLine": 2253,
        "startChar": 2,
        "endLine": 2253,
        "endChar": 74
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee648e9e_f98dec96",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2253,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "Should probably be:\n\n// No other thread can concurrently reset the interrupted flag.\n\nTo me, what\u0027s unusual about this code is that it does not need to use an atomic exchange. But I think that\u0027s correct.",
      "range": {
        "startLine": 2253,
        "startChar": 2,
        "endLine": 2253,
        "endChar": 74
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "383529cd_c288209f",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2253,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee648e9e_f98dec96",
      "range": {
        "startLine": 2253,
        "startChar": 2,
        "endLine": 2253,
        "endChar": 74
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a203539_343c16d3",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2253,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Not sure I follow: What do you mean \"there is no need to make the check and reset\"?",
      "parentUuid": "59f4eed0_9953ac84",
      "range": {
        "startLine": 2253,
        "startChar": 2,
        "endLine": 2253,
        "endChar": 74
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "566aaa90_0279c4dd",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2253,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-30T04:04:06Z",
      "side": 1,
      "message": "I was just repeating that the load and store don\u0027t need to be combined into an atomic exchange.",
      "parentUuid": "3a203539_343c16d3",
      "range": {
        "startLine": 2253,
        "startChar": 2,
        "endLine": 2253,
        "endChar": 74
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fc43a3df_50e2066c",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2269,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "I think this is probably correct. But it would be more obviously correct inside the critical section. And I can\u0027t imagine there is a measurable performance difference.",
      "range": {
        "startLine": 2267,
        "startChar": 2,
        "endLine": 2269,
        "endChar": 3
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "815a9044_67ec4fa9",
        "filename": "runtime/thread.cc",
        "patchSetId": 3
      },
      "lineNbr": 2269,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fc43a3df_50e2066c",
      "range": {
        "startLine": 2267,
        "startChar": 2,
        "endLine": 2269,
        "endChar": 3
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d25ca3ac_53300541",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 577,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "white space.",
      "range": {
        "startLine": 577,
        "startChar": 0,
        "endLine": 577,
        "endChar": 2
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5c7cd8b_7358f0b3",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 577,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d25ca3ac_53300541",
      "range": {
        "startLine": 577,
        "startChar": 0,
        "endLine": 577,
        "endChar": 2
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40b78cfd_ea141a43",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 1421,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-29T19:01:23Z",
      "side": 1,
      "message": "Should we start using std::atomic directly and move away from Atomic\u003c\u003e?",
      "range": {
        "startLine": 1421,
        "startChar": 4,
        "endLine": 1421,
        "endChar": 33
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a1d4592e_33e99f3a",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 1421,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-29T21:00:37Z",
      "side": 1,
      "message": "Are we deprecating Atomic?\n\nNo strong opinion here, I can use either.",
      "parentUuid": "40b78cfd_ea141a43",
      "range": {
        "startLine": 1421,
        "startChar": 4,
        "endLine": 1421,
        "endChar": 33
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a83a916_204398d5",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 1421,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2017-03-30T04:04:06Z",
      "side": 1,
      "message": "I don\u0027t have a strong opinion either.",
      "parentUuid": "a1d4592e_33e99f3a",
      "range": {
        "startLine": 1421,
        "startChar": 4,
        "endLine": 1421,
        "endChar": 33
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8f80b1f1_3fed6e42",
        "filename": "runtime/thread.h",
        "patchSetId": 3
      },
      "lineNbr": 1421,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-03-30T10:54:45Z",
      "side": 1,
      "message": "OK, this file seems to be consistently using Atomic, so I\u0027ll stick with it for now.",
      "parentUuid": "9a83a916_204398d5",
      "range": {
        "startLine": 1421,
        "startChar": 4,
        "endLine": 1421,
        "endChar": 33
      },
      "revId": "690c6370e47eac1dcc856524b4d7babd7dfe7a04",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}