{
  "comments": [
    {
      "key": {
        "uuid": "c5b475e0_dab4a5fa",
        "filename": "runtime/jdwp/jdwp_event.cc",
        "patchSetId": 1
      },
      "lineNbr": 637,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2015-02-24T17:31:54Z",
      "side": 1,
      "message": "Can you use a ScopedThreadStateChange instead? Using SetState directly is not very safe and should be avoided. In this case it would work, but still.",
      "range": {
        "startLine": 637,
        "startChar": 8,
        "endLine": 637,
        "endChar": 16
      },
      "revId": "cc0b7a01a84956f243a91227621e199dbe4a3b9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85aefd91_78e72132",
        "filename": "runtime/jdwp/jdwp_event.cc",
        "patchSetId": 1
      },
      "lineNbr": 637,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-02-24T18:02:07Z",
      "side": 1,
      "message": "I could use two ScopedThreadStateChange: one for the event reporting (kWaitingForDebuggerSend) and one for the suspension (kSuspended). The only difference is the extra transition to kRunnable in between. That\u0027d mean the thread could suspend in that transition if another thread fires an event suspending all threads. I don\u0027t think that\u0027s an issue for debugging though.",
      "parentUuid": "c5b475e0_dab4a5fa",
      "range": {
        "startLine": 637,
        "startChar": 8,
        "endLine": 637,
        "endChar": 16
      },
      "revId": "cc0b7a01a84956f243a91227621e199dbe4a3b9e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}