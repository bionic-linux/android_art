{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4c09381f_25df57ab",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "Please manually test:\n\n- `adb shell dumpsys package dexopt` (should have the GC type)\n- `adb shell dumpsys package \u003cpackage-name\u003e` (should NOT have the GC type)\n- `adb shell pm art dump` (should have the GC type)\n- `adb shell pm art dump \u003cpackage-name\u003e` (should NOT have the GC type)",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "418b7e84_02b11e81",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 14,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-19T12:51:54Z",
      "side": 1,
      "message": "I have tested all these commands locally, and the results were:\n* `adb shell dumpsys package dexopt`: `Current GC: CollectorTypeCMC` on the last line of the output\n* `adb shell pm art dump`: `Current GC: CollectorTypeCMC` on the last line of the output\n* `adb shell dumpsys package com.android.bluetooth`: no mention of `CollectorTypeCMC` in the `Dexopt state` section\n* `adb shell pm art dump com.android.bluetooth`: no mention of `CollectorTypeCMC`",
      "parentUuid": "4c09381f_25df57ab",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fadf6361_5a0d19a1",
        "filename": "libartservice/service/java/com/android/server/art/ArtJni.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "@NonNull because the failure case cannot happen.",
      "range": {
        "startLine": 62,
        "startChar": 5,
        "endLine": 62,
        "endChar": 13
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "94024598_8738d649",
        "filename": "libartservice/service/java/com/android/server/art/ArtJni.java",
        "patchSetId": 1
      },
      "lineNbr": 62,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "fadf6361_5a0d19a1",
      "range": {
        "startLine": 62,
        "startChar": 5,
        "endLine": 62,
        "endChar": 13
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6b63c7cd_b6e9863e",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "Optional: I would move it to the end the of dump, and put a \"\\n\" to separate it from what\u0027s above.",
      "range": {
        "startLine": 73,
        "startChar": 8,
        "endLine": 73,
        "endChar": 17
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "626881e8_5e50422a",
        "filename": "libartservice/service/java/com/android/server/art/DumpHelper.java",
        "patchSetId": 1
      },
      "lineNbr": 73,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "6b63c7cd_b6e9863e",
      "range": {
        "startLine": 73,
        "startChar": 8,
        "endLine": 73,
        "endChar": 17
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26e63f88_240fc6b5",
        "filename": "libartservice/service/javatests/com/android/server/art/DumpHelperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "I think you need to add `ArtJni.class` to line 66 to make it work. Please run `atest ArtServiceTests` to verify it.",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "453200b9_675c1750",
        "filename": "libartservice/service/javatests/com/android/server/art/DumpHelperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Yes, you are right - will fix in next",
      "parentUuid": "26e63f88_240fc6b5",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ef07f9b6_c90f960f",
        "filename": "libartservice/service/javatests/com/android/server/art/DumpHelperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Yes, you are right - will fix in next patchset.",
      "parentUuid": "26e63f88_240fc6b5",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "9a54e7db_34865363",
        "filename": "libartservice/service/javatests/com/android/server/art/DumpHelperTest.java",
        "patchSetId": 1
      },
      "lineNbr": 86,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-19T12:20:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ef07f9b6_c90f960f",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7eefdea_a9c7cb69",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "Drop `Result` because this function cannot fail.",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 19
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c0d2170b_7b4a381b",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 81,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a7eefdea_a9c7cb69",
      "range": {
        "startLine": 81,
        "startChar": 0,
        "endLine": 81,
        "endChar": 19
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2310d595_1580d3b1",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "Use https://cs.android.com/android/platform/superproject/main/+/main:out/soong/.intermediates/art/runtime/art_operator_srcs/gen/gensrcs/art/runtime/gc/collector_type.operator_out.cc;l\u003d8;drc\u003d7e24730d4df51e80413e3c0b44eb98efba03b7c6 to align with the logs.",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 117,
        "endChar": 33
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ea48b306_970d6847",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "2310d595_1580d3b1",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 117,
        "endChar": 33
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b9d413cb_852b0c3c",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T22:05:23Z",
      "side": 1,
      "message": "Please use that operator directly. Don\u0027t copy it. You can create an `std::stringstream` so that you can use the operator on it.",
      "parentUuid": "ea48b306_970d6847",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 117,
        "endChar": 33
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "92c457f5_c987a433",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 117,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-19T12:20:26Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b9d413cb_852b0c3c",
      "range": {
        "startLine": 83,
        "startChar": 0,
        "endLine": 117,
        "endChar": 33
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "66eb5067_9884e9a0",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "Cannot happen.",
      "range": {
        "startLine": 165,
        "startChar": 4,
        "endLine": 165,
        "endChar": 19
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "890c0378_383698b9",
        "filename": "libartservice/service/native/service.cc",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "66eb5067_9884e9a0",
      "range": {
        "startLine": 165,
        "startChar": 4,
        "endLine": 165,
        "endChar": 19
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86a56c7f_d35735ce",
        "filename": "libartservice/service/native/service.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "No need to add this to the header. The header is for sharing the code with artd.",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 57
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cb7f477_bd2f6e52",
        "filename": "libartservice/service/native/service.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Isn\u0027t that needed make it visible in `service_test.cc`?",
      "parentUuid": "86a56c7f_d35735ce",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 57
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0d9d23a5_954b090b",
        "filename": "libartservice/service/native/service.h",
        "patchSetId": 1
      },
      "lineNbr": 37,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T22:05:23Z",
      "side": 1,
      "message": "Ah, right, I missed that.",
      "parentUuid": "8cb7f477_bd2f6e52",
      "range": {
        "startLine": 37,
        "startChar": 0,
        "endLine": 37,
        "endChar": 57
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7d06b2ba_ccad144f",
        "filename": "libartservice/service/native/service_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "You can override [`SetUpRuntimeOptions`](https://cs.android.com/android/platform/superproject/main/+/main:art/runtime/common_runtime_test.h;l\u003d139;drc\u003d914d59c5581152f8b0cc5ec477ff926eddcce7c3) with `-Xgc:SomeGcType` and check if the return value of `GetGarbageCollector()` matches the GC type that you specify.",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "149739dd_ea8c487a",
        "filename": "libartservice/service/native/service_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 110,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Acknowledged",
      "parentUuid": "7d06b2ba_ccad144f",
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "53e07730_0c73932e",
        "filename": "libartservice/service/native/service_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-01-18T15:58:30Z",
      "side": 1,
      "message": "This is probably not needed because `CommonRuntimeTest` always initializes the runtime. If you\u0027d like to keep it, please at least change `EXPECT_NE` to `ASSERT_NE` because the test is not supposed to continue if this check fails.",
      "range": {
        "startLine": 113,
        "startChar": 4,
        "endLine": 113,
        "endChar": 13
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "17b73e1a_b9dbc453",
        "filename": "libartservice/service/native/service_test.cc",
        "patchSetId": 1
      },
      "lineNbr": 113,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2024-01-18T18:16:46Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "53e07730_0c73932e",
      "range": {
        "startLine": 113,
        "startChar": 4,
        "endLine": 113,
        "endChar": 13
      },
      "revId": "22f87ddc507a1a044ecb442fccf83d3bc5c0cf58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}