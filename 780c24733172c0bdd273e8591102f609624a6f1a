{
  "comments": [
    {
      "key": {
        "uuid": "d4ca216d_d2fc4955",
        "filename": "runtime/arch/mips/asm_support_mips.S",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1057043
      },
      "writtenOn": "2017-07-27T08:48:59Z",
      "side": 1,
      "message": "What if preceding code ends in a nop (e.g. in a delay slot) and no alignment padding is needed after it? This fix would break, right? This doesn\u0027t look like the right fix.\n\nIs art_quick_generic_jni_trampoline the only one affected?\n\nWhy isn\u0027t this an issue on other architectures? Lucky non-zero encodings for padding (looks like nops aren\u0027t zero on x86 and ARM)? Or is something else wrong with MIPS?",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 35,
        "endChar": 21
      },
      "revId": "780c24733172c0bdd273e8591102f609624a6f1a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7a2ae807_693ba1ff",
        "filename": "runtime/arch/mips/asm_support_mips.S",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1067943
      },
      "writtenOn": "2017-07-27T09:15:08Z",
      "side": 1,
      "message": "Yes, this scenario could lead to the same issue. As far as I can see from the code, art_quick_generic_jni_trampoline is the only one affected.\nAnd yes, other architectures (at least I tried ARM64) aren\u0027t affected because their nops aren\u0027t zero.",
      "parentUuid": "d4ca216d_d2fc4955",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 35,
        "endChar": 21
      },
      "revId": "780c24733172c0bdd273e8591102f609624a6f1a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b4692cd_e9314031",
        "filename": "runtime/arch/mips/asm_support_mips.S",
        "patchSetId": 1
      },
      "lineNbr": 35,
      "author": {
        "id": 1057043
      },
      "writtenOn": "2017-07-27T09:31:26Z",
      "side": 1,
      "message": "If it is really expected there would be a non-zero word before the entry point (I think it\u0027s ugly and at the very least it should\u0027ve been commented, but Google should confirm that this is the expectation and nothing else is needed, just a non-zero word), then there should be a custom entry point used, something like\n\n.macro ENTRY_...\n    .type ...\n    .global \\name\n    // comments\n    .word pad_value\n    # Btw, is it 32-bit on 64-bit architectures?\n    .balignl 16, pad_value\n\\name:\n...\n.endm",
      "parentUuid": "7a2ae807_693ba1ff",
      "range": {
        "startLine": 35,
        "startChar": 0,
        "endLine": 35,
        "endChar": 21
      },
      "revId": "780c24733172c0bdd273e8591102f609624a6f1a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}