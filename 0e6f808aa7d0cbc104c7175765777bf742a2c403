{
  "comments": [
    {
      "key": {
        "uuid": "ade97f6b_50ac8e69",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2146,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2016-11-30T03:38:30Z",
      "side": 1,
      "message": "Instead of having the ThreadFenceRelease below, would it be any cheaper to turn one of these stores into a store-release?",
      "range": {
        "startLine": 2141,
        "startChar": 0,
        "endLine": 2146,
        "endChar": 5
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ade97f6b_3940d570",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2146,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2016-11-30T17:57:36Z",
      "side": 1,
      "message": "Is that sufficient? I thought that wasn\u0027t the same as an explicit fence.",
      "parentUuid": "ade97f6b_50ac8e69",
      "range": {
        "startLine": 2141,
        "startChar": 0,
        "endLine": 2146,
        "endChar": 5
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ade97f6b_e401a06c",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2146,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2016-11-30T18:53:48Z",
      "side": 1,
      "message": "It\u0027s not sufficient. It used to happen to work, aside from Itanium. But it doesn\u0027t work on ARMv8 either.",
      "parentUuid": "ade97f6b_3940d570",
      "range": {
        "startLine": 2141,
        "startChar": 0,
        "endLine": 2146,
        "endChar": 5
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d28cb81_700e8eac",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2148,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2016-11-30T02:26:23Z",
      "side": 1,
      "message": "I thought this is more about the CAS just below, right?\n\nIt may also be to do with the field CAS in ConcurrentCopying::Process.  But can it really reorder because the field CAS only happens after it\u0027s pushed onto the mark stack?",
      "range": {
        "startLine": 2148,
        "startChar": 29,
        "endLine": 2148,
        "endChar": 72
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ade97f6b_991ec189",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2148,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2016-11-30T17:57:36Z",
      "side": 1,
      "message": "I think both are possibly issues, the mark stack push does not have any fences for the GC exclusive state?",
      "parentUuid": "0d28cb81_700e8eac",
      "range": {
        "startLine": 2148,
        "startChar": 29,
        "endLine": 2148,
        "endChar": 72
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ade97f6b_6ec8d4b3",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2155,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2016-11-30T02:26:23Z",
      "side": 1,
      "message": "Can you also change this to a relaxed CAS?",
      "range": {
        "startLine": 2155,
        "startChar": 29,
        "endLine": 2155,
        "endChar": 66
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ade97f6b_792e5dbd",
        "filename": "runtime/gc/collector/concurrent_copying.cc",
        "patchSetId": 1
      },
      "lineNbr": 2155,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2016-11-30T17:57:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ade97f6b_6ec8d4b3",
      "range": {
        "startLine": 2155,
        "startChar": 29,
        "endLine": 2155,
        "endChar": 66
      },
      "revId": "0e6f808aa7d0cbc104c7175765777bf742a2c403",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}