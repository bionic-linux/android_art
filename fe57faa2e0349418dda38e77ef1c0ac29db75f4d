{
  "comments": [
    {
      "key": {
        "uuid": "29f8dff9_db0a535f",
        "filename": "compiler/optimizing/builder.cc",
        "patchSetId": 2
      },
      "lineNbr": 1742,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-23T09:31:56Z",
      "side": 1,
      "message": "Nit: one per line",
      "range": {
        "startLine": 1741,
        "startChar": 28,
        "endLine": 1742,
        "endChar": 77
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e5fa128_ed01817c",
        "filename": "compiler/optimizing/builder.cc",
        "patchSetId": 2
      },
      "lineNbr": 1742,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-24T12:39:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "29f8dff9_db0a535f",
      "range": {
        "startLine": 1741,
        "startChar": 28,
        "endLine": 1742,
        "endChar": 77
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69dad736_5fe96627",
        "filename": "compiler/optimizing/code_generator_arm64.cc",
        "patchSetId": 2
      },
      "lineNbr": 3551,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-09-21T19:31:22Z",
      "side": 1,
      "message": "Nit: what about\n\n    for (int32_t case_value \u003d lower_boud; case_value \u003c lower_bound +; ...)",
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "692bb717_8941492c",
        "filename": "compiler/optimizing/code_generator_arm64.cc",
        "patchSetId": 2
      },
      "lineNbr": 3551,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-21T19:52:15Z",
      "side": 1,
      "message": "I need the value of i for the successors too.  Works out to be about the same.  You will discard all this for a jump table later, and then you won\u0027t need the values.",
      "parentUuid": "69dad736_5fe96627",
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9ae6393_75f0ff9e",
        "filename": "compiler/optimizing/code_generator_arm64.cc",
        "patchSetId": 2
      },
      "lineNbr": 3551,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-09-21T20:00:42Z",
      "side": 1,
      "message": "Also doesn\u0027t work when the last value is MAX because of overflow, does it?",
      "parentUuid": "692bb717_8941492c",
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e90b27d5_59f763c2",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-23T09:31:56Z",
      "side": 1,
      "message": "This feels very codegen detail. Why not just making it a HSwitch ?",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a905afc4_7ac695d2",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-09-23T15:52:15Z",
      "side": 1,
      "message": "I disagree. Switches are significantly different enough. If you remove a branch from a packed switch, it\u0027s no longer a packed switch. So making it explicit is better, I think.",
      "parentUuid": "e90b27d5_59f763c2",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "69ee5738_1d2af359",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-23T15:54:08Z",
      "side": 1,
      "message": "So at the high-level, a switch is just a branch instruction with multiple successors. Why does the HIR need to care about packed?",
      "parentUuid": "a905afc4_7ac695d2",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2e2e2591_8ec55bc7",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-24T12:39:03Z",
      "side": 1,
      "message": "This was originally HSwitch, but Andreas asked for HPackedSwitch, to differentiate from a possible HSparseSwitch.  Do you want it changed back?",
      "parentUuid": "69ee5738_1d2af359",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e52b121_293429bf",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-09-24T15:53:18Z",
      "side": 1,
      "message": "Nicolas, by your argument all invokes are equal, because at the high level they dispatch to different methods, passing some parameters along. Why have different HInstructions?",
      "parentUuid": "2e2e2591_8ec55bc7",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0e9a4178_d211e418",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-24T16:45:31Z",
      "side": 1,
      "message": "No. They are going to be optimized differently at the HIR level. See VisitInvokeStatic/VisitInvokeVirtual/VisitInvokeInterface in optimzations, where their implementation differ.\n\nThat\u0027s the level at which we need to think for instructions. What would be the optimziations you do at a HIR level on a HSwitch?",
      "parentUuid": "8e52b121_293429bf",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4e4c398b_aab48bb4",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2406,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-24T16:56:08Z",
      "side": 1,
      "message": "The only difference is the DCE handling of Switch.  I would be happy with HSwitch, and let the BE decide whether to generate jumping or successive tests based on the BE\u0027s needs.  For eaxmple, I would remove the arbitrary \u0027only do this if there are more than 5 items to test\u0027 and let each BE generate the code it wants\n\nDo we want to move this discussion to https://android-review.googlesource.com/172695 ?",
      "parentUuid": "0e9a4178_d211e418",
      "range": {
        "startLine": 2406,
        "startChar": 3,
        "endLine": 2406,
        "endChar": 28
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a9612fbd_77f7b0c2",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2412,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-23T09:31:56Z",
      "side": 1,
      "message": "one per line",
      "range": {
        "startLine": 2411,
        "startChar": 16,
        "endLine": 2412,
        "endChar": 42
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ee616dea_6f30e51d",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2412,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-24T12:39:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a9612fbd_77f7b0c2",
      "range": {
        "startLine": 2411,
        "startChar": 16,
        "endLine": 2412,
        "endChar": 42
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "09095bdd_7a133994",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2433,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-09-23T09:31:56Z",
      "side": 1,
      "message": "const?",
      "range": {
        "startLine": 2432,
        "startChar": 0,
        "endLine": 2433,
        "endChar": 23
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e4d7d85_a84933fc",
        "filename": "compiler/optimizing/nodes.h",
        "patchSetId": 2
      },
      "lineNbr": 2433,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-09-24T12:39:03Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "09095bdd_7a133994",
      "range": {
        "startLine": 2432,
        "startChar": 0,
        "endLine": 2433,
        "endChar": 23
      },
      "revId": "fe57faa2e0349418dda38e77ef1c0ac29db75f4d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}