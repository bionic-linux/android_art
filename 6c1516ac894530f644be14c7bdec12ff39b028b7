{
  "comments": [
    {
      "key": {
        "uuid": "7782828f_f31cfab5",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2018-12-14T16:14:14Z",
      "side": 1,
      "message": "nit: ART style doc suggests putting each operand on a separate line. The code isn\u0027t perfect in following this:\n\n$ git grep \"^ *if .*,$\" | wc -l\n364\n\ngit grep \"^ *if .*($\" | wc -l\n50",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0f9e136_1f0490dd",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2018-12-14T18:54:03Z",
      "side": 1,
      "message": "The style:\n\n  function(\n    arg1, arg2, …, argN)\n\nis also accepted and quite common in ART\u0027s code base (both for function calls and function definitions).",
      "parentUuid": "7782828f_f31cfab5",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "766fb994_8484908e",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2018-12-14T19:08:24Z",
      "side": 1,
      "message": "Thanks Roland, that\u0027s what I\u0027ve heard too. I can\u0027t find anything clear about it in the style guide though, so I\u0027ve added a request for clarification there.\n\nI\u0027d prefer if this was allowed, for the very pragmatic reason that clang-format doesn\u0027t support the other style (there\u0027s AllowAllParametersOfDeclarationOnNextLine[1] for function definitions, but strangely no corresponding setting for function calls).\n\n[1] https://clang.llvm.org/docs/ClangFormatStyleOptions.html",
      "parentUuid": "c0f9e136_1f0490dd",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81cb128b_2f4f02df",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2018-12-14T19:26:34Z",
      "side": 1,
      "message": "Our style guide\u0027s goal is to have simple logical rules [at least for formatting], we found in the beginning that there was a lot of arguing/confusion when there were too many special cases and so we tried really hard to generalize everything.\n\n------\n\nIn the style guide it says, \"If any of the arguments end up getting wrapped, then have one argument per line and they must all be aligned\" Did \u0027arg1\u0027 get wrapped in this case? Yes, so the rest of the arguments should also be wrapped.\n\nTherefore, I think I would agree with Orion, I cannot find this style\n\n  function(\n    arg1, arg2, …, argN)\n\nto be conformant to the style guide. It might be part of some code here and there but afaik that\u0027s not intentional.\n\nMost formatters I\u0027ve seen will do the right thing after pressing \u003cENTER\u003e after the commas and vertically align all the params.\n\n----------------\n\nThat being said if someone feels strongly about this, then make a \"suggestion\" on the doc and we can have a team discussion there.",
      "parentUuid": "766fb994_8484908e",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5e0ffb48_fb4c4c69",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2018-12-14T20:03:46Z",
      "side": 1,
      "message": "One could argue that no arg is wrapped - the wrapping takes place _before_ the first arg. So the style guide could use a clarification anyway if it also applies before the args (and between them, but that\u0027s clear from the examples).\n\nI don\u0027t care that much about the style itself, but I do care about being able to teach it to clang-format, because I find it a significant convenience to not have to manually fiddle with line breaks and spaces. (In system/core there\u0027s a set clang-format style and a pre-upload format check on all files, which I think is rather nice.)",
      "parentUuid": "81cb128b_2f4f02df",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "31da8169_073a8698",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2018-12-16T17:59:37Z",
      "side": 1,
      "message": "Starting from Google clang-format, this will take care of the line in question:\n\n  AlignAfterOpenBracket: true\n  BinPackArguments: false\n  PenaltyBreakBeforeFirstCallParameter: 500",
      "parentUuid": "5e0ffb48_fb4c4c69",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "831f555d_848d3858",
        "filename": "libdexfile/external/include/art_api/ext_dex_file.h",
        "patchSetId": 2
      },
      "lineNbr": 221,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2018-12-20T21:09:07Z",
      "side": 1,
      "message": "Thanks for the tip, but it doesn\u0027t behave the right way if one of the args get long and it should be formatted like this:\n\n  function(\n    really + really + really + really + long_argument_here,\n    foo,\n    bar)\n\nI\u0027ve filed https://bugs.llvm.org/show_bug.cgi?id\u003d40121 to add support to clang-format for the function call style you\u0027d like to see. For now I\u0027ve corrected the formatting manually.",
      "parentUuid": "31da8169_073a8698",
      "range": {
        "startLine": 221,
        "startChar": 12,
        "endLine": 221,
        "endChar": 71
      },
      "revId": "6c1516ac894530f644be14c7bdec12ff39b028b7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}