{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "db245f59_fc4885ee",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-09T09:27:17Z",
      "side": 1,
      "message": "There\u0027s a question here on whether the version check should be more flexible and/or what versioning is for the art module. Nicolas mentioned want to push a trivial runtime or security update that wouldn\u0027t require compilation. As discussed, it seems very unlikely we\u0027ll be shipping updates that don\u0027t require recompilation and as-such this CL doesn\u0027t support this.\n\nCurrently, this CL is comparing the APEX version number. This could be broken down into components, e.g. \u003cmajor\u003e.\u003cmiddle\u003e.\u003cminor\u003e where a minor version bump says \"no compile\", ie just a security fix or runtime change that has no impact on existing AOT artifacts.\n\nAlternatively, we could include the version numbers for the .art, .oat, .vdex files in the version check and only a bump in these would trigger recompilation.\n\nThe latter makes testing hard, but it\u0027s just the folks working on this that have to deal with this.",
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7686f19d_9c4020b3",
        "filename": "odrefresh/CacheInfo.xsd",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-03-09T13:33:49Z",
      "side": 1,
      "message": "What does device mean in this context? Could you add comments for each of the attributes.",
      "range": {
        "startLine": 33,
        "startChar": 20,
        "endLine": 33,
        "endChar": 35
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "52ab06c9_8f562da9",
        "filename": "odrefresh/CacheInfo.xsd",
        "patchSetId": 3
      },
      "lineNbr": 33,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-11T16:51:25Z",
      "side": 1,
      "message": "Gone.",
      "parentUuid": "7686f19d_9c4020b3",
      "range": {
        "startLine": 33,
        "startChar": 20,
        "endLine": 33,
        "endChar": 35
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "04912705_c0917bd1",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 298,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-03-09T13:33:49Z",
      "side": 1,
      "message": "For simpler code, should we introduce using directives for these auto-generated types?",
      "range": {
        "startLine": 298,
        "startChar": 17,
        "endLine": 298,
        "endChar": 44
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ce7264b1_1973e11d",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 298,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-09T21:12:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "04912705_c0917bd1",
      "range": {
        "startLine": 298,
        "startChar": 17,
        "endLine": 298,
        "endChar": 44
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c4e310ae_7843002b",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-03-09T13:33:49Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 313,
        "startChar": 15,
        "endLine": 313,
        "endChar": 65
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a810fc19_ea7d81dd",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 313,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-09T21:12:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c4e310ae_7843002b",
      "range": {
        "startLine": 313,
        "startChar": 15,
        "endLine": 313,
        "endChar": 65
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7fe0a50c_62e1f132",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 384,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2021-03-09T09:51:43Z",
      "side": 1,
      "message": "not used?",
      "range": {
        "startLine": 383,
        "startChar": 3,
        "endLine": 384,
        "endChar": 87
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbc32d6f_634f5036",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 384,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-09T21:12:23Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7fe0a50c_62e1f132",
      "range": {
        "startLine": 383,
        "startChar": 3,
        "endLine": 384,
        "endChar": 87
      },
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5bebfa1c_df5028b0",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 1094,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-03-09T13:33:49Z",
      "side": 1,
      "message": "Won\u0027t that disable recompilation in the following boots? How do we detect / decide when to retry?",
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "65203096_6e3f769e",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 1094,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-03-09T21:12:23Z",
      "side": 1,
      "message": "Not yet. The logic in CheckArtifactsAreUpToDate() keeps checking until it finds all the artifacts are there. It looks for reasons to return kCompilationRequired early rather than exiting early with kOkay (with 1 exception).\n\nThe reason we are logging the compilation attempt here is in preparation for adding back-off logic to limit how often we retry compilation. We can go all the way if you want, but it\u0027s a small separable part.",
      "parentUuid": "5bebfa1c_df5028b0",
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4c076457_61eed8e9",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 3
      },
      "lineNbr": 1094,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-03-09T21:37:10Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "65203096_6e3f769e",
      "revId": "186d9f1b8fbb901087434822cbeb4a09d5344cc0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}