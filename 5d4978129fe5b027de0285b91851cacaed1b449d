{
  "comments": [
    {
      "key": {
        "uuid": "9271e61d_2839e30b",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2015-03-03T16:26:06Z",
      "side": 1,
      "message": "The CAS failed, which may be spurious or because of a concurrent change caused by the read barriers. Why is this a failure to deflate and not something to retry in a loop?",
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3282fa51_b2cd80b1",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2015-03-03T22:25:22Z",
      "side": 1,
      "message": "I had thought it was ok to fail to deflate as it\u0027d be tried again in the next trim. But it\u0027s possible to retry. I changed it back to SetLockWord as we are at a pause here (technically not a pause in the image writer case, but mutators are not running) and won\u0027t really have concurrent read barrier state changes.",
      "parentUuid": "9271e61d_2839e30b",
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "321d9af7_0098aa4a",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2015-03-03T22:29:49Z",
      "side": 1,
      "message": "Thanks, I don\u0027t mind the CAS it was more that it wasn\u0027t documented in the same way the other \"return false\" cases were above. If you are assuming no concurrent operations then perhaps a debug assert is appropriate or a comment to something like that.",
      "parentUuid": "3282fa51_b2cd80b1",
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "727f1222_cfbe61fd",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 620,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2015-03-04T00:04:07Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "321d9af7_0098aa4a",
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "72ce32a5_141fb487",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 632,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2015-03-03T16:26:06Z",
      "side": 1,
      "message": "similar",
      "range": {
        "startLine": 632,
        "startChar": 0,
        "endLine": 632,
        "endChar": 23
      },
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9271e61d_6833db29",
        "filename": "runtime/monitor.cc",
        "patchSetId": 6
      },
      "lineNbr": 644,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2015-03-03T16:26:06Z",
      "side": 1,
      "message": "similar",
      "range": {
        "startLine": 644,
        "startChar": 0,
        "endLine": 644,
        "endChar": 23
      },
      "revId": "5d4978129fe5b027de0285b91851cacaed1b449d",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}