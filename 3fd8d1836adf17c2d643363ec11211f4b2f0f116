{
  "comments": [
    {
      "key": {
        "uuid": "8d9677b3_ed730680",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-06-14T09:51:37Z",
      "side": 1,
      "message": "Consistency: run-test uses --target and --host.",
      "range": {
        "startLine": 143,
        "startChar": 1,
        "endLine": 148,
        "endChar": 9
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbc050cb_d5647a04",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 148,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-06-14T13:45:47Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "8d9677b3_ed730680",
      "range": {
        "startLine": 143,
        "startChar": 1,
        "endLine": 148,
        "endChar": 9
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c233449b_12f1d13c",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-06-14T09:51:37Z",
      "side": 1,
      "message": "Didn\u0027t jack and dx not require knowing target/host (given this file did not have this switch)? Why did they not need it, and could we make desugar also not need it?",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 204,
        "endChar": 4
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dc82adf6_3411600e",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-06-14T13:28:15Z",
      "side": 1,
      "message": "This is almost the same thing that I did for Vogar, and everyone seemed to agree it was fine to do there.\n\n------\n\ndx did not need the bootclasspath or any classpath at all for that matter.\n\nI don\u0027t know what jack did, maybe they just hard coded boot class path or they had their own stubs.\n\nWhen you are doing a build, you might end up with a host-only build or a target-only build and then the other bootclasspath won\u0027t even be there.",
      "parentUuid": "c233449b_12f1d13c",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 204,
        "endChar": 4
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "52753eeb_6a996f99",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-06-14T13:35:05Z",
      "side": 1,
      "message": "Why does desugar need boot classpath?",
      "parentUuid": "dc82adf6_3411600e",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 204,
        "endChar": 4
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "34be5297_e02df057",
        "filename": "test/etc/default-build",
        "patchSetId": 1
      },
      "lineNbr": 204,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-06-14T13:45:47Z",
      "side": 1,
      "message": "dx is the weird one here. dx is the only tool that doesn\u0027t require any classpath. All other tools generally do.\n\n---\nTo answer your question, desugar runs the RI JVM in order to generate the lambdas, it calls into LambdaMetaFactory and then dumps them.\n\nNow in order to do that it has to load the real classes. So lets say your code is referencing something in libcore, well it won\u0027t resolve at desugar\u0027s runtime (\u003d our build time) and it will give us a ClassNotFoundException.\n\nBut by having it on the classpath desugar finds everything and is able to correctly resolve all the classes.",
      "parentUuid": "52753eeb_6a996f99",
      "range": {
        "startLine": 202,
        "startChar": 0,
        "endLine": 204,
        "endChar": 4
      },
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "edfd6dde_368e49ec",
        "filename": "tools/bootjars.sh",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2017-06-13T23:04:02Z",
      "side": 1,
      "message": "can you source ${TOP}/build/envsetup.sh instead?",
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "32fdc3be_e3a1a15a",
        "filename": "tools/bootjars.sh",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-06-13T23:05:24Z",
      "side": 1,
      "message": "Sure. Sourcing it again (if it was already sourced) won\u0027t cause a problem, will it?",
      "parentUuid": "edfd6dde_368e49ec",
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "00219870_0f027918",
        "filename": "tools/bootjars.sh",
        "patchSetId": 1
      },
      "lineNbr": 25,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2017-06-13T23:10:35Z",
      "side": 1,
      "message": "No, and the functions are not exported so if they were sourced in the parent shell they won\u0027t be visible to this script anyways.",
      "parentUuid": "32fdc3be_e3a1a15a",
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "486ca29e_8a9561b0",
        "filename": "tools/desugar.sh",
        "patchSetId": 1
      },
      "lineNbr": 79,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-06-14T13:45:47Z",
      "side": 1,
      "message": "I wouldn\u0027t even need this script if it wasn\u0027t for these 3 lines that set the bootclasspath.",
      "revId": "3fd8d1836adf17c2d643363ec11211f4b2f0f116",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}