{
  "comments": [
    {
      "key": {
        "uuid": "d26c4a1b_e26f830b",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 5
      },
      "lineNbr": 2133,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "arena",
      "range": {
        "startLine": 2133,
        "startChar": 94,
        "endLine": 2133,
        "endChar": 99
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b1b273a0_67e190fc",
        "filename": "profman/profile_assistant_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "drop",
      "range": {
        "startLine": 35,
        "startChar": 2,
        "endLine": 35,
        "endChar": 9
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f428edb1_dd527efb",
        "filename": "profman/profile_assistant_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 35,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "OVERRIDE",
      "range": {
        "startLine": 35,
        "startChar": 34,
        "endLine": 35,
        "endChar": 35
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c60c971c_0dc0a3c1",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T13:29:21Z",
      "side": 1,
      "message": "Do we know that the ClassReference is not in the set yet? emplace() allocates the node before doing the lookup and if it then finds an identical element, it shall deallocate the node. For Arena allocations, that\u0027s essentially a leak.",
      "range": {
        "startLine": 94,
        "startChar": 10,
        "endLine": 94,
        "endChar": 17
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "076ff57e_f4371722",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-24T15:21:44Z",
      "side": 1,
      "message": "We don\u0027t know. It could be there or it could be a new element. So you\u0027re saying that find \u0026 put is better here?",
      "parentUuid": "c60c971c_0dc0a3c1",
      "range": {
        "startLine": 94,
        "startChar": 10,
        "endLine": 94,
        "endChar": 17
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e36b96fe_103ba7a5",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 94,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T15:57:20Z",
      "side": 1,
      "message": "Yes; or lower_bound() and emplace_hint() as in the SafeMap\u003c\u003e::GetOrCreate().",
      "parentUuid": "076ff57e_f4371722",
      "range": {
        "startLine": 94,
        "startChar": 10,
        "endLine": 94,
        "endChar": 17
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "be4636a3_e4c7ba0f",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 1302,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "Looks like an unnecessary deep copy. Maybe the output parameter should be \"const MethodMap** method_map\".",
      "range": {
        "startLine": 1302,
        "startChar": 2,
        "endLine": 1302,
        "endChar": 37
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3bd14e3_3eacd296",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 1302,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-24T15:21:44Z",
      "side": 1,
      "message": "This is used only during testing. Not sure if it needs the inline caches as well, but if it does it needs to be copy.\n\nThere\u0027s a similar TODO, to expose the direct pointer, which I think should be fine",
      "parentUuid": "be4636a3_e4c7ba0f",
      "range": {
        "startLine": 1302,
        "startChar": 2,
        "endLine": 1302,
        "endChar": 37
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3a7ce980_5fed4de8",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 1302,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T15:57:20Z",
      "side": 1,
      "message": "Is ProfMan::DumpClasses() used only for testing?\n\nI see a single use of this method from ProfMan::GetClassNamesAndMethods() and we definitely do not need a copy there.",
      "parentUuid": "d3bd14e3_3eacd296",
      "range": {
        "startLine": 1302,
        "startChar": 2,
        "endLine": 1302,
        "endChar": 37
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "28d54cee_45456373",
        "filename": "runtime/jit/profile_compilation_info.cc",
        "patchSetId": 5
      },
      "lineNbr": 1336,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "Looks like an unnecessary deep copy. OTOH, returning std::map\u003cstd::string, const ArenaSet\u003cdex::TypeIndex\u003e*\u003e would make the ClassLinker::GetClassDescriptorsForResolvedClasses() a bit uglier.",
      "range": {
        "startLine": 1336,
        "startChar": 6,
        "endLine": 1336,
        "endChar": 81
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81c08719_b19e16e3",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 41,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "dex::TypeIndex should be passed by value.",
      "range": {
        "startLine": 41,
        "startChar": 46,
        "endLine": 41,
        "endChar": 67
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b38ac892_75444c83",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 51,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "This looks like it should be an r-value reference to avoid an extra copy.",
      "range": {
        "startLine": 51,
        "startChar": 23,
        "endLine": 51,
        "endChar": 64
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "712b88ab_8e129a80",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 64,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "r-value reference",
      "range": {
        "startLine": 64,
        "startChar": 20,
        "endLine": 64,
        "endChar": 58
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3c5dc6bd_84ea65f3",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 120,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "dex::TypeIndex should be passed by value.",
      "range": {
        "startLine": 120,
        "startChar": 44,
        "endLine": 120,
        "endChar": 65
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1a333615_5b830f7d",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 235,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "So the entire AOT run shall allocate these on the same arena pool?",
      "range": {
        "startLine": 235,
        "startChar": 50,
        "endLine": 235,
        "endChar": 78
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "21154b9f_a970d6c7",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 235,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-24T15:21:44Z",
      "side": 1,
      "message": "Currently yes.",
      "parentUuid": "1a333615_5b830f7d",
      "range": {
        "startLine": 235,
        "startChar": 50,
        "endLine": 235,
        "endChar": 78
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3127b31f_01279eca",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 249,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "typo",
      "range": {
        "startLine": 249,
        "startChar": 79,
        "endLine": 249,
        "endChar": 82
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e620be3f_ede53d12",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 252,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "const DexFile\u0026",
      "range": {
        "startLine": 252,
        "startChar": 28,
        "endLine": 252,
        "endChar": 42
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a51ca6c_81466760",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 253,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "/*out*/",
      "range": {
        "startLine": 253,
        "startChar": 28,
        "endLine": 253,
        "endChar": 63
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9055d9c1_cdaba2fe",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 254,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "/*out*/",
      "range": {
        "startLine": 254,
        "startChar": 28,
        "endLine": 254,
        "endChar": 49
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fa69e6ad_77357627",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 516,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "Why a unique_ptr\u003c\u003e instead of a direct member?\n\n(Even the default_arena_pool_ could be direct member even if it\u0027s potentially unused.)",
      "range": {
        "startLine": 516,
        "startChar": 2,
        "endLine": 516,
        "endChar": 41
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "39443248_1042d7e3",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 516,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-24T15:21:44Z",
      "side": 1,
      "message": "Because I\u0027m lazy to call delete. Does it matter?",
      "parentUuid": "fa69e6ad_77357627",
      "range": {
        "startLine": 516,
        "startChar": 2,
        "endLine": 516,
        "endChar": 41
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ae696cd4_417d4aea",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 516,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T15:57:20Z",
      "side": 1,
      "message": "I meant\n\n  ArenaAllocator arena_;  // No pointer whatsoever.\n\nNo delete to call anywhere.",
      "parentUuid": "39443248_1042d7e3",
      "range": {
        "startLine": 516,
        "startChar": 2,
        "endLine": 516,
        "endChar": 41
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fe8961e9_f035ee67",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 521,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T10:28:26Z",
      "side": 1,
      "message": "Why the extra indirection?",
      "range": {
        "startLine": 521,
        "startChar": 14,
        "endLine": 521,
        "endChar": 26
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a2f9fea7_a312ec3c",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 521,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-24T15:21:44Z",
      "side": 1,
      "message": "Historical reasons. Doesn\u0027t matter now but this is always use as a pointer anyway.",
      "parentUuid": "fe8961e9_f035ee67",
      "range": {
        "startLine": 521,
        "startChar": 14,
        "endLine": 521,
        "endChar": 26
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "871d1acd_446522d8",
        "filename": "runtime/jit/profile_compilation_info.h",
        "patchSetId": 5
      },
      "lineNbr": 521,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-05-24T15:57:20Z",
      "side": 1,
      "message": "Well, without this indirection you wouldn\u0027t need the delete loop in https://android-review.googlesource.com/#/c/402249/2/runtime/jit/profile_compilation_info.cc .",
      "parentUuid": "a2f9fea7_a312ec3c",
      "range": {
        "startLine": 521,
        "startChar": 14,
        "endLine": 521,
        "endChar": 26
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0cdfa0c3_98e83f68",
        "filename": "runtime/jit/profile_compilation_info_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "drop",
      "range": {
        "startLine": 36,
        "startChar": 2,
        "endLine": 36,
        "endChar": 9
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e4e93f74_d9502066",
        "filename": "runtime/jit/profile_compilation_info_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 36,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "OVERRIDE",
      "range": {
        "startLine": 36,
        "startChar": 35,
        "endLine": 36,
        "endChar": 36
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5121ddda_21d0bf9d",
        "filename": "runtime/jit/profile_saver.cc",
        "patchSetId": 5
      },
      "lineNbr": 69,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2017-05-23T18:38:59Z",
      "side": 1,
      "message": "Use unique ptr?",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 10
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "63145e89_560cee18",
        "filename": "runtime/jit/profile_saver.cc",
        "patchSetId": 5
      },
      "lineNbr": 69,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2017-05-23T19:11:07Z",
      "side": 1,
      "message": "The main reason to use direct pointers is to prevent capturing the values from the map.\n\nI.e. is there a good way \n\nfor (auto it : profile_cache_) {\n}\n\nor std::unique_ptr\u003c...\u003e p \u003d profile_cache_.find()-\u003esecond-\u003e\n\n?\n\nSo that objects are not destroyed unexpectedly?",
      "parentUuid": "5121ddda_21d0bf9d",
      "range": {
        "startLine": 69,
        "startChar": 4,
        "endLine": 69,
        "endChar": 10
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "25b98ce5_f434e3ec",
        "filename": "runtime/jit/profile_saver.cc",
        "patchSetId": 5
      },
      "lineNbr": 262,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "Line too long",
      "range": {
        "startLine": 262,
        "startChar": 52,
        "endLine": 262,
        "endChar": 74
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3e6aeffc_4f2bc684",
        "filename": "runtime/jit/profile_saver.cc",
        "patchSetId": 5
      },
      "lineNbr": 369,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-05-24T08:58:18Z",
      "side": 1,
      "message": "Add a comment.",
      "range": {
        "startLine": 369,
        "startChar": 4,
        "endLine": 369,
        "endChar": 51
      },
      "revId": "cc3171ab3af35b4e4ad5671d7425aa8a6bfcc5f3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}