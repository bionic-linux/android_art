{
  "comments": [
    {
      "key": {
        "uuid": "810fa000_0a82ecfe",
        "filename": "libartbase/base/common_art_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 173,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2020-07-13T14:52:05Z",
      "side": 1,
      "message": "David, this CL breaks naive usage art_runtime_tests:\n\n$ echo $ANDROID_BUILD_TOP\n/media/oth/raid0/oth-src/master2\n$ pwd\n/usr/local/google/home/oth/src/master2\n$ out/soong/host/linux-x86/nativetest/art_runtime_tests/art_runtime_tests\n...\nart_runtime_tests F 07-13 15:32:11 3635857 3635857 common_art_test.cc:173] Check failed: android_build_top \u003d\u003d android_build_top_from_env (android_build_top\u003d/media/oth/raid0/oth-src/master2/out, android_build_top_from_env\u003d/media/oth/raid0/oth-src/master2)\n\nTo run tests, requires:\n\n$ cd out/host/linux-x86\n$ ./nativetest/art_runtime_tests/art_runtime_tests\n\nand that\u0027s a bit hard to devine from the check failure.",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 60
      },
      "revId": "194f555db74816aa380d2f46f63c8626f38e9b71",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c840c10e_f3744cc1",
        "filename": "libartbase/base/common_art_test.cc",
        "patchSetId": 5
      },
      "lineNbr": 173,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2020-07-13T16:00:05Z",
      "side": 1,
      "message": "Right, apologies. I did explicitly try make it so that it just works, but I missed this.\n\nIs there a specific reason you are running the tests from build intermediates (out/soong/host/linux-x86/nativetest) rather than the output dir (out/host/linux-x86/nativetest)?  I assume you just picked one at random?\n\nPresumably I should make sure it can work from this path as well, or explicitly add error message to tell people to use the other path.  Any preference?\n\nAnother thing I am still trying to solve is that running from \"testcases\" directory manually also does not necessarily work depending on what has been build.",
      "parentUuid": "810fa000_0a82ecfe",
      "range": {
        "startLine": 173,
        "startChar": 0,
        "endLine": 173,
        "endChar": 60
      },
      "revId": "194f555db74816aa380d2f46f63c8626f38e9b71",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}