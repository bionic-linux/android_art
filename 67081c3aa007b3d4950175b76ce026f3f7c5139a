{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "804e4a4c_9ab46cfc",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-07-18T21:06:48Z",
      "side": 1,
      "message": "See diff from PS1. It caused the breakage in b/284981749. It turns out that dex2oat actually failed to compile the two methods tested at https://cs.android.com/android/platform/superproject/main/+/main:cts/hostsidetests/compilation/src/android/compilation/cts/AdbRootDependentCompilationTest.java;l\u003d264-266;drc\u003d2bd33e5be8866ee4076638a83e4dcf43c711645c. The location gets passed into `DexFileLoader::location_`, which I presume has to be a valid path.",
      "range": {
        "startLine": 11,
        "startChar": 43,
        "endLine": 12,
        "endChar": 6
      },
      "revId": "67081c3aa007b3d4950175b76ce026f3f7c5139a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1254b835_51653ac8",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 12,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-07-19T10:31:18Z",
      "side": 1,
      "message": "\u003e The location gets passed into `DexFileLoader::location_`\n\nIf that\u0027s the case, then I suppose the path not only has to be valid but also has to refer to a dex file. How can passing a vdex path work? Maybe it doesn\u0027t work? Are the presubmit failures about that?",
      "parentUuid": "804e4a4c_9ab46cfc",
      "range": {
        "startLine": 11,
        "startChar": 43,
        "endLine": 12,
        "endChar": 6
      },
      "revId": "67081c3aa007b3d4950175b76ce026f3f7c5139a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f28df8f9_f802794f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 3
      },
      "lineNbr": 16,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-07-19T10:31:18Z",
      "side": 1,
      "message": "Both of these tests utilize pm commands, which are eventually handled by installd/artd, both of which always pass vdex through fd, meaning they only cover the fd case, IIUC.\n\nSince you have modified the CL to only affect the non-fd case now, they seem to be irrelevant. Although it\u0027s good to make sure that this change doesn\u0027t break the fd case, I\u0027m not confident that the non-fd case will work after the change. Are there additional tests that you can run?",
      "range": {
        "startLine": 15,
        "startChar": 0,
        "endLine": 16,
        "endChar": 116
      },
      "revId": "67081c3aa007b3d4950175b76ce026f3f7c5139a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c3ee890e_75300125",
        "filename": "dex2oat/linker/oat_writer.cc",
        "patchSetId": 3
      },
      "lineNbr": 488,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-07-19T10:31:18Z",
      "side": 1,
      "message": "I looked at this error message and had a second thought. Since you\u0027ve added \"for\" here, it\u0027s now clear enough that this error is about the vdex file rather than the dex file. Do you still need `location` to be the vdex path?\n\nAlternatively, if you still prefer printing the vdex path, could you pass the vdex path as an additional argument to this function just for logging, to avoid breaking things?",
      "range": {
        "startLine": 488,
        "startChar": 60,
        "endLine": 488,
        "endChar": 63
      },
      "revId": "67081c3aa007b3d4950175b76ce026f3f7c5139a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}