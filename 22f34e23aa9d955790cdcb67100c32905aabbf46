{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dec02c8b_70bc1ab2",
        "filename": "build/apex/test_apex_manifest.json",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-03-31T14:31:28Z",
      "side": 1,
      "message": "Besides the issue with requiring all the duplicate entries here (can you please point me to that ticket, btw?), I\u0027d prefer to avoid the duplication wrt manifest_art.json. Is it possible to create it with a genrule?",
      "revId": "22f34e23aa9d955790cdcb67100c32905aabbf46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "dd6012d7_f187dc24",
        "filename": "build/apex/test_apex_manifest.json",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2021-03-31T14:34:53Z",
      "side": 1,
      "message": "I filed b/184148353 for that. I\u0027m not a build system wizard, but if you have any pointers on how to do this, I\u0027ll happily look into that.",
      "parentUuid": "dec02c8b_70bc1ab2",
      "revId": "22f34e23aa9d955790cdcb67100c32905aabbf46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "19358a64_13fa40ac",
        "filename": "build/apex/test_apex_manifest.json",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-03-31T14:54:04Z",
      "side": 1,
      "message": "Thanks. \n\nSomething like this:\n\n  genrule {\n    name: \"test_apex_manifest\",\n    srcs: [\"manifest-art.json\"],\n    out: [\"manifest-art-test.json\"],\n    cmd: \"sed -e s/\\\"version\\\": [0-9]+/\\\"version\\\": 2147483647 \u003c $(in) \u003e $(out)\",\n  }\n\n  apex {\n    ...\n    manifest: \":test_apex_manifest\",\n    ...\n  }\n\nWhat I\u0027m unsure about is if apex{} accepts a genrule in the manifest arg.",
      "parentUuid": "dd6012d7_f187dc24",
      "revId": "22f34e23aa9d955790cdcb67100c32905aabbf46",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}