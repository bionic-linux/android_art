{
  "comments": [
    {
      "key": {
        "uuid": "cfdd09f3_49beafbe",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-08-20T11:40:01Z",
      "side": 1,
      "message": "FIXME: Based on `Class::IsInSamePackage(ObjPtr\u003cClass\u003e)`, the class loader must match too. We need to check if the `dex_file` belongs to the `klass-\u003eGetClassLoader()`.",
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2306e369_abba38ae",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-08-20T14:01:35Z",
      "side": 1,
      "message": "That\u0027s right. Are you working on this with a new PS?",
      "parentUuid": "cfdd09f3_49beafbe",
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f9343015_6571482a",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-08-20T15:38:46Z",
      "side": 1,
      "message": "That\u0027s my plan. But I need to find out how to test that, so that the package name is the same but the different class loaders prevent the match. (Something with non-trivial --class-loader-context.)",
      "parentUuid": "2306e369_abba38ae",
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "2578e92d_1cf75887",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 64,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-08-21T15:22:59Z",
      "side": 1,
      "message": "Done (turns out that src-ex is compiled with the right --class-loader-context but --secondary would just put both dex files into the same class loader, so we need to construct the class loader manually)",
      "parentUuid": "f9343015_6571482a",
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "75c3b227_0956d932",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 899,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-08-20T14:01:35Z",
      "side": 1,
      "message": "nit: cache this information (also used line 906).",
      "range": {
        "startLine": 899,
        "startChar": 69,
        "endLine": 899,
        "endChar": 98
      },
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "6b26d8fe_4b8db348",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 899,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-08-20T15:38:46Z",
      "side": 1,
      "message": "The `SamePackageCompare` is caching information about the compiling class. (Line 906 checks `referenced_class`, not `declaring_class`.)",
      "parentUuid": "75c3b227_0956d932",
      "range": {
        "startLine": 899,
        "startChar": 69,
        "endLine": 899,
        "endChar": 98
      },
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "dbfeeda0_9283944a",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 901,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-08-20T14:01:35Z",
      "side": 1,
      "message": "Add a comment why the check line 899 is not enough to just return null.",
      "range": {
        "startLine": 901,
        "startChar": 28,
        "endLine": 901,
        "endChar": 44
      },
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "379851bd_b6ec37b6",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 901,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-08-21T15:22:59Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "dbfeeda0_9283944a",
      "range": {
        "startLine": 901,
        "startChar": 28,
        "endLine": 901,
        "endChar": 44
      },
      "revId": "4c843d9862c5f376f5d0aa0d7f1d02e92d1d6d58",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}