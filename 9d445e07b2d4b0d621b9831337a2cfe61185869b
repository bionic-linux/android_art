{
  "comments": [
    {
      "key": {
        "uuid": "cb1db24e_f1d9dd77",
        "filename": "test/run-test",
        "patchSetId": 4
      },
      "lineNbr": 546,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2016-09-19T16:56:10Z",
      "side": 1,
      "message": "$NEED_DEX instead of $USE_JACK",
      "revId": "9d445e07b2d4b0d621b9831337a2cfe61185869b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "305b1f41_aa75afc2",
        "filename": "test/run-test",
        "patchSetId": 4
      },
      "lineNbr": 546,
      "author": {
        "id": 1121678
      },
      "writtenOn": "2016-09-20T07:39:04Z",
      "side": 1,
      "message": "Seems like both should be checked, as NEED_DEX is only set to false when --jvm is passed, so it is still true for the default Jack configuration.\n\nAlso this does not solve the problem with running exactly these tests with --jvm, as most custom build scripts does not check NEED_DEX before running dx.\n\nSo runing\n\n  art/test/run-test --jvm 003-omnibus-opcodes\n\nwithout any changes fails, as it invokes dx.\n\nI have updated the build script for 003-omnibus-opcodes - should I update the others as well?\n\nThese are the custom build scripts that already check for NEED_DEX:\n\n  find art/test -name build | xargs grep NEED_DEX\n  art/test/555-checker-regression-x86const/build:  if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/127-checker-secondarydex/build:  if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/091-override-package-private-method/build:  if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/131-structural-change/build:  if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/138-duplicate-classes-check2/build:elif [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/551-checker-shifter-operand/build:    if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/551-checker-shifter-operand/build:    if [ ${NEED_DEX} \u003d \"true\" -a ${SKIP_DX_MERGER} \u003d \"false\" ]; then\n  art/test/551-checker-shifter-operand/build:    if [ ${NEED_DEX} \u003d \"true\" ]; then\n  art/test/551-checker-shifter-operand/build:elif [ ${NEED_DEX} \u003d \"true\" ]; then",
      "parentUuid": "cb1db24e_f1d9dd77",
      "revId": "9d445e07b2d4b0d621b9831337a2cfe61185869b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "305b1f41_8a4b0b79",
        "filename": "test/run-test",
        "patchSetId": 4
      },
      "lineNbr": 546,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-09-20T08:29:26Z",
      "side": 1,
      "message": "Would you mind updating them? It\u0027s an oversight that we broke --jvm for those tests.",
      "parentUuid": "305b1f41_aa75afc2",
      "revId": "9d445e07b2d4b0d621b9831337a2cfe61185869b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9085abca_88cbfb46",
        "filename": "test/run-test",
        "patchSetId": 4
      },
      "lineNbr": 546,
      "author": {
        "id": 1121678
      },
      "writtenOn": "2016-09-20T09:05:05Z",
      "side": 1,
      "message": "Updated custom build scripts in patch set 6.",
      "parentUuid": "305b1f41_8a4b0b79",
      "revId": "9d445e07b2d4b0d621b9831337a2cfe61185869b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}