{
  "comments": [
    {
      "key": {
        "uuid": "c3c99ffd_030e60e7",
        "filename": "compiler/optimizing/optimizing_compiler.cc",
        "patchSetId": 1
      },
      "lineNbr": 1325,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2018-09-20T10:10:31Z",
      "side": 0,
      "message": "How is that addressed?",
      "range": {
        "startLine": 1323,
        "startChar": 0,
        "endLine": 1325,
        "endChar": 40
      },
      "revId": "9b1e90ef5c8c026253099066e8414803a9880bf9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3cb99d19_2fa50da4",
        "filename": "compiler/optimizing/optimizing_compiler.cc",
        "patchSetId": 1
      },
      "lineNbr": 1325,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2018-09-20T10:43:03Z",
      "side": 0,
      "message": "This is concern is bogus. Those objects are reachable through the VariableSizedHandleScope at line 1291. The codegen holds pointers to the StackReference\u003cT\u003es owned by that VariableSizedHandleScope (cast to uint64_t). When EmitJitRoots() replaces those pointers with indexes, it does not invalidate any StackReference\u003cT\u003e.\n\nNote that I chose vector\u003cHandle\u003c\u003e\u003e over vector\u003cObjPtr\u003c\u003e\u003e so that thread suspension does not invalidate these pointers. However, the actual owner is the VariableSizedHandleScope as explained above.",
      "parentUuid": "c3c99ffd_030e60e7",
      "range": {
        "startLine": 1323,
        "startChar": 0,
        "endLine": 1325,
        "endChar": 40
      },
      "revId": "9b1e90ef5c8c026253099066e8414803a9880bf9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c3659a45_deefb567",
        "filename": "compiler/optimizing/optimizing_compiler.cc",
        "patchSetId": 1
      },
      "lineNbr": 1325,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2018-09-20T11:41:35Z",
      "side": 0,
      "message": "Ah right. Could you point that out when creating the vector? It\u0027s still good to know there might be suspension, and the handles being owned by the VariableSizedAndleScope make sure the pointers are updated.",
      "parentUuid": "3cb99d19_2fa50da4",
      "range": {
        "startLine": 1323,
        "startChar": 0,
        "endLine": 1325,
        "endChar": 40
      },
      "revId": "9b1e90ef5c8c026253099066e8414803a9880bf9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5473ad30_467c2af6",
        "filename": "compiler/optimizing/optimizing_compiler.cc",
        "patchSetId": 1
      },
      "lineNbr": 1325,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2018-09-20T13:08:04Z",
      "side": 0,
      "message": "Done (added a comment and a DCHECK()).",
      "parentUuid": "c3659a45_deefb567",
      "range": {
        "startLine": 1323,
        "startChar": 0,
        "endLine": 1325,
        "endChar": 40
      },
      "revId": "9b1e90ef5c8c026253099066e8414803a9880bf9",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}