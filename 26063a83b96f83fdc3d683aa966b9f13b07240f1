{
  "comments": [
    {
      "key": {
        "uuid": "ac3f8359_f5220ece",
        "filename": "tools/cpp-define-generator/lockword.def",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2018-10-05T21:33:56Z",
      "side": 1,
      "message": "Why is there a namespace \u0027art\u0027 everywhere? Just put it in the ASM_DEFINE. It\u0027ll also increase greppability.\n\nConceptual modeling note:\n\nAlso for .def files, you want to avoid any actual code in them, it should just be preprocessor code. Otherwise it doesn\u0027t become safe to include it elsewhere, like what if we wanted to #include these files in the middle of a function?",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "442aaedc_0cb05938",
        "filename": "tools/cpp-define-generator/lockword.def",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2018-10-05T21:44:45Z",
      "side": 1,
      "message": "I am mostly following the look and feel of most of our headers.\nPushing it in the ASM_DEFINE feels like adding to much magic in it.\nI would be more tempted to add \"using namespace\" but we don\u0027t do that here.\n\nYeah, I intentionally favor simplicity over the \"pure preprocessor\".  Mostly because dealing with includes is simpler this way.  It might be reasonable to change the file extension to \".h\" or \".inl\" as consequence though.",
      "parentUuid": "ac3f8359_f5220ece",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a29f7b39_7fd5a326",
        "filename": "tools/cpp-define-generator/lockword.def",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2018-10-05T21:54:00Z",
      "side": 1,
      "message": "I\u0027m not sure if I find it consistent with the greppability rule. It was fine before and you wanted to make it more greppable.\n\nWell what\u0027s more greppable than a fully-qualified-name?\n\nAt this point it would be easy to fix with a quick sed\n\n  sed -i \u0027s/           /           art::/g\u0027 *.def\n\nand the deletion of the namespace {/}",
      "parentUuid": "442aaedc_0cb05938",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "aab2065b_f16c327c",
        "filename": "tools/cpp-define-generator/lockword.def",
        "patchSetId": 2
      },
      "lineNbr": 19,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2018-10-05T22:32:22Z",
      "side": 1,
      "message": "Oh, sorry I misunderstood.  I though you wanted something like #define ASM_DEFINE(...) namespace art { ... } \n\nI am quite happy to drop the namespace and make the constant expressions fully qualified.  Sure.",
      "parentUuid": "a29f7b39_7fd5a326",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3e033d47_bfbb16f0",
        "filename": "tools/cpp-define-generator/mirror_array.def",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2018-10-05T21:56:03Z",
      "side": 1,
      "message": "Also on that same line of thinking as the \"namespace {\", this shouldn\u0027t be unconditional. There\u0027s a reason there were #ifdef around the include, it\u0027s to allow people to first include all the headers (near the top) and then as a second pass avoid including anything.",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "407efd45_2b81e824",
        "filename": "tools/cpp-define-generator/mirror_array.def",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2018-10-05T22:34:22Z",
      "side": 1,
      "message": "I know. I try to \"avoid complexity unless necessary\". So far it is not necessary. I am happy to add back the complexity if it becomes necessary.",
      "parentUuid": "3e033d47_bfbb16f0",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "786ea7eb_a0aa338d",
        "filename": "tools/cpp-define-generator/mirror_array.def",
        "patchSetId": 2
      },
      "lineNbr": 17,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2018-10-05T22:51:41Z",
      "side": 1,
      "message": "I\u0027m not sure if it\u0027s \u0027avoiding\u0027 it, it was just removed something that was there previously. \n\nAnyway, I think the conceptual point is that .def files should be purely macro calls, so this is kind of violating that?",
      "parentUuid": "407efd45_2b81e824",
      "revId": "26063a83b96f83fdc3d683aa966b9f13b07240f1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}