{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "6b058a3b_d203b554",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2319,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2021-11-16T10:15:21Z",
      "side": 1,
      "message": "Only `if (is_cmpxchg)`, otherwise it is useless.",
      "range": {
        "startLine": 2316,
        "startChar": 2,
        "endLine": 2319,
        "endChar": 3
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c81f737a_9306e511",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2319,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-11-16T11:51:14Z",
      "side": 1,
      "message": "Done (here and in GenCompareAndSetOrExchangeInt above).",
      "parentUuid": "6b058a3b_d203b554",
      "range": {
        "startLine": 2316,
        "startChar": 2,
        "endLine": 2319,
        "endChar": 3
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "924639d9_29320fd6",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2338,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2021-11-16T10:15:21Z",
      "side": 1,
      "message": "References should never be byte-swapped.",
      "range": {
        "startLine": 2338,
        "startChar": 47,
        "endLine": 2338,
        "endChar": 56
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e2f47176_54686808",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2338,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-11-16T11:51:14Z",
      "side": 1,
      "message": "Removed.\n\nAs I understand, this is because byte array views cannot have reference component type (https://docs.oracle.com/en/java/javase/12/docs/api/java.base/java/lang/invoke/MethodHandles.html#byteArrayViewVarHandle):\n\n  The supported component types (variables types) are\n  short, char, int, long, float and double.\n\nBut if they were allowed, they would have the same endianness concerns as integers.",
      "parentUuid": "924639d9_29320fd6",
      "range": {
        "startLine": 2338,
        "startChar": 47,
        "endLine": 2338,
        "endChar": 56
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f43f01a9_da6fc7cb",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2338,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2021-11-16T12:04:18Z",
      "side": 1,
      "message": "They cannot be allowed. There would be a fundamental issue with being able to hide live references from GC and also being able to convert arbitrary byte sequences to references.",
      "parentUuid": "e2f47176_54686808",
      "range": {
        "startLine": 2338,
        "startChar": 47,
        "endLine": 2338,
        "endChar": 56
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c53e1ec2_59fe9287",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2338,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-11-16T12:10:34Z",
      "side": 1,
      "message": "I see, makes sense.",
      "parentUuid": "f43f01a9_da6fc7cb",
      "range": {
        "startLine": 2338,
        "startChar": 47,
        "endLine": 2338,
        "endChar": 56
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "149fb251_13d47dcf",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2478,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2021-11-16T10:15:21Z",
      "side": 1,
      "message": "DCHECK(!byte_swap);",
      "range": {
        "startLine": 2478,
        "startChar": 89,
        "endLine": 2478,
        "endChar": 98
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "58cd5165_84aa8959",
        "filename": "compiler/optimizing/intrinsics_x86_64.cc",
        "patchSetId": 2
      },
      "lineNbr": 2478,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-11-16T11:51:14Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "149fb251_13d47dcf",
      "range": {
        "startLine": 2478,
        "startChar": 89,
        "endLine": 2478,
        "endChar": 98
      },
      "revId": "5d346d071d0e20a0e00cb22d621f3418601b6a4c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}