{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "415f0a3d_1bdedec1",
        "filename": "tools/buildbot-build.sh",
        "patchSetId": 1
      },
      "lineNbr": 131,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-04-27T14:03:22Z",
      "side": 1,
      "message": "Right, this may explain the repeated invalidation I\u0027ve seen.\n\nStill, I wonder if this should be default behaviour - it\u0027s a bit inconsistent with other build actions. What kind of build inconsistencies are you addressing here? Does it happen frequently that the install directory gets out of whack, or only after things like repo sync? Is it for LUCI builds?",
      "range": {
        "startLine": 131,
        "startChar": 65,
        "endLine": 131,
        "endChar": 76
      },
      "revId": "3211b001e1f0857b8a0a589879d2e9854c96d33f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "84a62b27_920a4745",
        "filename": "tools/buildbot-build.sh",
        "patchSetId": 1
      },
      "lineNbr": 131,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2021-04-27T14:14:20Z",
      "side": 1,
      "message": "I don\u0027t expect much of build inconsistencies... \nWe have seen only couple of instances of such broken builds on go/ab.\nIt is mostly for LUCI builds, but the same applies locally after repo sync.\n\nIn general, I feel strongly that tools and scripts should just do the right thing by default, and you can pass performance improving options if you know what you are doing..\n\nIn general, I always have installclean at the start of my \"local scripts\" because although it does take couple extra seconds here and there, it saves me a day of pain here and there if things go out of sync.",
      "parentUuid": "415f0a3d_1bdedec1",
      "range": {
        "startLine": 131,
        "startChar": 65,
        "endLine": 131,
        "endChar": 76
      },
      "revId": "3211b001e1f0857b8a0a589879d2e9854c96d33f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "435229af_1f3159a4",
        "filename": "tools/buildbot-build.sh",
        "patchSetId": 1
      },
      "lineNbr": 131,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2021-04-27T14:17:44Z",
      "side": 1,
      "message": "I am curious what your workflow is...\nI have been using this script locally (with explicit installclean before it), but in all the cases it is followed by flash-the-device, or run-all-tests, etc... \nTL:DR; I have also had the build regen issue, but I never noticed since the whole set always took O(minutes) anyway.\n\nPS: My ultimate goal is that one day, just \"test.py\" with no arguments will \"just work\".",
      "parentUuid": "84a62b27_920a4745",
      "range": {
        "startLine": 131,
        "startChar": 65,
        "endLine": 131,
        "endChar": 76
      },
      "revId": "3211b001e1f0857b8a0a589879d2e9854c96d33f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}