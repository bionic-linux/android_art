{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "ccb217a4_475948d0",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 7
      },
      "lineNbr": 0,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-06-30T11:06:49Z",
      "side": 1,
      "message": "PTAL. Thanks! ",
      "revId": "2ccb068fce22cc283ac74d4975709c01c89626fb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "91b80e1a_1d5ce55e",
        "filename": "runtime/arch/arm64/quick_entrypoints_arm64.S",
        "patchSetId": 7
      },
      "lineNbr": 1917,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-06-30T11:06:49Z",
      "side": 1,
      "message": "Method exit expects floating point result in d0. We also do this at the end of jni_trampoline. In all other architectures we don\u0027t restore the floating point register where the result is expected so I just moved the mov before the call to method exit. But in ARM64 the RESTORE_SAVE_REFS_AND_ARGS restores d0 so instead of moviI duplicated this move here. We could avoid this if necessary but I thought maybe it is OK for now. We could also change method exit to expect floating point results in gpr as well.",
      "revId": "2ccb068fce22cc283ac74d4975709c01c89626fb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f9d2a2cd_863bd2c7",
        "filename": "runtime/arch/arm64/quick_entrypoints_arm64.S",
        "patchSetId": 7
      },
      "lineNbr": 1917,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-06-30T14:44:45Z",
      "side": 1,
      "message": "Not sure I understand your comment, but there is a move line 1913. Why not merge them line 1902?",
      "parentUuid": "91b80e1a_1d5ce55e",
      "revId": "2ccb068fce22cc283ac74d4975709c01c89626fb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5358e7b2_1a83f795",
        "filename": "runtime/arch/arm64/quick_entrypoints_arm64.S",
        "patchSetId": 7
      },
      "lineNbr": 1917,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-06-30T17:04:52Z",
      "side": 1,
      "message": "There is RESTORE_SAVE_REFS_AND_ARGS_FRAME on line 1909 which will overwrite d0 with  the value from the stack (which was pushed when setting up the frame)\nOther archs don\u0027t pop d0 so I could merge the movs but for Arm64 I cannot. So, what I was saying in the earlier comment was I could either:\n1. Update method exit to only expect result in gpr. This isn\u0027t difficult.\n2. Update Arm64 to not pop d0 in RESTORE_SAVE_REFS_AND_ARGS_FRAME\n3. the approach I used of copying again.",
      "parentUuid": "f9d2a2cd_863bd2c7",
      "revId": "2ccb068fce22cc283ac74d4975709c01c89626fb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "cb7ca7eb_460f6bcf",
        "filename": "runtime/arch/arm64/quick_entrypoints_arm64.S",
        "patchSetId": 7
      },
      "lineNbr": 1917,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-06-30T17:28:40Z",
      "side": 1,
      "message": "Oh I see. Keeping it as you did is fine by me.",
      "parentUuid": "5358e7b2_1a83f795",
      "revId": "2ccb068fce22cc283ac74d4975709c01c89626fb",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}