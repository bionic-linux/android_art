{
  "comments": [
    {
      "key": {
        "uuid": "4520aa91_d5ac1cb1",
        "filename": "Android.mk",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-12-09T15:32:09Z",
      "side": 1,
      "message": "When I look at this file before the second one, I was wondering why you needed to change the dep order here.\n\nNow that I looked at the other file, I understand why but I find this error-prone. If someone reorders differently without seeing the \u0027|\u0027, it will break things.",
      "revId": "aab848e629ac0ff9f906a81b9caa68aa75e9a307",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "60cbdce2_2666d630",
        "filename": "test/Android.run-test.mk",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1023201
      },
      "writtenOn": "2015-12-09T14:37:11Z",
      "side": 1,
      "message": "I\u0027m not so sure of this one. I\u0027m hesitant between:\n- That, which is tricky\n- Adding for each target\n  ifeq ($(ANDROID_COMPILE_WITH_JACK),true)\n    \u003ctarget\u003e: | setup-jack-server\n  endif\n- Defining\n  TEST_ART_RUN_TEST_DEPENDENCIES :\u003d setup-jack-server\n  and add \"| $(TEST_ART_RUN_TEST_DEPENDENCIES)\" to targets",
      "revId": "aab848e629ac0ff9f906a81b9caa68aa75e9a307",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4022588b_05b1f205",
        "filename": "test/Android.run-test.mk",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-12-09T15:32:09Z",
      "side": 1,
      "message": "I find it weird to add an order-only dep in a variable.\n\nCan we instead call a function that will setup the jack-server (only when Jack is enabled)?",
      "parentUuid": "60cbdce2_2666d630",
      "revId": "aab848e629ac0ff9f906a81b9caa68aa75e9a307",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "251f3657_d4d53c0f",
        "filename": "test/Android.run-test.mk",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1023201
      },
      "writtenOn": "2015-12-09T15:57:46Z",
      "side": 1,
      "message": "I could do something like\n\n  define art-tests-order-dependency \n    $(if $(ANDROID_COMPILE_WITH_JACK),$(if $(filter-out true,,$(ANDROID_COMPILE_WITH_JACK)),,setup-jack-server),)\n  endef\n\nand then add \"| $(art-tests-order-dependency)\"\nI\u0027m not so fan of this.\n\nThe more of think of it the more I dislike current solution. If none of you express a preference I think I\u0027m going to the second solution ie:\n  ifeq ($(ANDROID_COMPILE_WITH_JACK),true)\n    \u003ctarget\u003e: | setup-jack-server\n  endif",
      "parentUuid": "4022588b_05b1f205",
      "revId": "aab848e629ac0ff9f906a81b9caa68aa75e9a307",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5f24653_603d920c",
        "filename": "test/Android.run-test.mk",
        "patchSetId": 1
      },
      "lineNbr": 46,
      "author": {
        "id": 1029223
      },
      "writtenOn": "2015-12-09T16:24:38Z",
      "side": 1,
      "message": "I\u0027m not a build expert but I think I also prefer the 2nd solution. At least, you are sure to append you order-only dependency at the end of the dependencies list.",
      "parentUuid": "251f3657_d4d53c0f",
      "revId": "aab848e629ac0ff9f906a81b9caa68aa75e9a307",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}