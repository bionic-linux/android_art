{
  "comments": [
    {
      "key": {
        "uuid": "6ded7620_70d27680",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-10-24T09:21:22Z",
      "side": 1,
      "message": "You should mention this is a requirement for other simplification passes. Why can\u0027t the other simplification bail instead of DCHECK?",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d5e686bf_d76dc254",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-10-24T10:26:55Z",
      "side": 1,
      "message": "Add Bool and another test:\n\n  public static int $noinline$bug68142795Boolean(boolean b) {\n    int v \u003d b ? 1 : 0;  // Should be simplified to \"b\" after inlining.\n    return (byte)($inline$get255() \u0026 v);\n  }\n\n  public static int $inline$get255() { return 255; }\n\nMaybe express as\n\n  (DataType::IsUnsignedType(input_other-\u003eGetType()) \u0026\u0026\n   ((DataType::MaxValueOfIntegralType(input_other-\u003eGetType()) \u0026 ~value) \u003d\u003d 0))\n\nbut that would require adding Bool to DataType::IsUnsignedType().",
      "parentUuid": "6ded7620_70d27680",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8db61fba_3ea7c54a",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-10-24T15:57:12Z",
      "side": 1,
      "message": "I have added a comment at the place the assumption is made (adding this here would only confuse an otherwise perfectly normal simplification). Vmarko can comment better on why he wanted the check over the bail.",
      "parentUuid": "6ded7620_70d27680",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6b920118_a5244403",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-10-24T15:57:12Z",
      "side": 1,
      "message": "Done, assuming you are okay with bool as unsigned type (does that make me 2 for 2 in my previous review? ;-)",
      "parentUuid": "d5e686bf_d76dc254",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cc55c17c_730519fb",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-10-24T16:04:14Z",
      "side": 1,
      "message": "I intend to clean up that code after this is merged.",
      "parentUuid": "8db61fba_3ea7c54a",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c8a80cdc_f5b821a0",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2017-10-24T16:04:14Z",
      "side": 1,
      "message": "Yes, I\u0027m OK with Bool being unsigned. (I\u0027m not familiar with the phrase \"2 for 2\".)",
      "parentUuid": "6b920118_a5244403",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bf60c704_44964ad7",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-10-24T16:39:23Z",
      "side": 1,
      "message": "I was just messing with you :-)",
      "parentUuid": "c8a80cdc_f5b821a0",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "bb910faa_0f00aea5",
        "filename": "compiler/optimizing/instruction_simplifier.cc",
        "patchSetId": 3
      },
      "lineNbr": 1259,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-10-24T16:39:23Z",
      "side": 1,
      "message": "Ack.",
      "parentUuid": "cc55c17c_730519fb",
      "range": {
        "startLine": 1257,
        "startChar": 0,
        "endLine": 1259,
        "endChar": 92
      },
      "revId": "6a9eecda8b7c6b6684ea1f1098d604944e3dade6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}