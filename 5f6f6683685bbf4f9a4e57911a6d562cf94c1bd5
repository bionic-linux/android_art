{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "d93ef833_dd259a17",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-04T11:09:29Z",
      "side": 1,
      "message": "Vladimir PTAL\nFix in android-review.googlesource.com/c/1968661/1..3\nRuntime side of CL added in android-review.googlesource.com/c/1968661/3..4\nRest of the patchsets are cosmetic changes.\n",
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7603cd08_723d4338",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 6
      },
      "lineNbr": 0,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-14T17:52:35Z",
      "side": 1,
      "message": "Friendly ping. The merge conflict is due to a comment in sharpening.cc which can be resolved easily later on. This patchset was verified by tree hugger",
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "23f5dcc8_9d153c0c",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 327,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "Can this be null?",
      "range": {
        "startLine": 327,
        "startChar": 36,
        "endLine": 327,
        "endChar": 75
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "26de04a3_011ef54f",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 327,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "We are in the path `dex_file-\u003eGetOatDexFile() !\u003d nullptr` which means that we should have an OatFile. Or at least that is my understanding i.e. GetOatDexFile() !\u003d nullptr \u003d\u003e dex_file-\u003eGetOatDexFile()-\u003eGetOatFile() !\u003d nullptr.\n\nNote that we were already relying on that (line 297 before my CL)",
      "parentUuid": "23f5dcc8_9d153c0c",
      "range": {
        "startLine": 327,
        "startChar": 36,
        "endLine": 327,
        "endChar": 75
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e4578140_bfe48a1a",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 327,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-25T16:26:11Z",
      "side": 1,
      "message": "Looking at the code, it seems we\u0027re creating a fake `OatFile` object even if we have only a vdex file, so this is probably OK.",
      "parentUuid": "26de04a3_011ef54f",
      "range": {
        "startLine": 327,
        "startChar": 36,
        "endLine": 327,
        "endChar": 75
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d7d506ec_85e51b1c",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 332,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "Can this be null? (For example without oat file but JITting?)",
      "range": {
        "startLine": 332,
        "startChar": 19,
        "endLine": 332,
        "endChar": 27
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "818c98f4_c2bcbc29",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 332,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Same as above. Let\u0027s talk in the other comment to have only one thread. I will resolve this comment when the other one gets resolved.",
      "parentUuid": "d7d506ec_85e51b1c",
      "range": {
        "startLine": 332,
        "startChar": 19,
        "endLine": 332,
        "endChar": 27
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d1acfca3_15f9cef0",
        "filename": "runtime/entrypoints/entrypoint_utils.cc",
        "patchSetId": 6
      },
      "lineNbr": 332,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-25T16:26:11Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "818c98f4_c2bcbc29",
      "range": {
        "startLine": 332,
        "startChar": 19,
        "endLine": 332,
        "endChar": 27
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32c4097c_f1c553a3",
        "filename": "runtime/entrypoints/entrypoint_utils.h",
        "patchSetId": 6
      },
      "lineNbr": 219,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "We should only look for the .bss entry associated with the outer method because that\u0027s the one that was used to reach the entrypoint that calls this.",
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "19ee4dd0_72aeb0c6",
        "filename": "runtime/entrypoints/entrypoint_utils.h",
        "patchSetId": 6
      },
      "lineNbr": 219,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Updated to outer_method instead of caller",
      "parentUuid": "32c4097c_f1c553a3",
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9bfbf1f8_161f483f",
        "filename": "runtime/entrypoints/jni/jni_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "This is the inner method and we really need to update the .bss entry for the outer method\u0027s oat file.",
      "range": {
        "startLine": 73,
        "startChar": 74,
        "endLine": 73,
        "endChar": 80
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "637e4474_33b76aa8",
        "filename": "runtime/entrypoints/jni/jni_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Is using StackVisitor the way to accomplish it?",
      "parentUuid": "9bfbf1f8_161f483f",
      "range": {
        "startLine": 73,
        "startChar": 74,
        "endLine": 73,
        "endChar": 80
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07da85d9_cf25473a",
        "filename": "runtime/entrypoints/jni/jni_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-25T16:26:11Z",
      "side": 1,
      "message": "That\u0027s one way to do that. But it would be faster with `DoGetCalleeSaveMethodOuterCallerAndPc()` which could be renamed and moved from `entrypoint_utils.cc` to `entrypoint_utils-inl.h`. (And the `callee_frame_size` in that function should be `constexpr`.) We could also check if the PC is in the code section of the `OatFile` before trying to update the .bss entry.",
      "parentUuid": "637e4474_33b76aa8",
      "range": {
        "startLine": 73,
        "startChar": 74,
        "endLine": 73,
        "endChar": 80
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a28d026d_18049364",
        "filename": "runtime/entrypoints/jni/jni_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 73,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-28T10:09:48Z",
      "side": 1,
      "message": "Can we just call `GetCalleeSaveOuterMethod` since that\u0027s what we really want?\n\nI don\u0027t think there\u0027s a need to move it to the inl.h and we can keep it in the .cc.\n\nWe can\u0027t change `const` to `constexpr` since the CalleeSaveType is a parameter. We could template the method but I don\u0027t know if that\u0027s needed.",
      "parentUuid": "07da85d9_cf25473a",
      "range": {
        "startLine": 73,
        "startChar": 74,
        "endLine": 73,
        "endChar": 80
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "691bfd1a_03db2a1a",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 179,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "BCP dex files are likely to satisfy this condition but we still want to update the .bss entry in `outer_method`\u0027s oat file.",
      "range": {
        "startLine": 179,
        "startChar": 6,
        "endLine": 179,
        "endChar": 29
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8750d96b_ea087481",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 179,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-28T10:09:48Z",
      "side": 1,
      "message": "We can ask first about BCP dexfiles and then for `oat_dex_file !\u003d nullptr`. That way even if BCP DexFiles satisfy `oat_dex_file !\u003d nullptr` they will go to the outer_method.",
      "parentUuid": "691bfd1a_03db2a1a",
      "range": {
        "startLine": 179,
        "startChar": 6,
        "endLine": 179,
        "endChar": 29
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "40fbf7ab_c8bb6510",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 237,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "Use helper function `Class::IsBootStrapClassLoaded()` to avoid the read barrier.",
      "range": {
        "startLine": 237,
        "startChar": 55,
        "endLine": 237,
        "endChar": 82
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "118eaf00_cd98b992",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 237,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Should we do that every time we do `caller-\u003eGetDeclaringClass()-\u003eGetClassLoader() \u003d\u003d nullptr`? We are doing that in several places",
      "parentUuid": "40fbf7ab_c8bb6510",
      "range": {
        "startLine": 237,
        "startChar": 55,
        "endLine": 237,
        "endChar": 82
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4ca6ea58_52b6dbaa",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 237,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-25T16:26:11Z",
      "side": 1,
      "message": "Yes, we should. (And I\u0027m opportunistically doing the replacements when I touch code near such patterns.)",
      "parentUuid": "118eaf00_cd98b992",
      "range": {
        "startLine": 237,
        "startChar": 55,
        "endLine": 237,
        "endChar": 82
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1816155b_78eb8278",
        "filename": "runtime/entrypoints/quick/quick_dexcache_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 237,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-28T10:09:48Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4ca6ea58_52b6dbaa",
      "range": {
        "startLine": 237,
        "startChar": 55,
        "endLine": 237,
        "endChar": 82
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "72d11d89_51aa33df",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 1377,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "We need the outer method here.",
      "range": {
        "startLine": 1377,
        "startChar": 55,
        "endLine": 1377,
        "endChar": 61
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "ec4f2bbd_1b7ef10d",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 1377,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "72d11d89_51aa33df",
      "range": {
        "startLine": 1377,
        "startChar": 55,
        "endLine": 1377,
        "endChar": 61
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7442157_27dbef21",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 2408,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 2408,
        "startChar": 70,
        "endLine": 2408,
        "endChar": 83
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7160f20e_63d69979",
        "filename": "runtime/entrypoints/quick/quick_trampoline_entrypoints.cc",
        "patchSetId": 6
      },
      "lineNbr": 2408,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f7442157_27dbef21",
      "range": {
        "startLine": 2408,
        "startChar": 70,
        "endLine": 2408,
        "endChar": 83
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee1a1333_7525ba4b",
        "filename": "runtime/oat_file.cc",
        "patchSetId": 6
      },
      "lineNbr": 1031,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-02-23T15:31:54Z",
      "side": 1,
      "message": "The word \"Then\" feels a bit odd here. Maybe \"Therefore\" would be better?",
      "range": {
        "startLine": 1031,
        "startChar": 69,
        "endLine": 1031,
        "endChar": 73
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "89c49f7a_68689704",
        "filename": "runtime/oat_file.cc",
        "patchSetId": 6
      },
      "lineNbr": 1031,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2022-02-23T17:50:51Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ee1a1333_7525ba4b",
      "range": {
        "startLine": 1031,
        "startChar": 69,
        "endLine": 1031,
        "endChar": 73
      },
      "revId": "5f6f6683685bbf4f9a4e57911a6d562cf94c1bd5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}