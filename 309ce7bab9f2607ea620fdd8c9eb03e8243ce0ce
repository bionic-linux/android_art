{
  "comments": [
    {
      "key": {
        "uuid": "64991129_2b5d374b",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1101490
      },
      "writtenOn": "2018-02-13T23:45:37Z",
      "side": 1,
      "message": "DCHECK(!is_system_server || !is_zygote)?",
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "149a283e_aa466306",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2018-02-14T11:13:43Z",
      "side": 1,
      "message": "sounds good, though I\u0027d write it (!(... \u0026\u0026 ...)) for easier reading?",
      "parentUuid": "64991129_2b5d374b",
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3f4a0478_f711e3a8",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 281,
      "author": {
        "id": 1042203
      },
      "writtenOn": "2018-02-14T22:51:58Z",
      "side": 1,
      "message": "Done, and DeMorgan\u0027s-ed.",
      "parentUuid": "149a283e_aa466306",
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7420d058_d0e5a06e",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1101490
      },
      "writtenOn": "2018-02-13T23:45:37Z",
      "side": 1,
      "message": "Isn\u0027t this always true, because is_zygote implies !do_hidden_api_checks given line 286?",
      "range": {
        "startLine": 352,
        "startChar": 9,
        "endLine": 352,
        "endChar": 44
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9d3e227_1b168bca",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-02-14T04:11:08Z",
      "side": 1,
      "message": "Still fine to have the DCHECK. The compiler should optimize it away, worst case.",
      "parentUuid": "7420d058_d0e5a06e",
      "range": {
        "startLine": 352,
        "startChar": 9,
        "endLine": 352,
        "endChar": 44
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "750cc2fa_77137e3d",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1101490
      },
      "writtenOn": "2018-02-14T10:15:43Z",
      "side": 1,
      "message": "I can\u0027t see in the other CL where the DISABLE_HIDDEN_API_CHECKS bit is set for child zygotes, so it feels kind of like either l286 should stay as is, and that flag bit should be set, or this DCHECK should be changed.",
      "parentUuid": "c9d3e227_1b168bca",
      "range": {
        "startLine": 352,
        "startChar": 9,
        "endLine": 352,
        "endChar": 44
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e6b2ac52_5e1d1a35",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 352,
      "author": {
        "id": 1042203
      },
      "writtenOn": "2018-02-14T22:51:58Z",
      "side": 1,
      "message": "After rebasing, do_hidden_api_checks switched from default-enabled to default-disabled, so line 286 is now unconditionally false. I left in the DCHECK since it was requested by dbrazdil@.",
      "parentUuid": "750cc2fa_77137e3d",
      "range": {
        "startLine": 352,
        "startChar": 9,
        "endLine": 352,
        "endChar": 44
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "03f2bac2_de87ddc2",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 371,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-02-14T04:11:08Z",
      "side": 1,
      "message": "I don\u0027t think we want to support native bridge in child zygotes. It was explicitly designed to not apply to zygotes, just to be preloaded. Together with us preferring early exits, simply preface the old code with:\n\n  if (is_zygote) {\n     return;\n  }",
      "range": {
        "startLine": 359,
        "startChar": 2,
        "endLine": 371,
        "endChar": 3
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "d8aa6aba_ce224a16",
        "filename": "runtime/native/dalvik_system_ZygoteHooks.cc",
        "patchSetId": 1
      },
      "lineNbr": 371,
      "author": {
        "id": 1042203
      },
      "writtenOn": "2018-02-14T22:51:58Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "03f2bac2_de87ddc2",
      "range": {
        "startLine": 359,
        "startChar": 2,
        "endLine": 371,
        "endChar": 3
      },
      "revId": "309ce7bab9f2607ea620fdd8c9eb03e8243ce0ce",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}