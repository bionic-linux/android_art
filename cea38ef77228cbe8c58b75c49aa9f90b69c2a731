{
  "comments": [
    {
      "key": {
        "uuid": "54d5f1bf_5764fb30",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-10-02T21:54:24Z",
      "side": 1,
      "message": "But we could call it for example if we do want to stop reporting. Say that we will only report first 5 mins of an app etc... (not saying right now we should, just that it\u0027s an option, right?)",
      "range": {
        "startLine": 67,
        "startChar": 4,
        "endLine": 67,
        "endChar": 25
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "df17db72_3627aa87",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 67,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2020-10-02T22:24:40Z",
      "side": 1,
      "message": "Correct. I updated the comment to say it\u0027s when we\u0027re ending metrics logging, such as when the runtime shuts down.",
      "parentUuid": "54d5f1bf_5764fb30",
      "range": {
        "startLine": 67,
        "startChar": 4,
        "endLine": 67,
        "endChar": 25
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c12f507e_ffdd19f4",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 72,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-10-02T21:54:24Z",
      "side": 1,
      "message": "add \u0027.\u0027",
      "range": {
        "startLine": 72,
        "startChar": 85,
        "endLine": 72,
        "endChar": 97
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "5b7d4b17_761ab920",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 72,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2020-10-02T22:24:40Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c12f507e_ffdd19f4",
      "range": {
        "startLine": 72,
        "startChar": 85,
        "endLine": 72,
        "endChar": 97
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d4c9d05_eba917e5",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 76,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-10-02T21:54:24Z",
      "side": 1,
      "message": "can, or will? It\u0027s a bit fuzzy: let\u0027s make it clear. (if we change the semantic later, we can update the comment)",
      "range": {
        "startLine": 76,
        "startChar": 88,
        "endLine": 76,
        "endChar": 91
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3c7fcae5_2a8febdb",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 76,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2020-10-02T22:24:40Z",
      "side": 1,
      "message": "What about \"should\"?\n\nThe behavior here is up to the backend implementation. It can choose to output a log every time the reporter calls ReportCounter (which is what all the backends I\u0027m planning will do), but we could also have one that keeps the most recent report and writes just that one out at the end.\n\nI added a comment at the beginning of MetricsBackend to make it a little clearer how this will be used. This also doesn\u0027t have the reporting code yet, which will come in a later CL.",
      "parentUuid": "2d4c9d05_eba917e5",
      "range": {
        "startLine": 76,
        "startChar": 88,
        "endLine": 76,
        "endChar": 91
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "974ce261_576904b1",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 76,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-10-02T23:18:27Z",
      "side": 1,
      "message": "Hmm, if it\u0027s up to the backend implementation then I would directly mention that : \"The backend will decide if the value is overwritten and output every time. *Please check the backend implementation docs*\".\n\nI\u0027m bit uncomfortable to leave it underspecified because it may lead to someone reporting the data in an unexpected way which may have implications on the analysis side.",
      "parentUuid": "3c7fcae5_2a8febdb",
      "range": {
        "startLine": 76,
        "startChar": 88,
        "endLine": 76,
        "endChar": 91
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c6435dc8_0ffc7e55",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 76,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2020-10-02T23:39:00Z",
      "side": 1,
      "message": "I reworded the comment to say this represents the total value of the counter at the point ReportCounter is called. I think that describes the meaning well.\n\nSome flexibility here is good because it\u0027s what allows us to sample. I think the key thing is to be clear about what the things we log mean. There\u0027s no meaningful difference between the metrics reporter changing from logging every 30 seconds to 60 seconds, the backend choosing to ignore every other report, or statsd only uploading every other atom to WestWorld.\n\nIt\u0027s not in this CL yet, but I\u0027m planning on having the things we report get a timestamp relative to the beginning of the program, which will let us distinguish between a report that came at the very beginning (so we wouldn\u0027t have much data yet), and a report that came after 30 minutes of runtime (so the data will be huge).",
      "parentUuid": "974ce261_576904b1",
      "range": {
        "startLine": 76,
        "startChar": 88,
        "endLine": 76,
        "endChar": 91
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "f8b44911_ee194e89",
        "filename": "libartbase/base/metrics.h",
        "patchSetId": 8
      },
      "lineNbr": 76,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-10-03T00:20:45Z",
      "side": 1,
      "message": "looks good.",
      "parentUuid": "c6435dc8_0ffc7e55",
      "range": {
        "startLine": 76,
        "startChar": 88,
        "endLine": 76,
        "endChar": 91
      },
      "revId": "cea38ef77228cbe8c58b75c49aa9f90b69c2a731",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}