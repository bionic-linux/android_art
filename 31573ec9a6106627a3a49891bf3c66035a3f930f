{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "9a2c810b_278c1624",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-12-01T01:40:47Z",
      "side": 1,
      "message": "Any chance we could defer the removal and the empty checkpoint until after the GC is fully done? If so, I think that would be much lower risk.",
      "revId": "31573ec9a6106627a3a49891bf3c66035a3f930f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9088d003_e9682ea7",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-12-01T08:10:38Z",
      "side": 1,
      "message": "I\u0027m wondering if we can just delay the `ClassLinker::CleanupClassLoaders()` call until a later point (can we safely unlock during `ReclaimPhase()`?)  but I\u0027m not sure about the CHA cleanup. If that needs to be done early, than we need to split the function into two and make two separate calls.",
      "parentUuid": "9a2c810b_278c1624",
      "revId": "31573ec9a6106627a3a49891bf3c66035a3f930f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1182eb52_a8a4f034",
        "filename": "runtime/fault_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-11-30T16:27:05Z",
      "side": 1,
      "message": "It seems we really need to release the mutator lock before requesting an empty checkpoint, otherwise we can get\n\n    Check failed: !bad_mutexes_held Holding \"mutator lock\" (level MutatorLock)\n    while performing wait on \"GC barrier lock\" (level ThreadSuspendCountLock)\n\nas seen in post-submit testing.",
      "range": {
        "startLine": 307,
        "startChar": 6,
        "endLine": 307,
        "endChar": 55
      },
      "revId": "31573ec9a6106627a3a49891bf3c66035a3f930f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f8035ddb_4b7e5825",
        "filename": "runtime/fault_handler.cc",
        "patchSetId": 2
      },
      "lineNbr": 307,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2022-12-14T13:35:59Z",
      "side": 1,
      "message": "Improved comments.",
      "parentUuid": "1182eb52_a8a4f034",
      "range": {
        "startLine": 307,
        "startChar": 6,
        "endLine": 307,
        "endChar": 55
      },
      "revId": "31573ec9a6106627a3a49891bf3c66035a3f930f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}