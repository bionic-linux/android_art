{
  "comments": [
    {
      "key": {
        "uuid": "c8a5522c_52779f73",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 432,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2019-08-16T16:06:42Z",
      "side": 1,
      "message": "Just to clarify for my own understanding, if not flattened the srcs are nil (https://android-review.googlesource.com/c/platform/build/soong/+/1101295/3/apex/apex.go) and nothing is generated by this rule as a consequence.",
      "range": {
        "startLine": 432,
        "startChar": 12,
        "endLine": 432,
        "endChar": 52
      },
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ef0ab02a_63194ce7",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 432,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-08-19T17:05:37Z",
      "side": 1,
      "message": "This syntax is news to me, and I can\u0027t say I get a good idea of what it means. Is it possible to put the srcs parameter inside flatten_apex{} instead?",
      "range": {
        "startLine": 432,
        "startChar": 40,
        "endLine": 432,
        "endChar": 52
      },
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0494e7a_3fb58a76",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 432,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-08-19T19:05:47Z",
      "side": 1,
      "message": "\u003e Just to clarify for my own understanding, if not flattened the srcs are nil (https://android-review.googlesource.com/c/platform/build/soong/+/1101295/3/apex/apex.go)\n\nThat\u0027s correct.\n\n\u003e and nothing is generated by this rule as a consequence.\n\nNothing is generated indeed – but the reason is `cmd` being a no-op (it just refreshes a timestamp) by default (see line 434); it actually executes the test script only when flattening is enabled (see the conditional lines 435–442).\n\nNote that I\u0027ve changed this in PS4 to revert to the logic in PS1 (see other comments).",
      "parentUuid": "c8a5522c_52779f73",
      "range": {
        "startLine": 432,
        "startChar": 12,
        "endLine": 432,
        "endChar": 52
      },
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f7457ab3_a0cd3f0e",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 432,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-08-19T19:05:47Z",
      "side": 1,
      "message": "This is a \"tag\" honored by the `apex.apexBundle.OutputFiles` method: you can see the associated logic here: https://android-review.googlesource.com/c/platform/build/soong/+/1101295/3/apex/apex.go#629\n\nAs suggested by Colin, I\u0027ve changed this logic in PS4 to make the \"enabled\" property conditional (as in PS1) instead of the \"cmd\" property.",
      "parentUuid": "ef0ab02a_63194ce7",
      "range": {
        "startLine": 432,
        "startChar": 40,
        "endLine": 432,
        "endChar": 52
      },
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7ded45ed_f680b571",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 437,
      "author": {
        "id": 1002751
      },
      "writtenOn": "2019-08-16T22:16:55Z",
      "side": 1,
      "message": "I think enabled: false is better than a noop command if this is going to vary between flattened and non-flattened.",
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "b389cd01_ccbaa759",
        "filename": "build/apex/Android.bp",
        "patchSetId": 3
      },
      "lineNbr": 437,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-08-19T19:05:47Z",
      "side": 1,
      "message": "Right; I\u0027ve reverted to the previous approach (from PS1) in PS4.",
      "parentUuid": "7ded45ed_f680b571",
      "revId": "7c1f4f0c0249d46dcdb3440505ec866e6c9a4633",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}