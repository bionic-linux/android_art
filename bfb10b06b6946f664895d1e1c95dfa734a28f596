{
  "comments": [
    {
      "key": {
        "uuid": "534849f8_5ddd1de3",
        "filename": "perfetto_hprof/perfetto_hprof.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1128769
      },
      "writtenOn": "2020-04-06T15:44:55Z",
      "side": 1,
      "message": "So this just does the right thing on the socket, including evaluating the sepolicy? (Given that you\u0027ve tested it, I assume so, but am mildly surprised.)\nWhen a denial fires, how does it look like (is it just the \"socket write\")? Would we e.g. technically miss a missing \"connect\" rule?\n\nLGTM if it works, mostly curious what this checks in practice.",
      "range": {
        "startLine": 129,
        "startChar": 50,
        "endLine": 129,
        "endChar": 87
      },
      "revId": "bfb10b06b6946f664895d1e1c95dfa734a28f596",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "a9d576a9_a5ffabb9",
        "filename": "perfetto_hprof/perfetto_hprof.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2020-04-06T15:47:17Z",
      "side": 1,
      "message": "It does check SELinux as well. connect(2) also checks for write on the socket domain as well.\n\nI do not think we would catch a missing connect rule, if we had write. But that would be a very weird state to be.\n\nI think this is neater than actually connecting, but that is also fine with me. WDYT?",
      "parentUuid": "534849f8_5ddd1de3",
      "range": {
        "startLine": 129,
        "startChar": 50,
        "endLine": 129,
        "endChar": 87
      },
      "revId": "bfb10b06b6946f664895d1e1c95dfa734a28f596",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "028af380_7a157ff3",
        "filename": "perfetto_hprof/perfetto_hprof.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1128769
      },
      "writtenOn": "2020-04-06T15:55:22Z",
      "side": 1,
      "message": "imo, connect is a bit more self-explanatory (the only reason I believe this access() is because you\u0027ve tried it in practice), but I\u0027m also fine with this as it doesn\u0027t require creating FDs.",
      "parentUuid": "a9d576a9_a5ffabb9",
      "range": {
        "startLine": 129,
        "startChar": 50,
        "endLine": 129,
        "endChar": 87
      },
      "revId": "bfb10b06b6946f664895d1e1c95dfa734a28f596",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bb44c5a1_c61ab803",
        "filename": "perfetto_hprof/perfetto_hprof.cc",
        "patchSetId": 4
      },
      "lineNbr": 129,
      "author": {
        "id": 1268571
      },
      "writtenOn": "2020-04-06T16:11:25Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "028af380_7a157ff3",
      "range": {
        "startLine": 129,
        "startChar": 50,
        "endLine": 129,
        "endChar": 87
      },
      "revId": "bfb10b06b6946f664895d1e1c95dfa734a28f596",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}