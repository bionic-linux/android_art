{
  "comments": [
    {
      "key": {
        "uuid": "2e1e095a_7454281a",
        "filename": "runtime/gc/heap.cc",
        "patchSetId": 1
      },
      "lineNbr": 3033,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2015-01-05T19:44:25Z",
      "side": 1,
      "message": "What\u0027s the point of this change?",
      "range": {
        "startLine": 3033,
        "startChar": 50,
        "endLine": 3033,
        "endChar": 57
      },
      "revId": "47ffdc82c84b33ba39603f694bd07244df086e34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ef61548_c5b22e54",
        "filename": "runtime/monitor.cc",
        "patchSetId": 1
      },
      "lineNbr": 461,
      "author": {
        "id": 1010118
      },
      "writtenOn": "2015-01-03T02:02:20Z",
      "side": 1,
      "message": "This doesn\u0027t look sound. If there were a GC checkpoint it wouldn\u0027t be run and you\u0027d not pass through the barrier.",
      "range": {
        "startLine": 459,
        "startChar": 0,
        "endLine": 461,
        "endChar": 54
      },
      "revId": "47ffdc82c84b33ba39603f694bd07244df086e34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6e2481a4_bcd06908",
        "filename": "runtime/thread-inl.h",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1022530
      },
      "writtenOn": "2015-01-05T19:44:25Z",
      "side": 1,
      "message": "I think I have the same concern as Ian\u0027s comment.\n\nIf a thread could transition from runnable to suspended without checking/running the checkpoint, would it be safe?\n\nIn other words, if a checkpoint is pending for this thread (that is, the kCheckpointRequest flag was set while the thread was runnable), and the thread transitions to suspended without running the checkpoint here and stays in the suspended state (eg. waiting with Object.wait()) for a long time, would it starve/block the thread requesting the checkpoint (eg GC) for a long time because the checkpoint function would not be run for that thread (for a long time)?",
      "range": {
        "startLine": 120,
        "startChar": 8,
        "endLine": 120,
        "endChar": 23
      },
      "revId": "47ffdc82c84b33ba39603f694bd07244df086e34",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}