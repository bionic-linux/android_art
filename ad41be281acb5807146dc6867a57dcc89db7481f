{
  "comments": [
    {
      "key": {
        "uuid": "bc9a3e2f_405e231e",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2019-03-21T02:11:30Z",
      "side": 1,
      "message": "I\u0027m a bit inclined to use a non-overlapping value here. Can be convinced otherwise :)",
      "range": {
        "startLine": 48,
        "startChar": 13,
        "endLine": 48,
        "endChar": 15
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c0f8f0c2_5a790872",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-21T12:35:32Z",
      "side": 1,
      "message": "Done\nI went with zero simply because that is the unix value for success. You\u0027re right that we could use a different value as a sanity check that dexoptanalyzer actually entered the flatten-context code path.",
      "parentUuid": "bc9a3e2f_405e231e",
      "range": {
        "startLine": 48,
        "startChar": 13,
        "endLine": 48,
        "endChar": 15
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a31dc76f_96c728a1",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 339,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-03-20T18:28:40Z",
      "side": 1,
      "message": "const ?",
      "range": {
        "startLine": 339,
        "startChar": 33,
        "endLine": 339,
        "endChar": 34
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9b543dfb_5785651b",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 339,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-21T12:35:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a31dc76f_96c728a1",
      "range": {
        "startLine": 339,
        "startChar": 33,
        "endLine": 339,
        "endChar": 34
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "59aa6ffd_8bef6788",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 367,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-03-20T18:28:40Z",
      "side": 1,
      "message": "Is that used ?",
      "range": {
        "startLine": 367,
        "startChar": 0,
        "endLine": 367,
        "endChar": 29
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "17335877_8414d209",
        "filename": "dexoptanalyzer/dexoptanalyzer.cc",
        "patchSetId": 2
      },
      "lineNbr": 367,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-21T12:35:32Z",
      "side": 1,
      "message": "Well spotted.",
      "parentUuid": "59aa6ffd_8bef6788",
      "range": {
        "startLine": 367,
        "startChar": 0,
        "endLine": 367,
        "endChar": 29
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "238c7462_0729fa97",
        "filename": "libdexfile/dex/art_dex_file_loader.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-03-20T18:28:40Z",
      "side": 1,
      "message": "Why do we need a new method? Even before we passed the fd for the base apk, is the problem that we hardcoded that it was a zip fd?",
      "range": {
        "startLine": 83,
        "startChar": 2,
        "endLine": 89,
        "endChar": 0
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "dc7c172e_3655e35c",
        "filename": "libdexfile/dex/art_dex_file_loader.h",
        "patchSetId": 2
      },
      "lineNbr": 89,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-20T18:53:38Z",
      "side": 1,
      "message": "Yep, we do pass FD for the input dex but that logic goes through OatWriter [1, 2] which \n- assumes the file is a zip\n- opens the zip in memory and then uses other ArtDexFileLoader functions to open the zip entries as dex files\n\nAFAIK, there isn\u0027t a function for loading DEX or ZIP from an FD like this.\n\n[1] https://cs.corp.google.com/aosp-master/art/dex2oat/dex2oat.cc?rcl\u003da040ddc1378118ac6b3735fa8333c1a19e646fe1\u0026l\u003d2359\n[2] https://cs.corp.google.com/aosp-master/art/dex2oat/linker/oat_writer.cc?rcl\u003da040ddc1378118ac6b3735fa8333c1a19e646fe1\u0026l\u003d538",
      "parentUuid": "238c7462_0729fa97",
      "range": {
        "startLine": 83,
        "startChar": 2,
        "endLine": 89,
        "endChar": 0
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "711f46bf_7472b422",
        "filename": "runtime/class_loader_context.cc",
        "patchSetId": 2
      },
      "lineNbr": 432,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2019-03-21T02:11:30Z",
      "side": 1,
      "message": "line too long",
      "range": {
        "startLine": 432,
        "startChar": 0,
        "endLine": 432,
        "endChar": 102
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "8138f326_2db89ec0",
        "filename": "runtime/class_loader_context.cc",
        "patchSetId": 2
      },
      "lineNbr": 432,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-21T12:35:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "711f46bf_7472b422",
      "range": {
        "startLine": 432,
        "startChar": 0,
        "endLine": 432,
        "endChar": 102
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d365a7fa_61343731",
        "filename": "runtime/class_loader_context.cc",
        "patchSetId": 2
      },
      "lineNbr": 799,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2019-03-20T18:28:40Z",
      "side": 1,
      "message": "Why can\u0027t you use FlattenOpenedDexFiles ?",
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "e777a053_cf2f34bc",
        "filename": "runtime/class_loader_context.cc",
        "patchSetId": 2
      },
      "lineNbr": 799,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-20T18:53:38Z",
      "side": 1,
      "message": "Because dexoptanalyzer is not allowed to open the files, so we can only flatten the classpath strings",
      "parentUuid": "d365a7fa_61343731",
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "06757e15_8ae40b8c",
        "filename": "runtime/class_loader_context.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2019-03-21T02:11:30Z",
      "side": 1,
      "message": "Document how you handle the empty list (when the files are opened using their fds vs names)",
      "range": {
        "startLine": 74,
        "startChar": 20,
        "endLine": 74,
        "endChar": 77
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "7046ca9f_7f88c2af",
        "filename": "runtime/class_loader_context.h",
        "patchSetId": 2
      },
      "lineNbr": 74,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2019-03-21T12:35:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "06757e15_8ae40b8c",
      "range": {
        "startLine": 74,
        "startChar": 20,
        "endLine": 74,
        "endChar": 77
      },
      "revId": "ad41be281acb5807146dc6867a57dcc89db7481f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}