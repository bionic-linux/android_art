{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "c8de2d98_a5523fdd",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-27T17:47:22Z",
      "side": 1,
      "message": "I\u0027m getting deja vu here. Aren\u0027t we running this in presubmit? It ought to be submit blocking, oughtn\u0027t it? Otherwise it\u0027ll be a constant battle with regression.",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1547caa6_2a71478f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2023-10-30T10:19:49Z",
      "side": 1,
      "message": "You\u0027re right this is a déjà vu, I have fixed this issue (and the ones in the following CLs) already, but we had a regression while adding some new code. I was fairly sure we were running clang-tidy as part of the build process (because I remember it failing a few times, and the clang-tidy checks are stated in art/build/Android.bp) but I can\u0027t find any proof of that in the build.log files, so I\u0027m having seconds thoughts now - do you recommend having an explicit target like art-cpplint for the master-art manifest? I was also thinking having a pre-upload hook that runs only on the changed files (similarly to what you have implemented for clang-format), do you think it would be good to have?",
      "parentUuid": "c8de2d98_a5523fdd",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d4047512_835091b4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-30T11:49:46Z",
      "side": 1,
      "message": "I don\u0027t think we can have any checks in a pre-upload hook that require building (or invoking Soong at all), so I think presubmit is the right way. Maybe an AyeAye check but that\u0027s probably a bit more work to set up.\n\nIt\u0027s only run with `m tidy-art`, and not in an ordinary platform (or module) build, right? I can\u0027t find \"tidy-art\" in the CI configuration, so if it\u0027s not executed in a normal build it\u0027s probably not run in CI at all, and we need to fix that.",
      "parentUuid": "1547caa6_2a71478f",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7bdad370_734d5095",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2023-10-30T14:43:07Z",
      "side": 1,
      "message": "That\u0027s correct, it seems `clang-tidy` only runs when running `m tidy-art` (I was fairly convinced it also ran as part of the usual build target, but I have build ART locally with a known clang-tidy issues and it wasn\u0027t spotted).\n\nWhere\u0027s the CI configuration?",
      "parentUuid": "d4047512_835091b4",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c4b72586_15660b4b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-31T14:31:11Z",
      "side": 1,
      "message": "I see we already have the `cpplint` target on both [aosp-master-art](http://google3/configs/wireless/android/busytown/platform/aosp/aosp-master-art.gcl;l\u003d81;rcl\u003d577218535) and [git_master-art](http://google3/configs/wireless/android/busytown/platform/git_master/git_master-art.gcl;l\u003d80;rcl\u003d577172931), and both are in [presubmit](http://cs/rule_art_cpplint). So it\u0027s just a matter of making sure `clang-tidy` is built there? Apparently it\u0027s not part of `cpplint-art-all`.",
      "parentUuid": "7bdad370_734d5095",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "71306e63_fa15bb15",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1948615
      },
      "writtenOn": "2023-10-31T15:56:54Z",
      "side": 1,
      "message": "I have created a separate CL for running clang-tidy in post-submits - in the meantime shall I go ahead and submit the approved changes?",
      "parentUuid": "c4b72586_15660b4b",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c7fb80e8_f3c3ebcb",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-10-31T15:59:49Z",
      "side": 1,
      "message": "Thanks. Please do.",
      "parentUuid": "71306e63_fa15bb15",
      "range": {
        "startLine": 7,
        "startChar": 4,
        "endLine": 7,
        "endChar": 29
      },
      "revId": "397279721199fa1bd8ea7540875581af2019c216",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}