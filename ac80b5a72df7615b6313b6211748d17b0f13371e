{
  "comments": [
    {
      "key": {
        "uuid": "4bc24f1f_cd6829da",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "We can take care of that in a separate commit.\nShould we start creating architecture specific directories to help sort files, or should we stick with only using an architecture suffix in the filename?",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_bb91535d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 39,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Last I talked with Nicolas this was his preferred way...",
      "parentUuid": "4bc24f1f_cd6829da",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_2d0f6d27",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "only one empty line",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_1b0ae716",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 155,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "There once was a time when I tried to separate the different intrinsics. Obviously it\u0027s not consistent. Done.",
      "parentUuid": "4bc24f1f_2d0f6d27",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_51be14d8",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "In some other places you use\n  FPRegister fp_out \u003d is64bit ? DRegisterFrom(out) : SRegisterFrom(out);\nBoth are fine I think, but it would be nice to have the same everywhere if it works.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_9f1d5f5a",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 224,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Yeah, left-over.",
      "parentUuid": "cbd63fdb_51be14d8",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_0d239198",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 247,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "No need for ARM64. We do not need the extra temp register that X86 needs here.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_bf1aa35d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 247,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Forgot to clean that one up.",
      "parentUuid": "4bc24f1f_0d239198",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_8d6221f6",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 264,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "Cneg is clearer, and pl is for unsigned comparisons, so:\n\n__ Cmp(in_reg, 0);\n__ Cneg(out_reg, in_reg, lt);",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_1b23c798",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 264,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Sorry, still used to the Quick way, where aliases were not explicitly exposed. In that case pl *is* the right thing to do (and no, it\u0027s not for unsigned, pl \u003d plus \u003d \u003e\u003d 0).",
      "parentUuid": "4bc24f1f_8d6221f6",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_4dd2f918",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "CreateIntToIntLocations()",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_1f23af98",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 269,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bc24f1f_4dd2f918",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_510054f8",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "CreateIntToIntLocations()",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_3b280370",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 277,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "cbd63fdb_510054f8",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4b940fff_20d20466",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1042649
      },
      "writtenOn": "2015-01-16T11:03:23Z",
      "side": 1,
      "message": "Can we just use the input type and return type of HInvoke to build the location summary? So that we can make the LocationBuilder more generalized. The only difference will be the number of temps.",
      "range": {
        "startLine": 268,
        "startChar": 0,
        "endLine": 282,
        "endChar": 1
      },
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc55323_e2696e94",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 282,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "I am thinking about some generalized, likely templatized helpers. I don\u0027t really want this to be backend-specific, which means it\u0027s a bit more complicated than you think (x86...).\n\nBut right now I don\u0027t think it would help readability to do what you suggest.",
      "parentUuid": "4b940fff_20d20466",
      "range": {
        "startLine": 268,
        "startChar": 0,
        "endLine": 282,
        "endChar": 1
      },
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_0f0aa516",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 300,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "No temp here. Rename to CreateFPFPtoFP() ?",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_9f36bfd0",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 300,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8be0c7b0_0f0aa516",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_adccbd75",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 410,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "#define ___  GetAssembler() ?",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_9bcfb76a",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 410,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Definitely not, I don\u0027t want to undef. This was laziness. The right way is a local.",
      "parentUuid": "4bc24f1f_adccbd75",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_1ff5ef90",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 440,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "This is actually the wrong name.",
      "range": {
        "startLine": 440,
        "startChar": 12,
        "endLine": 440,
        "endChar": 44
      },
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_2dfa0d80",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 445,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "kNoOverlap",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_edeba5b1",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 447,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "No temps needed here - see my comments below.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_7f051b07",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 447,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "It was a certain Serban Constantinescu who git blame mentions for the Quick code. :-)",
      "parentUuid": "4bc24f1f_edeba5b1",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_10cc0af9",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 447,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-19T11:27:17Z",
      "side": 1,
      "message": "That explains it :-).",
      "parentUuid": "abdbcb04_7f051b07",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_f13948c1",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 456,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "reuse out, as Alex suggested.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_9bc1f730",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 456,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Can\u0027t. Out is GPR...",
      "parentUuid": "cbd63fdb_f13948c1",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_5497e2d7",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 456,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-19T11:27:17Z",
      "side": 1,
      "message": "Yes, you are right.",
      "parentUuid": "2bcfdb48_9bc1f730",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_2f28c96f",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 459,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "no need for a second temp, use out reg as well.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc55323_425e42e9",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 459,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "That is correct.",
      "parentUuid": "8be0c7b0_2f28c96f",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_ef108143",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 462,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "is_double ?  ... : ...                  \n\nAlex has a similar comment above.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_4dbe79d8",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 466,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "We can use out_reg instead of temp2_reg in the Fadd.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc55323_c249d22d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 466,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "No. Out is GPR.",
      "parentUuid": "4bc24f1f_4dbe79d8",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_0dc87184",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "Doesn\u0027t Fcvt work here (without the Fadd 0.5)? I think we assume the system rounding mode is \u0027round to nearest\u0027.\n\nFor double -\u003e int, it should be fine since any int can be represented exactly by a double. For others we need to check the expectations in the corner cases.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_af1a795d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "Alex: FYI, this comes from:\n\nbool Arm64Mir2Lir::GenInlinedRound(CallInfo* info, bool is_double)  in quick/arm64/fp_arm64.cc\n\nI remember there are some corner cases that Fcvt does not handle, but I might be wrong. It is worth trying it out. I should have added the corner case tests in 2eba1fa7 .",
      "parentUuid": "4bc24f1f_0dc87184",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_cd6fc967",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T13:55:51Z",
      "side": 1,
      "message": "Looks like Fcvt is only FP to FP. I meant Fmov for FP to int.",
      "parentUuid": "8be0c7b0_af1a795d",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_0db87166",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 467,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T14:15:09Z",
      "side": 1,
      "message": "Does not work:\n\nAssert.assertEquals(Math.round(-0.0d), (long)+0.0);",
      "parentUuid": "4bc24f1f_cd6fc967",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_ade59ddf",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 471,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "We do not need the extra 2 temps, but please note that we cannot use CreateFloatToFloat() since we use the out register as a temp.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "abdbcb04_9fe8ffb6",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 471,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "See above. It should have been FPtoInt(PlusTemp) all along...",
      "parentUuid": "4bc24f1f_ade59ddf",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_4da43999",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 479,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "ditto",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_6fc3316d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 491,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "I find the helper useful when the type is not statically known. Otherwise I find using the masm directly more clear. What about\n  __ Ldrb(WRegisterFrom(...), MemOperand(...));\nhere?\n\nOther occurrences below for Load and Store.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_b133c0df",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 491,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "Maybe even simpler:\n\n__ Ldrb(WRegisterFrom(), HeapOperandFrom(location, 0));",
      "parentUuid": "8be0c7b0_6fc3316d",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc55323_c2d232e0",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 491,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "This was mostly to abstract which kind of Load is necessary. Personally I prefer that, but it\u0027s your backend. It\u0027s currently OK as the Memory API does not expose a peekObject. But if we ever have packed heaps (as you allude to below), this will suddenly get messy. And you already made a mistake, it should be ldrsb...\n\nHeapOperand won\u0027t work. The address is a long, so should be in an X register.",
      "parentUuid": "cbd63fdb_b133c0df",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_6da9f56d",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 503,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "see Alex\u0027s comment above.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_d1b1a403",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 511,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "Same?",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_2db3eddd",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 521,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "ditto.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_ef3961c1",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 540,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "ditto for the Poke family.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_cdb7c9c6",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 583,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "As mentioned for the peek/poke I would find it easier to read if we use VIXL masm directly",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_8dc1c130",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 588,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "I suggest using a WRegisterFrom()  - the base is a heap object isnt\u0027t it?\n\nI think it is safer to catch a misuse of a heap address in the HeapOperand() DCHECKs, rather than using it as an XRegister. \n\nAlso, if we get the heap uses right we can easily experiment with other heap addressing modes - shifted refs might be easily abstracted in the helper.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bc55323_829c2afa",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 588,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "I\u0027m not sure I agree. This should be an *unpacked* pointer. In managed code, this should always be the native pointer, no matter what. The packing/unpacking happens at load/store time.",
      "parentUuid": "4bc24f1f_8dc1c130",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_afb839e3",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 594,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "If the offset is already a \u0027long\u0027 you can use:\n  MemOperand(base, offset)",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_4fd2ed18",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 594,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "And using Heap operand here.\n\nAgain, since we know already what we load here the code is more readable if we \n\nLdr(trg, HeapOperand(base, offset))",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_fb235b42",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 594,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "8be0c7b0_4fd2ed18",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_91cf9c6a",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 599,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "This is a Ldar() - Load Acquire. \n\nIn the codegen we use:\n if (kUseAcquireRelease) {\n    Acquire-Release varinat\n } else\n   DMB variant\n }\n\nAnd for the optimizing compiler we always prefer Load-Acquire over DMB variant (at least for now). If you do not have the bandwith to add the Ldar variant please add a // TODO: Add Load-Acquire variant.",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2bcfdb48_bb1dd300",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 599,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-01-16T17:25:47Z",
      "side": 1,
      "message": "Was just a straightforward translation. This will come in another PS.",
      "parentUuid": "cbd63fdb_91cf9c6a",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cbd63fdb_91bb1ce0",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 675,
      "author": {
        "id": 1052304
      },
      "writtenOn": "2015-01-16T10:10:47Z",
      "side": 1,
      "message": "Opportunities for load-acquire store-release?",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4bc24f1f_ed9de541",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 679,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "WReg",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8be0c7b0_0fdce526",
        "filename": "compiler/optimizing/intrinsics_arm64.cc",
        "patchSetId": 3
      },
      "lineNbr": 688,
      "author": {
        "id": 1030338
      },
      "writtenOn": "2015-01-16T11:30:16Z",
      "side": 1,
      "message": "HeapOperand()\n\nSame as my comment above  - this is also a store-release",
      "revId": "ac80b5a72df7615b6313b6211748d17b0f13371e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}