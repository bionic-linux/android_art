{
  "comments": [
    {
      "key": {
        "uuid": "42fe5d8a_89ecf955",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": ":) A few checker tests please :)",
      "range": {
        "startLine": 31,
        "startChar": 6,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8d19e53a_ce51ceb0",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 31,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "42fe5d8a_89ecf955",
      "range": {
        "startLine": 31,
        "startChar": 6,
        "endLine": 31,
        "endChar": 10
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cdcb4150_c867eddc",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "Allocate this with your own allocator (a requirement moving forward. I know some passes don\u0027t do this just yet).",
      "range": {
        "startLine": 26,
        "startChar": 26,
        "endLine": 26,
        "endChar": 69
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8ca6d9dd_238cda06",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "Did not know about this, thanks.",
      "parentUuid": "cdcb4150_c867eddc",
      "range": {
        "startLine": 26,
        "startChar": 26,
        "endLine": 26,
        "endChar": 69
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d8ce1f63_fe513e32",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 26,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-08-11T22:45:43Z",
      "side": 1,
      "message": "In fact I think *most* passes don\u0027t do this yet :-)\nLook at loop_optim for an example that keeps all alloc truly pass local (i.e. release at end of pass, not method)",
      "parentUuid": "8ca6d9dd_238cda06",
      "range": {
        "startLine": 26,
        "startChar": 26,
        "endLine": 26,
        "endChar": 69
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c6fd94a_2d792c2b",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 58,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "Doesn\u0027t it act as a publish barrier?",
      "range": {
        "startLine": 58,
        "startChar": 4,
        "endLine": 58,
        "endChar": 49
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "87ff0886_6957a0eb",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "drop?",
      "range": {
        "startLine": 120,
        "startChar": 9,
        "endLine": 120,
        "endChar": 17
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0a9e1562_2c50c993",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 120,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "87ff0886_6957a0eb",
      "range": {
        "startLine": 120,
        "startChar": 9,
        "endLine": 120,
        "endChar": 17
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "19795dd4_3309c7e2",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "size() \u003c 2 ?",
      "range": {
        "startLine": 130,
        "startChar": 26,
        "endLine": 130,
        "endChar": 33
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "507f7dd1_275086da",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "It works either way, do you prefer size() \u003c 2 ?",
      "parentUuid": "19795dd4_3309c7e2",
      "range": {
        "startLine": 130,
        "startChar": 26,
        "endLine": 130,
        "endChar": 33
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cb959726_d9a93192",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T18:03:27Z",
      "side": 1,
      "message": "Yes, as it would then match the comment line 131.",
      "parentUuid": "507f7dd1_275086da",
      "range": {
        "startLine": 130,
        "startChar": 26,
        "endLine": 130,
        "endChar": 33
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cef96c04_51c34abc",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 130,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T18:04:14Z",
      "side": 1,
      "message": "Or maybe I should change the comment on line 131? :)",
      "parentUuid": "cb959726_d9a93192",
      "range": {
        "startLine": 130,
        "startChar": 26,
        "endLine": 130,
        "endChar": 33
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8e2e17ca_a44a0cc6",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "Would it be worth having some bookeeping to avoid walking over the inputs? Relates to what would be the pathological case for the number of inputs of a fence.",
      "range": {
        "startLine": 149,
        "startChar": 6,
        "endLine": 153,
        "endChar": 7
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9c4e6fab_0d5a20d6",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 153,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "I can store a set of interesting_publishes -\u003e HInstruction if you want?",
      "parentUuid": "8e2e17ca_a44a0cc6",
      "range": {
        "startLine": 149,
        "startChar": 6,
        "endLine": 153,
        "endChar": 7
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9a5d5de1_7fc55a4b",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "Add a comment about the order you chose (and whether it\u0027s relevant).",
      "range": {
        "startLine": 188,
        "startChar": 2,
        "endLine": 188,
        "endChar": 39
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c6c2fb4_cbb34bd1",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.cc",
        "patchSetId": 1
      },
      "lineNbr": 188,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "(It doesn\u0027t since it only looks within the same block, but maybe I missed an abstraction for a block-level optimization pass?)",
      "parentUuid": "9a5d5de1_7fc55a4b",
      "range": {
        "startLine": 188,
        "startChar": 2,
        "endLine": 188,
        "endChar": 39
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "40b10704_6276ffd4",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "What would be the difference with \"non-greedily\"? In other words, do you need this adjective to describe your pass?",
      "range": {
        "startLine": 27,
        "startChar": 34,
        "endLine": 27,
        "endChar": 42
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "764a42cb_f31b4918",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 27,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "It\u0027s greedy because the results are non-optimal.\n\nFor example\n\n   CF(x)\n   publish(x)\n   CF(y)\n   publish(y)\n\nwill not be optimized, but a clever-er algorithm would rearrange the publishes\n\n   CF(x)\n   CF(y)\n   publish(x)\n   publish(y)\n\nnow it becomes safe to merge the CFs\n\n   CF(x, y)\n   publish(x)\n   publish(y)",
      "parentUuid": "40b10704_6276ffd4",
      "range": {
        "startLine": 27,
        "startChar": 34,
        "endLine": 27,
        "endChar": 42
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0aa43b6c_088c19dd",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "nit: alignment is off",
      "range": {
        "startLine": 50,
        "startChar": 40,
        "endLine": 51,
        "endChar": 54
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "531984f9_853d5d0d",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 51,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "Ack",
      "parentUuid": "0aa43b6c_088c19dd",
      "range": {
        "startLine": 50,
        "startChar": 40,
        "endLine": 51,
        "endChar": 54
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "342140e9_0b5f3aae",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "how bad would it be to have the full name?",
      "range": {
        "startLine": 56,
        "startChar": 44,
        "endLine": 56,
        "endChar": 48
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5627cb44_9fee8d87",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "I can write the full thing out, I started with the abbreviation to make writing checker tests faster.",
      "parentUuid": "342140e9_0b5f3aae",
      "range": {
        "startLine": 56,
        "startChar": 44,
        "endLine": 56,
        "endChar": 48
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3f951cec_3381b110",
        "filename": "compiler/optimizing/constructor_fence_redundancy_elimination.h",
        "patchSetId": 1
      },
      "lineNbr": 56,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2017-08-11T22:45:43Z",
      "side": 1,
      "message": "ok to pick something short, but this is rather cryptic\n\nhow about\n\ncfence_redundancy_elim\n\n?",
      "parentUuid": "5627cb44_9fee8d87",
      "range": {
        "startLine": 56,
        "startChar": 44,
        "endLine": 56,
        "endChar": 48
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "031652e0_1f0ce27b",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 1299,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-08-10T09:37:33Z",
      "side": 1,
      "message": "What\u0027s the average size of inputs for a fence? Any pathological case?",
      "range": {
        "startLine": 1283,
        "startChar": 0,
        "endLine": 1299,
        "endChar": 3
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "8717562a_f8beb14b",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 1299,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-08-10T17:54:55Z",
      "side": 1,
      "message": "I\u0027ll experiment with some logging and find out.",
      "parentUuid": "031652e0_1f0ce27b",
      "range": {
        "startLine": 1283,
        "startChar": 0,
        "endLine": 1299,
        "endChar": 3
      },
      "revId": "6524e983f6b176670c885e6795739cd800491962",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}