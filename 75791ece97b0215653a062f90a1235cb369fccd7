{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "dbf03994_0d8e7efd",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-11-29T10:46:10Z",
      "side": 1,
      "message": "Then why do you need this code? Wouldn\u0027t the checks line 92-103 also pass and return `kSkipCompilationSmallDelta` ?",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "37a89ca4_13d07a79",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-11-29T10:58:25Z",
      "side": 1,
      "message": "Background dexopt will iterate over apps twice. In the first pass, it invokes profman without `--force-merge-and-analyze`. In the second pass, it invokes profman with `--force-merge-and-analyze`.\n\nThe `else` block below handles the first pass: it tells ART Service not to re-compile if the difference does not meet the thresholds. The `if` block here handles the second pass: it tells ART Service not to re-compile if there is no any difference.",
      "parentUuid": "dbf03994_0d8e7efd",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c65ec495_8893495b",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-11-29T11:01:38Z",
      "side": 1,
      "message": "What I\u0027m saying is that you don\u0027t need this block AFAICS. Given the values are equal, they will also return `kSkipCompilationSmallDelta` with the checks below.",
      "parentUuid": "37a89ca4_13d07a79",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "1285addc_062bd88f",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-11-29T11:05:31Z",
      "side": 1,
      "message": "I need this block. In the `--force-merge-and-analyze` case (the second pass), if the delta is small but not zero, I don\u0027t want profman to return `kSkipCompilationSmallDelta`. I want it to return `kCompile`. That\u0027s why I put line 92-104 into an else block so that it\u0027s not executed in the `--force-merge-and-analyze` case.",
      "parentUuid": "c65ec495_8893495b",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e693c0fb_7dfb3024",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-11-29T11:31:56Z",
      "side": 1,
      "message": "Ah! Can you add that as a comment then? Something like \"when we force merge and analyze we want to always recompile unless the profile really hasn\u0027t changed\".",
      "parentUuid": "1285addc_062bd88f",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f0e14fe4_0110eb7c",
        "filename": "profman/profile_assistant.cc",
        "patchSetId": 3
      },
      "lineNbr": 86,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2023-11-29T11:37:49Z",
      "side": 1,
      "message": "SG. Done.",
      "parentUuid": "e693c0fb_7dfb3024",
      "range": {
        "startLine": 84,
        "startChar": 0,
        "endLine": 86,
        "endChar": 36
      },
      "revId": "75791ece97b0215653a062f90a1235cb369fccd7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}