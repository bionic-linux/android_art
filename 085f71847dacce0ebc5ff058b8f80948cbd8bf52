{
  "comments": [
    {
      "key": {
        "uuid": "7997394e_35ae95a3",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2019-04-10T13:08:11Z",
      "side": 1,
      "message": "I\u0027m trying to understand this, which means I need to understand the difference between GetAndroidRoot and GetAndroidRuntimeRoot on host. The documentation strings in file_utils.h aren\u0027t very revealing for that, so if you have a good understanding I think it would be helpful to give them a look-over. Then if the docs would focus more on what they\u0027re intended to be used for rather than how they\u0027re derived it\u0027d be even better.\n\n(I\u0027d guess the two functions would return the same thing on host, but then I wonder why this function can\u0027t use GetRootContainingLibartbase.)",
      "range": {
        "startLine": 226,
        "startChar": 43,
        "endLine": 226,
        "endChar": 57
      },
      "revId": "085f71847dacce0ebc5ff058b8f80948cbd8bf52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "0c4f9545_da9f44cc",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 8
      },
      "lineNbr": 226,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2019-04-10T16:26:04Z",
      "side": 1,
      "message": "Just to make things clear: Methods `GetAndroidRootSafe` and `GetAndroidRuntimeRootSafe` are normally not supposed to return the same path, even on host.\n\nI\u0027ve developed the documentation of these methods a bit in PS9.\n\nSomething which is a bit misleading is that default paths `kAndroidRootDefaultPath` (i.e. \"/system\") and `kAndroidRuntimeApexDefaultPath` (i.e. \"/apex/com.android.runtime\") only make sense on target, but the logic around these default values in `GetAndroidRootSafe` and `GetAndroidRuntimeRootSafe` don\u0027t make the distinction between host and target. I\u0027ll try to improve that in another CL.\n\nAnother thing which is a bit confusing is that the ART binaries (and libraries) on host are *not* under the Android Runtime Root: they are still in the Android Root. This is somehow addressed by https://android-review.googlesource.com/c/platform/art/+/941387. I\u0027ll file a discussion bug about this.",
      "parentUuid": "7997394e_35ae95a3",
      "range": {
        "startLine": 226,
        "startChar": 43,
        "endLine": 226,
        "endChar": 57
      },
      "revId": "085f71847dacce0ebc5ff058b8f80948cbd8bf52",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}