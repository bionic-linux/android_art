{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "91b4f9e8_cb9f498a",
        "filename": "test/844-exception/src/Main.java",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-10-24T14:11:08Z",
      "side": 1,
      "message": "I am not sure I understand the issue still. This throw should still see a qucik frame on the stack right? When we are processing throw we would want to deoptimize this method but that should be handled right.",
      "revId": "f180943d76be621fa2bbe6a841f054c1480291a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "368c20f1_06c27465",
        "filename": "test/844-exception/src/Main.java",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-10-24T14:14:36Z",
      "side": 1,
      "message": "With interpreter-only, it wouldn\u0027t see a quick frame on the stack as everything is run with the switch interpreter.\n\nEven if compiled, the exception gets re-delivered as we cross interpreter/compiled transitions. And we would again see a switch interpreter frame.\n\nThere\u0027s also the second use case of not having frames at all, if we reach the top of the call stack.",
      "parentUuid": "91b4f9e8_cb9f498a",
      "revId": "f180943d76be621fa2bbe6a841f054c1480291a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e2f0efe_6fd66429",
        "filename": "test/844-exception/src/Main.java",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-10-24T14:30:40Z",
      "side": 1,
      "message": "AFAIU, exceptions from switch interpreter don\u0027t go through QuickDeliverException right? They are handled by MoveToExceptionHandler. So in interpreter-only we shouldn\u0027t see calls to QuickDeliverException at all.\n\nEven when we deoptimize on an exception, we let the switch interpreter handle a pending exception. I think that\u0027s done here: https://cs.android.com/android/platform/superproject/+/master:art/runtime/interpreter/interpreter.cc;l\u003d479;\n\nSo, we shouldn\u0027t see a shadow frame as the top frame in QucikDeliverException right?",
      "parentUuid": "368c20f1_06c27465",
      "revId": "f180943d76be621fa2bbe6a841f054c1480291a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bc2efaa7_4ef68465",
        "filename": "test/844-exception/src/Main.java",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2022-10-24T15:35:40Z",
      "side": 1,
      "message": "We will if there is a runtime frame in between:\n\n- switch interpreter frame\n- ArtMethod::Invoke \u003c--- that\u0027s the runtime frame which will look at the caller\n- Quick frame.",
      "parentUuid": "2e2f0efe_6fd66429",
      "revId": "f180943d76be621fa2bbe6a841f054c1480291a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6f5c07b7_30b73e0f",
        "filename": "test/844-exception/src/Main.java",
        "patchSetId": 2
      },
      "lineNbr": 57,
      "author": {
        "id": 1894735
      },
      "writtenOn": "2022-10-25T13:43:36Z",
      "side": 1,
      "message": "Thanks!",
      "parentUuid": "bc2efaa7_4ef68465",
      "revId": "f180943d76be621fa2bbe6a841f054c1480291a5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}