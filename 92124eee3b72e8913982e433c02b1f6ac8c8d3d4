{
  "comments": [
    {
      "key": {
        "uuid": "56ab01f0_55bbbef7",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 579,
      "author": {
        "id": 1043514
      },
      "writtenOn": "2015-10-28T23:57:48Z",
      "side": 1,
      "message": "This is now a public API and if instruction is irrelevant to the loop (not really used in the loop, say instruction and loop are in two branches), this way of testing IsLoopInvariant() will return true, which seems dangerous since people assume loop invariant is available in the loop pre-header.",
      "revId": "92124eee3b72e8913982e433c02b1f6ac8c8d3d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7621e584_8ec89f89",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 579,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2015-10-29T00:56:59Z",
      "side": 1,
      "message": "But in that case the instruction is technically loop invariant (and since this is a public API, I removed the DCHECK from here, since testing something for invariance that does not reach the body is okay).",
      "parentUuid": "56ab01f0_55bbbef7",
      "revId": "92124eee3b72e8913982e433c02b1f6ac8c8d3d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96cad9dc_3ae42994",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 579,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2015-10-29T01:30:24Z",
      "side": 1,
      "message": "I\u0027m tempted to side with Mingyao because it can be called on instructions defined after the loop, or as he says independently of the loop. Perhaps a different name would be better - IsIndependentOfLoop or something along those lines.",
      "parentUuid": "7621e584_8ec89f89",
      "revId": "92124eee3b72e8913982e433c02b1f6ac8c8d3d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "56ab01f0_f5d90ae1",
        "filename": "compiler/optimizing/nodes.cc",
        "patchSetId": 1
      },
      "lineNbr": 579,
      "author": {
        "id": 1074526
      },
      "writtenOn": "2015-10-29T01:38:10Z",
      "side": 1,
      "message": "Well, arguably it is strange to test invariance of an instruction that does not reach the loop at all.\n\nSo we have several choices.\n(1) return true in those case [this is what I picked; anything defined outside my loop is invariant]\n(2) return false in those cases [this would require an additional test, basically the DCHECK that I moved out would become part of the test\n(3) document/rename method\n\nOption 3 is dangerous, since it implies all readers agree on the terms used in the name or doc (invariance to me clearly means (1), but now we already have to people that vote for (2) :-) likewise, is-independent of means something very different to me.\n\nI am okay with either solution though, perhaps let\u0027s see what others say....",
      "parentUuid": "96cad9dc_3ae42994",
      "revId": "92124eee3b72e8913982e433c02b1f6ac8c8d3d4",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}