{
  "comments": [
    {
      "key": {
        "uuid": "2554bf0d_462f5293",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 10
      },
      "lineNbr": 495,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-09-26T15:07:11Z",
      "side": 1,
      "message": "I believe this needs to be 64-bit on 64-bit systems.\nYou can replace uint32_t with one of the types in ElfTypes.\n\nAlso note that the name/desc needs to be padded to word size.\n\nCan you please test that the build-id works for ARM64?",
      "range": {
        "startLine": 495,
        "startChar": 21,
        "endLine": 495,
        "endChar": 29
      },
      "revId": "8e07553a7571139c0a5775c8aa10018a18cba2e1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0938fd9_6af89063",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 10
      },
      "lineNbr": 495,
      "author": {
        "id": 1122300
      },
      "writtenOn": "2016-09-26T17:57:24Z",
      "side": 1,
      "message": "According to Elf spec it is always 4 bytes.  It seems to work OK for 64-bit:\n\n$ adb pull /system/framework/arm64/boot.oat\n[100%] /system/framework/arm64/boot.oat\n\n$ readelf -n boot.oat\nDisplaying notes found at file offset 0x000003c0 with length 0x00000024:\n  Owner                 Data size\tDescription\n  GNU                  0x00000014\tNT_GNU_BUILD_ID (unique build ID bitstring)\n    Build ID: 57f2052d4afe52af4bd6c707d942bd0671c465de\n\n\n\nname and size have multiple of 4 length here.  Added a static assert to document / enforce better.",
      "parentUuid": "2554bf0d_462f5293",
      "range": {
        "startLine": 495,
        "startChar": 21,
        "endLine": 495,
        "endChar": 29
      },
      "revId": "8e07553a7571139c0a5775c8aa10018a18cba2e1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85656bf7_cca0ff3e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 10
      },
      "lineNbr": 495,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-09-26T18:24:50Z",
      "side": 1,
      "message": "Can you point me to the 64-bit ELF documentation that you are using for reference?",
      "parentUuid": "b0938fd9_6af89063",
      "range": {
        "startLine": 495,
        "startChar": 21,
        "endLine": 495,
        "endChar": 29
      },
      "revId": "8e07553a7571139c0a5775c8aa10018a18cba2e1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a5bc2f98_6a779764",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 10
      },
      "lineNbr": 495,
      "author": {
        "id": 1122300
      },
      "writtenOn": "2016-09-26T18:32:07Z",
      "side": 1,
      "message": "I used http://flint.cs.yale.edu/cs422/doc/ELF_Format.pdf.  It mentions 64-bit in some sections, so I\u0027d assume it to call out bitness specific type sizes, and the section on the notes does not.\n\nI\u0027m also seeing these being 32-bit on my 64-bit host:\n\n$ file /bin/ls\n/bin/ls: ELF 64-bit LSB  executable, x86-64, version 1 (SYSV), dynamically linked (uses shared libs), for GNU/Linux 2.6.24, BuildID[sha1]\u003d8d0966ce81ec6609bbf4aa439c77138e2f48a471, stripped\n\n$ readelf -x .note.gnu.build-id /bin/ls\n\nHex dump of section \u0027.note.gnu.build-id\u0027:\n  0x00400274 04000000 14000000 03000000 474e5500 ............GNU.\n  0x00400284 8d0966ce 81ec6609 bbf4aa43 9c77138e ..f...f....C.w..\n  0x00400294 2f48a471                            /H.q",
      "parentUuid": "85656bf7_cca0ff3e",
      "range": {
        "startLine": 495,
        "startChar": 21,
        "endLine": 495,
        "endChar": 29
      },
      "revId": "8e07553a7571139c0a5775c8aa10018a18cba2e1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "85656bf7_6c5fd34a",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 10
      },
      "lineNbr": 495,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-09-26T18:39:45Z",
      "side": 1,
      "message": "Elf-32 is a container format - it can store code for 64-bit processor - hence the occasional references to 64.\n\nElf-64 is not part of the initial Elf-32 spec.  You need to find it as separate document. Eg: https://www.uclibc.org/docs/elf-64-gen.pdf",
      "parentUuid": "a5bc2f98_6a779764",
      "range": {
        "startLine": 495,
        "startChar": 21,
        "endLine": 495,
        "endChar": 29
      },
      "revId": "8e07553a7571139c0a5775c8aa10018a18cba2e1",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}