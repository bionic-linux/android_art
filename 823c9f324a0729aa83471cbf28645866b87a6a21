{
  "comments": [
    {
      "key": {
        "uuid": "749006cb_72b7c0f4",
        "filename": "runtime/oat_file_assistant_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 834,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2016-01-29T19:15:23Z",
      "side": 1,
      "message": "This would give kNoDexOptNeeded because the odex file is up-to-date, not because VerifyAtRuntime contains no code. Don\u0027t you need to change the image checksum to test what you want?",
      "range": {
        "startLine": 834,
        "startChar": 4,
        "endLine": 834,
        "endChar": 82
      },
      "revId": "823c9f324a0729aa83471cbf28645866b87a6a21",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9489faaa_b419360d",
        "filename": "runtime/oat_file_assistant_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 834,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2016-02-01T20:09:05Z",
      "side": 1,
      "message": "Are you planning to fix this test?",
      "parentUuid": "749006cb_72b7c0f4",
      "range": {
        "startLine": 834,
        "startChar": 4,
        "endLine": 834,
        "endChar": 82
      },
      "revId": "823c9f324a0729aa83471cbf28645866b87a6a21",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "317b00b0_b43420b1",
        "filename": "runtime/oat_file_assistant_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 834,
      "author": {
        "id": 1059815
      },
      "writtenOn": "2016-02-01T21:01:44Z",
      "side": 1,
      "message": "I intend to leave this test as is (you\u0027re right that the comment could be rephrased though). It shows that the file is up to date when nothing changes.\n\nAnd yes, I am aware that I do not have a test for the case of image checksum mismatch. I was trying to find an equivalent test for other oat file types in this source file but could not find one. Could you suggest a good way of going about that?",
      "parentUuid": "9489faaa_b419360d",
      "range": {
        "startLine": 834,
        "startChar": 4,
        "endLine": 834,
        "endChar": 82
      },
      "revId": "823c9f324a0729aa83471cbf28645866b87a6a21",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11f7dc9a_6b0b0103",
        "filename": "runtime/oat_file_assistant_test.cc",
        "patchSetId": 3
      },
      "lineNbr": 834,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2016-02-02T18:06:10Z",
      "side": 1,
      "message": "We need some way to change the checksum of the image.\n\nIf we generate the image again, will it have a different checksum from the last time we generated it? In this case, you could compile the oat file against the first image, remove (or relocate) the first image, then test the oat file up-to-date against the new image that has a different checksum.\n\nOtherwise, we could build a modified version of a pre-compiled image for this test case (or use one of the existing pre-compiled images, so long as it has a different checksum), and switch to using the different image when testing if the oat file is up-to-date.\n\nSee the implementation of GeneratePicOdexForTest for an example of how to modify the image the oat file is compiled under.",
      "parentUuid": "317b00b0_b43420b1",
      "range": {
        "startLine": 834,
        "startChar": 4,
        "endLine": 834,
        "endChar": 82
      },
      "revId": "823c9f324a0729aa83471cbf28645866b87a6a21",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}