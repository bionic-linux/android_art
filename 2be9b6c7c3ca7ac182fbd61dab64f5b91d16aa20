{
  "comments": [
    {
      "key": {
        "uuid": "ad921112_2c9e7b39",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T07:15:32Z",
      "side": 1,
      "message": "Shouldn\u0027t you update the comment, based on Mark\u0027s suggestion and add a TODO?",
      "range": {
        "startLine": 948,
        "startChar": 0,
        "endLine": 950,
        "endChar": 35
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d6d15ec_707bed3b",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-05-09T07:53:41Z",
      "side": 1,
      "message": "No, this is implemented in the latest version.\n\nI disagree with the complexity of RegisterOrConstant. Even if it\u0027s a constant, it *must* end up in ax as that is what repne scasw requires. So it\u0027s easiest to request that here.\n\nBelow I simply check the instruction\u0027s parameter (as an instruction itself), see line 984ff.\n\nThere\u0027s a tradeoff here. The slow-path(s) may have to re-order things if we do it like this. So there\u0027s maybe a bit of space overhead involved in the out-of-line path. On the other hand, it means we need one less register in the \"good\" case, as the character is already in the right register (and the input doesn\u0027t get clobbered). I felt the saved register is worth more, as this is x86...",
      "parentUuid": "ad921112_2c9e7b39",
      "range": {
        "startLine": 948,
        "startChar": 0,
        "endLine": 950,
        "endChar": 35
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0d407d41_01248dda",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 950,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-05-09T12:41:33Z",
      "side": 1,
      "message": "I like Andreas\u0027s solution.  A bit ugly looking, but it generates the best code.",
      "parentUuid": "4d6d15ec_707bed3b",
      "range": {
        "startLine": 948,
        "startChar": 0,
        "endLine": 950,
        "endChar": 35
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad24d1ad_a7aef65f",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 956,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "repne?",
      "range": {
        "startLine": 956,
        "startChar": 5,
        "endLine": 956,
        "endChar": 8
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad24d1ad_27d1e6ff",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 971,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "counter?",
      "range": {
        "startLine": 971,
        "startChar": 11,
        "endLine": 971,
        "endChar": 14
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad24d1ad_e7b2bed5",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 972,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "string_length?",
      "range": {
        "startLine": 972,
        "startChar": 11,
        "endLine": 972,
        "endChar": 15
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed5b293d_6cb30a7c",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 985,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "Don\u0027t we have a kMaxUint16?",
      "range": {
        "startLine": 985,
        "startChar": 81,
        "endLine": 985,
        "endChar": 88
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed5b293d_4cae0615",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 995,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "ditto",
      "range": {
        "startLine": 995,
        "startChar": 36,
        "endLine": 995,
        "endChar": 42
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ed5b293d_2cbd1244",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1007,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "-\u003e Load length (that is, the \u0027count\u0027 field of the string).",
      "range": {
        "startLine": 1007,
        "startChar": 10,
        "endLine": 1007,
        "endChar": 16
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd290587_e8296f83",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1010,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "Maybe move TODO on its own line to make it easier to spot?",
      "range": {
        "startLine": 1010,
        "startChar": 29,
        "endLine": 1010,
        "endChar": 49
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d62a1ee_e3650e91",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1049,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "Do you think we could factor these implementations?",
      "range": {
        "startLine": 1048,
        "startChar": 38,
        "endLine": 1049,
        "endChar": 14
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2d70e1c2_3601f107",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1049,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-05-11T15:55:26Z",
      "side": 1,
      "message": "The usage of the temporaries is inverted up to the repne scasw - otherwise the register can\u0027t be saved.\n\nIf you feel strongly, I can unify and use one more temporary, just like Quick does.",
      "parentUuid": "2d62a1ee_e3650e91",
      "range": {
        "startLine": 1048,
        "startChar": 38,
        "endLine": 1049,
        "endChar": 14
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad24d1ad_c2845011",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1049,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T17:17:22Z",
      "side": 1,
      "message": "Oh right, I see.  Then it\u0027s probably better as-is.  :)",
      "parentUuid": "2d70e1c2_3601f107",
      "range": {
        "startLine": 1048,
        "startChar": 38,
        "endLine": 1049,
        "endChar": 14
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "cd290587_68821fda",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1055,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "VisitStringIndexOf?",
      "range": {
        "startLine": 1055,
        "startChar": 54,
        "endLine": 1055,
        "endChar": 61
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad921112_2c775b8b",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1131,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "update ecx, used as a counter.",
      "range": {
        "startLine": 1131,
        "startChar": 21,
        "endLine": 1131,
        "endChar": 37
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d5fd527_6a920ca8",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1131,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "When is it going to be that value? I find the comment confusing.",
      "range": {
        "startLine": 1131,
        "startChar": 44,
        "endLine": 1131,
        "endChar": 81
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d5fd527_8a8d408a",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 2
      },
      "lineNbr": 1131,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-05-09T14:14:10Z",
      "side": 1,
      "message": "going to",
      "range": {
        "startLine": 1131,
        "startChar": 44,
        "endLine": 1131,
        "endChar": 49
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ad24d1ad_27756678",
        "filename": "compiler/utils/x86/assembler_x86.h",
        "patchSetId": 2
      },
      "lineNbr": 467,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2015-05-11T11:48:54Z",
      "side": 1,
      "message": "repne_scasw?",
      "range": {
        "startLine": 467,
        "startChar": 7,
        "endLine": 467,
        "endChar": 17
      },
      "revId": "2be9b6c7c3ca7ac182fbd61dab64f5b91d16aa20",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}