{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "4d63e3ee_4b2c0a04",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2023-07-31T10:29:20Z",
      "side": 1,
      "message": "This CL is problematic since it removes the build time check that libdexfile.so doesn\u0027t end up in the system image, which would be bad (it should always be used from the ART APEX).\n\nFrom this I take it you don\u0027t actually need libdexfile in your case. The problem is that libunwindstack statically [declares a dependency](https://cs.android.com/android/platform/superproject/main/+/main:system/unwinding/libunwindstack/Android.bp;l\u003d156;drc\u003d41d01777d9cb0bbcc9d51e8b4aa3bb8719439b44) on libdexfile, while in reality it\u0027s optional. Is it possible to remove the `runtime_libs` dependency from the ramdisk variant of libunwindstack? +cferris as libunwindstack owner.",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 12
      },
      "revId": "db515722f16891e9d42d9b56bd4e3ca7dde33afc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a7c714d5_4ccd9722",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2023-07-31T20:44:57Z",
      "side": 1,
      "message": "The problem is that soong does not support removing it for a single target type. However, it looks like I can move the runtime_libs value into a specific target for android. I think that\u0027s enough to make this work.\n\nIs there any specific tests I can use to make sure this works as expected?",
      "parentUuid": "4d63e3ee_4b2c0a04",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 12
      },
      "revId": "db515722f16891e9d42d9b56bd4e3ca7dde33afc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "106c7ef3_63345aa9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1710792
      },
      "writtenOn": "2023-07-31T20:46:33Z",
      "side": 1,
      "message": "Add `ramdisk_available: true` to libunwind , and make sure it compiles",
      "parentUuid": "a7c714d5_4ccd9722",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 12
      },
      "revId": "db515722f16891e9d42d9b56bd4e3ca7dde33afc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "cfef715a_7fa5ced9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 4
      },
      "lineNbr": 12,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2023-07-31T21:32:29Z",
      "side": 1,
      "message": "Did you mean add this to libdebuggerd? By syncing to the latest source, the libunwindstack code already has the ramdisk_available: true line.\n\nI added the ramdisk_available: stuff to debuggerd (and moving the runtime_libs the same as in libunwindstack), and everything builds properly. I needed to do a few other bp file changes to get it to compile though. I uploaded those changes, and added you to them.\n\nIf they work, I think you can abandon this change.",
      "parentUuid": "106c7ef3_63345aa9",
      "range": {
        "startLine": 11,
        "startChar": 0,
        "endLine": 12,
        "endChar": 12
      },
      "revId": "db515722f16891e9d42d9b56bd4e3ca7dde33afc",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}