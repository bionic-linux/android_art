{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "08730691_3f6505b5",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 289,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-02-10T15:37:16Z",
      "side": 1,
      "message": "needs to be updated?",
      "range": {
        "startLine": 289,
        "startChar": 33,
        "endLine": 289,
        "endChar": 57
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "693b82a5_2a082806",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 289,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08730691_3f6505b5",
      "range": {
        "startLine": 289,
        "startChar": 33,
        "endLine": 289,
        "endChar": 57
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a5186ad_b707167f",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 293,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-02-10T15:37:16Z",
      "side": 1,
      "message": "But the code below seems to only take the extension from the art apex data directory?",
      "range": {
        "startLine": 292,
        "startChar": 41,
        "endLine": 293,
        "endChar": 32
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0198f783_e92621e2",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 293,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "There are two return statements in this function to handle both cases?",
      "parentUuid": "0a5186ad_b707167f",
      "range": {
        "startLine": 292,
        "startChar": 41,
        "endLine": 293,
        "endChar": 32
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "6dc738ee_9210921b",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 293,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-02-11T21:05:06Z",
      "side": 1,
      "message": "Oh, right, sorry got the flow wrong.",
      "parentUuid": "0198f783_e92621e2",
      "range": {
        "startLine": 292,
        "startChar": 41,
        "endLine": 293,
        "endChar": 32
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7be4f85_435d5ff1",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 308,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Now that this literal appears twice in this function, maybe create a constant for it?",
      "range": {
        "startLine": 308,
        "startChar": 26,
        "endLine": 308,
        "endChar": 42
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "07b627be_808ec7d0",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 308,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Ditto?",
      "range": {
        "startLine": 308,
        "startChar": 78,
        "endLine": 308,
        "endChar": 97
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8e6e1641_fd87962e",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 308,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done, though I suspect this code is going to have to change based on your insight in the file_utils_test.cc.",
      "parentUuid": "f7be4f85_435d5ff1",
      "range": {
        "startLine": 308,
        "startChar": 26,
        "endLine": 308,
        "endChar": 42
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "8577ce08_dde85421",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 308,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done.",
      "parentUuid": "07b627be_808ec7d0",
      "range": {
        "startLine": 308,
        "startChar": 78,
        "endLine": 308,
        "endChar": 97
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d93245a8_b153443a",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Maybe add a similar comment in the definition of `GetApexDataBootImage` below?",
      "range": {
        "startLine": 391,
        "startChar": 2,
        "endLine": 391,
        "endChar": 91
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "91981023_b630568a",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 391,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d93245a8_b153443a",
      "range": {
        "startLine": 391,
        "startChar": 2,
        "endLine": 391,
        "endChar": 91
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed3f9071_f914d712",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 403,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Maybe add a similar comment in the definition of `GetApexDataImage` below?",
      "range": {
        "startLine": 403,
        "startChar": 2,
        "endLine": 403,
        "endChar": 96
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "e3079c97_cae950da",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 403,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "ed3f9071_f914d712",
      "range": {
        "startLine": 403,
        "startChar": 2,
        "endLine": 403,
        "endChar": 96
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1be526d5_010428f7",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 469,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Style:\n\n  const char* location",
      "range": {
        "startLine": 469,
        "startChar": 29,
        "endLine": 469,
        "endChar": 49
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "df954266_70fde3bf",
        "filename": "libartbase/base/file_utils.cc",
        "patchSetId": 2
      },
      "lineNbr": 469,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "1be526d5_010428f7",
      "range": {
        "startLine": 469,
        "startChar": 29,
        "endLine": 469,
        "endChar": 49
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d6cdf3ae_8f0964b4",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Style: Indent by two more spaces.",
      "range": {
        "startLine": 35,
        "startChar": 2,
        "endLine": 35,
        "endChar": 4
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a838ea63_d3f7f290",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 35,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d6cdf3ae_8f0964b4",
      "range": {
        "startLine": 35,
        "startChar": 2,
        "endLine": 35,
        "endChar": 4
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a0031722_7c72a00f",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "Should this member be made private?",
      "range": {
        "startLine": 48,
        "startChar": 36,
        "endLine": 48,
        "endChar": 47
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a238e80e_3ef6bc75",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 48,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "a0031722_7c72a00f",
      "range": {
        "startLine": 48,
        "startChar": 36,
        "endLine": 48,
        "endChar": 47
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ed2f09bf_efe07352",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-10T15:44:51Z",
      "side": 1,
      "message": "I did not realize at first that subdirectories where ignored in this case. What if we had both these JARs on a device:\n\n  /system/framework/foo.jar\n  /system/framework/bar/foo.jar\n\n? AIUI, `GetApexDataImage` would return the same image file (`/system/framework/oat/foo.art`), which might be a problem and/or silently ignored? (Same issue with `GetApexDataBootImage`.)",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9b5d339d_f06fddbb",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-11T19:36:05Z",
      "side": 1,
      "message": "Good point. I was not really anticipating this case, but I haven\u0027t seen any restrictions on the jar locations for system_server or bcp. Perhaps we move this to dalvik-cache style naming?",
      "parentUuid": "ed2f09bf_efe07352",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2732221c_87912309",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-12T10:48:35Z",
      "side": 1,
      "message": "Yes, I think something that would preserve the (relative) path would be safer. I wonder if this requires changes outside of ART though.",
      "parentUuid": "9b5d339d_f06fddbb",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5e405857_a7f0d9c4",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-12T11:01:36Z",
      "side": 1,
      "message": "Do you have any specific places outside of ART in mind?\n\nGenerating and then locating these artifacts is internal to ART. odrefresh stages and then installs them, zygote and system_server pick up the artifacts with this stack of CLs. The only other tool that I\u0027m aware of that cares specifically about the output locations here is odsign so it can sign the generated files from odrefresh.\n\nThere is a WIP change to this CL that puts all the artifacts from odrefresh into a dalvik-cache directory - system_server jars have the transformed location. Boot class path extensions don\u0027t because (a) we compile the boot class path extensions with --single-image so there\u0027s only one set of artifacts irrespective of the number of jars and (b) it breaks other of places where ART has hard coded assumptions about boot image file naming and those seem reasonable for safety/integrity purposes.",
      "parentUuid": "2732221c_87912309",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "67f6bf17_66a8b54f",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1052644
      },
      "writtenOn": "2021-02-12T16:41:10Z",
      "side": 1,
      "message": "I see. I was initially thinking about the build system and the pre-opted boot image, and also the on-device background Dex opting job (`bg-dexopt`), but IIUC these cases are covered.",
      "parentUuid": "5e405857_a7f0d9c4",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "313fba2c_1d06366b",
        "filename": "libartbase/base/file_utils_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 263,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-02-15T13:47:55Z",
      "side": 1,
      "message": "Thinking about `bg-dexopt` in particular deserves closer examination because if it conses up command-lines using the system installed artifacts it\u0027ll generate unusable artifacts. I\u0027ve filed http://b/180312451 as a blocking bug to look into this.\n\nThe recent CLs put the artifacts in /data/misc/apexdata/com.android/art/dalvik-cache and apply the dalvik cache name mangling to app related artifacts (e.g. system server jars). The name mangling is not applied to the boot class path related artifacts since we haven\u0027t done that traditionally.",
      "parentUuid": "67f6bf17_66a8b54f",
      "range": {
        "startLine": 260,
        "startChar": 0,
        "endLine": 263,
        "endChar": 72
      },
      "revId": "e1cfe401ed50cc5ad6c8ee8302494a1b994598ef",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}