{
  "comments": [
    {
      "key": {
        "uuid": "bb686ed3_5367bf0e",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 755,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-07-20T14:48:18Z",
      "side": 1,
      "message": "Android O, though I would keep the previous comment about \"some ARMv8 Qualcomm kernels\". Android releases AFAIK don\u0027t control kernel versions.",
      "range": {
        "startLine": 755,
        "startChar": 12,
        "endLine": 755,
        "endChar": 13
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7bfa7641_78ab2ea4",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 755,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-07-20T15:03:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bb686ed3_5367bf0e",
      "range": {
        "startLine": 755,
        "startChar": 12,
        "endLine": 755,
        "endChar": 13
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "82ee6f8d_28e45591",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 774,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-07-20T14:48:18Z",
      "side": 1,
      "message": "indentation is off.",
      "range": {
        "startLine": 774,
        "startChar": 41,
        "endLine": 774,
        "endChar": 59
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "24622309_cfb2a691",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 774,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-07-20T15:03:36Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "82ee6f8d_28e45591",
      "range": {
        "startLine": 774,
        "startChar": 41,
        "endLine": 774,
        "endChar": 59
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9710b7cb_36dfbc13",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 779,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-07-20T14:48:18Z",
      "side": 1,
      "message": "This implies you could still hit the fault, right? What do we do then?",
      "range": {
        "startLine": 777,
        "startChar": 0,
        "endLine": 779,
        "endChar": 14
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "df8b8db3_42dfa4a3",
        "filename": "runtime/jit/jit_code_cache.cc",
        "patchSetId": 1
      },
      "lineNbr": 779,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2017-07-20T15:03:36Z",
      "side": 1,
      "message": "Yes. The window is significantly smaller with this change. It seems unlikely we\u0027ll see this outside of the bots though as the kernel fix has been there for some time.\n\nIt wouldn\u0027t be that hard to modify our fault handler to check with the JIT cache if the fault comes from cache maintenance. It could be as simple as an address range check combined with checking a flag for \"cache maintenance in progress\". Alternatively, we could inspect the code causing the fault and see if it is a cache maintenance operation.\n\nIf we want to go down this path, I\u0027d suggest a follow-up CL so we can unbreak the bots short term.",
      "parentUuid": "9710b7cb_36dfbc13",
      "range": {
        "startLine": 777,
        "startChar": 0,
        "endLine": 779,
        "endChar": 14
      },
      "revId": "b14b654c3f1eab6016fea27e5f40bc4d68e0be69",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    }
  ]
}