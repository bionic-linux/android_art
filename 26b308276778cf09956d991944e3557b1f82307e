{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "bf39f817_bba23446",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2024-02-22T13:45:27Z",
      "side": 1,
      "message": "Hi Artem, I wanted to experiment with SVE+QEMU a bit, but this CL on it\u0027s own does not build.  I get:\n\n`dex2oatd: runtime.cc:716 (loop_optimization): art::GraphChecker: VecReplicateScalar 300 predication mode is incorrect; see HVecOperation::MustBePredicated.`\n\nDo you have any thoughts?",
      "revId": "26b308276778cf09956d991944e3557b1f82307e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0075707b_4d94d6ec",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1975361
      },
      "writtenOn": "2024-02-22T13:48:25Z",
      "side": 1,
      "message": "Hi David! It is the perfect time to raise this question as we have just restarted the SVE activities, which were paused for sometime (which might have made some code broken).\n\nLet me check the situation and get back to you on this.",
      "parentUuid": "bf39f817_bba23446",
      "revId": "26b308276778cf09956d991944e3557b1f82307e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "54ea27f1_5e392459",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2024-02-27T14:02:40Z",
      "side": 1,
      "message": "Artem: If possible, could you create a compile-time define to enable the SVE via environment variable? (or a run-time flag, but I assume define is easier)",
      "revId": "26b308276778cf09956d991944e3557b1f82307e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2dbbf4a9_c3dd6ac2",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2024-03-04T17:26:00Z",
      "side": 1,
      "message": "Thanks Artem, so with the other CL, I can build and run the SVE version on QEMU, however, I see a lot of run-tests fail.  Do you see the same issues?  Speficically:\n\n```\n011-array-copy                                                                                                                                                                                           \n525-checker-arrays-fields1                                                                                                                                                                               \n525-checker-arrays-fields2                                                                                                                                                                               \n527-checker-array-access-simd                                                                                                                                                                            \n530-checker-loops1                                                                                                                                                                                       \n530-checker-loops2                                                                                                                                                                                       \n530-checker-lse-simd                                                                                                                                                                                     \n530-checker-peel-unroll                                                                                                                                                                                  \n550-checker-multiply-accumulate                                                                                                                                                                          \n561-shared-slowpaths                                                                                                                                                                                     \n594-checker-array-alias                                                                                                                                                                                  \n620-checker-bce-intrinsics                                                                                                                                                                               \n623-checker-loop-regressions                                                                                                                                                                             \n640-checker-boolean-simd                                                                                                                                                                                 \n640-checker-simd                                                                                                                                                                                         \n641-iterations                                                                                                                                                                                           \n645-checker-abs-simd                                                                                                                                                                                     \n646-checker-simd-hadd                                                                                                                                                                                    \n655-checker-simd-arm-opt                                                                                                                                                                                 \n656-checker-simd-opt                                                                                                                                                                                     \n660-checker-simd-sad                                                                                                                                                                                     \n661-checker-simd-cf-loops                                                                                                                                                                                \n661-checker-simd-reduc                                                                                                                                                                                   \n665-checker-simd-zero                                                                                                                                                                                    \n667-checker-simd-alignment                                                                                                                                                                               \n669-checker-break                                                                                                                                                                                        \n672-checker-throw-method                                                                                                                                                                                 \n673-checker-throw-vmethod                                                                                                                                                                                \n684-checker-simd-dotprod                                                                                                                                                                                 \n696-loop                                                                                                                                                                                                 \n706-checker-scheduler                                                                                                                                                                                    \n800-smali                                                                                                                                                                                                \n2256-checker-vector-replacement  \n```",
      "revId": "26b308276778cf09956d991944e3557b1f82307e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "aa48353d_8baa0e18",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 1
      },
      "lineNbr": 0,
      "author": {
        "id": 1975361
      },
      "writtenOn": "2024-03-11T15:57:13Z",
      "side": 1,
      "message": "Hi! My guess is that it is related to the mismatch in VL of QEMU and our compile-time expectations; PTAL https://android-review.googlesource.com/c/platform/art/+/2985473/2/libartbase/arch/instruction_set.h#63.\n\nWe are planning to improve the checks for this type of situation shortly; in the meantime I would advise to either change the hard-coded constant for your experiments or launch QEMU with 128bit SVE vector length.",
      "parentUuid": "2dbbf4a9_c3dd6ac2",
      "revId": "26b308276778cf09956d991944e3557b1f82307e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}