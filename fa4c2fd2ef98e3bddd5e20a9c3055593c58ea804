{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ec98afc2_d3b1b993",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 7,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-02-24T19:54:00Z",
      "side": 1,
      "message": "spelling",
      "range": {
        "startLine": 7,
        "startChar": 22,
        "endLine": 7,
        "endChar": 23
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ee917297_f350805b",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-02-24T19:54:00Z",
      "side": 1,
      "message": "My main concern is that this would otherwise make it possible to \"resurrect\" an object that\u0027s only reachable via a PhantomReference, violating what I would view as the defining property of PhantomReferences. I\u0027m not yet sure whether it breaks anything important in practice, but it makes me very nervous.",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "deb49af3_7379e7ad",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2021-02-24T20:18:08Z",
      "side": 1,
      "message": "Totally agree with you. I\u0027ll add this in the commit message.",
      "parentUuid": "ee917297_f350805b",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 26
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2790b77b_592b9f4f",
        "filename": "runtime/native/java_lang_reflect_Field.cc",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-02-24T19:54:00Z",
      "side": 1,
      "message": "I think we need to do at least the PhanotmReference part of this unconditionally, right?",
      "range": {
        "startLine": 112,
        "startChar": 12,
        "endLine": 112,
        "endChar": 27
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7cf1887e_5cff1564",
        "filename": "runtime/native/java_lang_reflect_Field.cc",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2021-02-24T20:18:08Z",
      "side": 1,
      "message": "I think you are right. How about making the whole Reference handling indifferent to whether we have a read-barrier based GC or not? Because to me it seems like going through getReferent for CMS wouldn\u0027t be wrong. The only reason I initially made it all conditional on kUseReadBarrier because otherwise we don\u0027t get impacted by this bug.\nBut on thinking about this, it seems like Reference.referent must be handled carefully, irrespective of what GC is being used. WDYT?",
      "parentUuid": "2790b77b_592b9f4f",
      "range": {
        "startLine": 112,
        "startChar": 12,
        "endLine": 112,
        "endChar": 27
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "11530cb9_c59c62a5",
        "filename": "runtime/native/java_lang_reflect_Field.cc",
        "patchSetId": 1
      },
      "lineNbr": 112,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-02-24T20:50:19Z",
      "side": 1,
      "message": "Agreed. That sounds right. And especially given the lack of CMS usage, I think the performance impact of that change is minimal.",
      "parentUuid": "7cf1887e_5cff1564",
      "range": {
        "startLine": 112,
        "startChar": 12,
        "endLine": 112,
        "endChar": 27
      },
      "revId": "fa4c2fd2ef98e3bddd5e20a9c3055593c58ea804",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}