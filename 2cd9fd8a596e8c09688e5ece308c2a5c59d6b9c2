{
  "comments": [
    {
      "key": {
        "uuid": "bcde4374_3ccf7b64",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2020-04-02T16:47:09Z",
      "side": 1,
      "message": "Should it be documented in UsageError() in dex2oat.cc?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 27
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "55059e17_f39a8bb9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 9,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-03T08:26:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "bcde4374_3ccf7b64",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 9,
        "endChar": 27
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c9c64176_63feed3a",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-02T16:58:55Z",
      "side": 1,
      "message": "can we change this to an assert when the framework is updated, and removed the else{} clause?",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "82520b74_119a1aff",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-04-02T18:58:06Z",
      "side": 1,
      "message": "+1\n\nEncoding the list on the else branch does not scale well and makes it hard to discover/update.",
      "parentUuid": "c9c64176_63feed3a",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "ca682ced_b6a9dcd6",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-03T08:26:49Z",
      "side": 1,
      "message": "That would make manual dex2oat invocations even more inconvenient, you\u0027d have to create an additional file and pass the extra argument.",
      "parentUuid": "82520b74_119a1aff",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "3b1287da_e3a40c2f",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1060959
      },
      "writtenOn": "2020-04-03T11:13:54Z",
      "side": 1,
      "message": "A risk I see is that if the file ends up being incorrect, or the file is moved, or whatever, this could go unnoticed because the (likely stale) else clause would end up hiding the bug. Maybe enabling the default list could be a flag on its own, like --default-updatable-bcp-packages or something.",
      "parentUuid": "ca682ced_b6a9dcd6",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "13506453_f5d43885",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2020-04-03T11:16:39Z",
      "side": 1,
      "message": "For those cases, we can make it an error. We still want to be able to invoke dex2oat without the need of the flag.",
      "parentUuid": "3b1287da_e3a40c2f",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "11ae9fc3_de58f2ad",
        "filename": "dex2oat/dex2oat.cc",
        "patchSetId": 1
      },
      "lineNbr": 2634,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-03T11:17:49Z",
      "side": 1,
      "message": "If the file is moved but the command line argument is still passed to dex2oat, this should be an error. I see I\u0027ve made a copy-paste mistake here and need to add `return false` to the `if (updatable_bcp_packages \u003d\u003d nullptr)` block.",
      "parentUuid": "3b1287da_e3a40c2f",
      "range": {
        "startLine": 2634,
        "startChar": 1,
        "endLine": 2634,
        "endChar": 54
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "4bf45989_0dfa3a8d",
        "filename": "dex2oat/dex2oat_options.cc",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2020-04-02T18:58:06Z",
      "side": 1,
      "message": "Can you document somewhere what the impact of this flag is?",
      "range": {
        "startLine": 134,
        "startChar": 15,
        "endLine": 134,
        "endChar": 39
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "bd830dd9_96b7d420",
        "filename": "dex2oat/dex2oat_options.cc",
        "patchSetId": 1
      },
      "lineNbr": 134,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-04-03T08:26:49Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "4bf45989_0dfa3a8d",
      "range": {
        "startLine": 134,
        "startChar": 15,
        "endLine": 134,
        "endChar": 39
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a357b2c4_ad57094c",
        "filename": "runtime/aot_class_linker.cc",
        "patchSetId": 1
      },
      "lineNbr": 228,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2020-04-02T17:08:02Z",
      "side": 1,
      "message": "I still think it is much better done by a regexp (RE2 compiled regexp in particular, although we don\u0027t use it in ART). It is both more efficient than repeatedly matching strings and more readable than this construction.",
      "range": {
        "startLine": 214,
        "startChar": 0,
        "endLine": 228,
        "endChar": 27
      },
      "revId": "2cd9fd8a596e8c09688e5ece308c2a5c59d6b9c2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}