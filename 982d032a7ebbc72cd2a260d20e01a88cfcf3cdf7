{
  "comments": [
    {
      "key": {
        "uuid": "fb1bff58_864ecc14",
        "filename": "compiler/optimizing/builder.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-12-04T11:32:23Z",
      "side": 1,
      "message": "The most significant impact of reducing this from 5 to 3 will be in how the x86-64 generates packed-switch for 4 or 5 values - using jump table instead of compare/branch - and I\u0027m fine with that; anyway, it should be the codegen\u0027s responsibility to generate the compare/branch series if it\u0027s deemed better. You preserved the behavior for x86.\n\n(I find it odd that the graph builder assumes responsibility for deciding when to generate a series of compare/jump. Reducing this should reduce the compile time and memory usage but it may in rare circumstances lead to missed optimizations - all of that should be insignificant though.)",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 53
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20a9e45f_64acaa64",
        "filename": "compiler/optimizing/builder.h",
        "patchSetId": 1
      },
      "lineNbr": 95,
      "author": {
        "id": 1036869
      },
      "writtenOn": "2015-12-04T13:52:28Z",
      "side": 1,
      "message": "I agree that this decision should be made in the code generator.  This was a carry-over from Quick",
      "parentUuid": "fb1bff58_864ecc14",
      "range": {
        "startLine": 95,
        "startChar": 28,
        "endLine": 95,
        "endChar": 53
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "20a9e45f_8467666a",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6126,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-12-04T18:10:39Z",
      "side": 1,
      "message": "Using temp_reg as signed requires that kPackedSwitchCompareJumpThreshold is small. Please add a static_assert.",
      "range": {
        "startLine": 6126,
        "startChar": 4,
        "endLine": 6126,
        "endChar": 40
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "004940a4_7b1a9faa",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6126,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-12-04T18:29:58Z",
      "side": 1,
      "message": "For this to be a problem, the number of values would have to be \u003e\u003d 2^31, so that a valid value would be negative after the subtraction, but the size in the packed-switch-payload is only 16-bit. (This concern will evaporate for arm when we switch to LO but maybe we should add a comment and/or DCHECK for mips.)",
      "parentUuid": "20a9e45f_8467666a",
      "range": {
        "startLine": 6126,
        "startChar": 4,
        "endLine": 6126,
        "endChar": 40
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "404ed883_9906cb30",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6126,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-12-04T19:30:08Z",
      "side": 1,
      "message": "I never said it\u0027s a practical concern. I just think this should be documented, and a static_assert with a comment is cheap documentation + enforcement (especially since HPackedSwitch for whatever reason stores num_entries as uint32_t).",
      "parentUuid": "004940a4_7b1a9faa",
      "range": {
        "startLine": 6126,
        "startChar": 4,
        "endLine": 6126,
        "endChar": 40
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "9b2da379_2b8325bc",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6132,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-12-04T11:32:23Z",
      "side": 1,
      "message": "I think you can drop this if you replace the signed LT with the unsigned LO below.",
      "range": {
        "startLine": 6129,
        "startChar": 0,
        "endLine": 6132,
        "endChar": 50
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e0842cce_b62d00d5",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6132,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-12-04T18:10:39Z",
      "side": 1,
      "message": "Are you sure? What about lower_bound \u003d\u003d MIN_VALUE and value \u003d\u003d MAX_VALUE?",
      "parentUuid": "9b2da379_2b8325bc",
      "range": {
        "startLine": 6129,
        "startChar": 0,
        "endLine": 6132,
        "endChar": 50
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c05c8866_39ce6f3a",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6132,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-12-04T18:29:58Z",
      "side": 1,
      "message": "Yes, I\u0027m sure. We\u0027re simply going through the specified number of values, starting from lower_bound. The MIN/MAX_VALUE cases are working just like the rest.",
      "parentUuid": "e0842cce_b62d00d5",
      "range": {
        "startLine": 6129,
        "startChar": 0,
        "endLine": 6132,
        "endChar": 50
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "204d6487_784c2921",
        "filename": "compiler/optimizing/code_generator_arm.cc",
        "patchSetId": 1
      },
      "lineNbr": 6132,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-12-04T19:30:08Z",
      "side": 1,
      "message": "Yeah, sorry, I messed up with the adds.",
      "parentUuid": "c05c8866_39ce6f3a",
      "range": {
        "startLine": 6129,
        "startChar": 0,
        "endLine": 6132,
        "endChar": 50
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "fb1bff58_c6ba842e",
        "filename": "compiler/optimizing/code_generator_arm64.cc",
        "patchSetId": 1
      },
      "lineNbr": 4571,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-12-04T11:32:23Z",
      "side": 1,
      "message": "Same as ARM: use \"lo\" below and remove this branch.\n\n(But not really applicable to mips/mips64 as far as I can tell.)",
      "range": {
        "startLine": 4568,
        "startChar": 0,
        "endLine": 4571,
        "endChar": 50
      },
      "revId": "982d032a7ebbc72cd2a260d20e01a88cfcf3cdf7",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}