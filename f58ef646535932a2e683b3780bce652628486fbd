{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "9efb6a47_8ee57e0f",
        "filename": "runtime/metrics/reporter.cc",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2021-03-04T19:45:43Z",
      "side": 1,
      "message": "Not really thread safe at all.\n\nI\u0027m not sure how much that really matters though in this case since we are doing it during runtime startup.",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 43,
        "endChar": 1
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ad9ef2e7_699aa627",
        "filename": "runtime/metrics/reporter.cc",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2021-03-04T22:18:29Z",
      "side": 1,
      "message": "Yeah, the idea is that you do all of your configuration before starting the background thread and then leave it alone. The CHECK is meant to help catch cases where that wasn\u0027t the case, but it\u0027s definitely not bulletproof. \n\nIdeally we\u0027d do all the configuration once at construction time, but there\u0027s not really a point where we have access to both the command line arguments and the flag that says whether we are system server, so this seemed like the least bad solution to me.",
      "parentUuid": "9efb6a47_8ee57e0f",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 43,
        "endChar": 1
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "476d95ee_18cad675",
        "filename": "runtime/metrics/reporter.cc",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1047769
      },
      "writtenOn": "2021-03-04T22:28:17Z",
      "side": 1,
      "message": "Fair enough. I\u0027d add some comments saying this is not thread safe at least.",
      "parentUuid": "ad9ef2e7_699aa627",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 43,
        "endChar": 1
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "69e501aa_ecfd8122",
        "filename": "runtime/metrics/reporter.cc",
        "patchSetId": 1
      },
      "lineNbr": 43,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2021-03-05T00:49:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "476d95ee_18cad675",
      "range": {
        "startLine": 40,
        "startChar": 0,
        "endLine": 43,
        "endChar": 1
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "af568ef9_2731a829",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1078,
      "author": {
        "id": 1022077
      },
      "writtenOn": "2021-03-04T22:54:38Z",
      "side": 1,
      "message": "you should add a setter that also checks for the value.\n\nAvoid exposing the raw field.",
      "range": {
        "startLine": 1078,
        "startChar": 34,
        "endLine": 1078,
        "endChar": 57
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "79b8ecf7_ab2d6300",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1078,
      "author": {
        "id": 1335232
      },
      "writtenOn": "2021-03-05T00:49:32Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "af568ef9_2731a829",
      "range": {
        "startLine": 1078,
        "startChar": 34,
        "endLine": 1078,
        "endChar": 57
      },
      "revId": "f58ef646535932a2e683b3780bce652628486fbd",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}