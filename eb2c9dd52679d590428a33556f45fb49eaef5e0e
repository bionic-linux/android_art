{
  "comments": [
    {
      "key": {
        "uuid": "009061dc_d980f8e6",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 11
      },
      "lineNbr": 3175,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-09-21T09:00:23Z",
      "side": 1,
      "message": "Why do we need this check?",
      "range": {
        "startLine": 3175,
        "startChar": 6,
        "endLine": 3175,
        "endChar": 68
      },
      "revId": "eb2c9dd52679d590428a33556f45fb49eaef5e0e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c8147300_4d886621",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 11
      },
      "lineNbr": 3175,
      "author": {
        "id": 1725700
      },
      "writtenOn": "2020-09-21T09:08:33Z",
      "side": 1,
      "message": "Because we have the condition of the parameter to be numerical only for getAndAdd, not for all getAndUpdate access modes. For getAndSet, it can be anything. For getAndBitwisw\u003cop\u003e it can also be bool (I know that here I don\u0027t return false for bool, I added that in another CL.). We can also not do these checks at all and the access mode supported check will fail and go to runtime. But I figured it is better not to trigger the code generator if we already know that we will go to runtime. If you prefer the logic to be simpler, I can remove this.",
      "parentUuid": "009061dc_d980f8e6",
      "range": {
        "startLine": 3175,
        "startChar": 6,
        "endLine": 3175,
        "endChar": 68
      },
      "revId": "eb2c9dd52679d590428a33556f45fb49eaef5e0e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "9a9edd39_6e28b83c",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 11
      },
      "lineNbr": 3175,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2020-09-21T09:22:06Z",
      "side": 1,
      "message": "Ack, leave as is.",
      "parentUuid": "c8147300_4d886621",
      "range": {
        "startLine": 3175,
        "startChar": 6,
        "endLine": 3175,
        "endChar": 68
      },
      "revId": "eb2c9dd52679d590428a33556f45fb49eaef5e0e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "11545e72_d4f7b09f",
        "filename": "compiler/optimizing/intrinsics_x86.cc",
        "patchSetId": 11
      },
      "lineNbr": 3175,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2020-09-21T10:01:16Z",
      "side": 1,
      "message": "We had a problem with this check and GetAndAddAcquire / GetAndAddRelease because they are not handled here. They got dropped from this CL around PS8. Andra and I spotted the omission here this morning.\n\nWe could have varhandle specific helpers \"requires numeric VarType\", \"requires bitwise VarType\" which use the VarHandle meanings rather than DataType\u0027s.",
      "parentUuid": "9a9edd39_6e28b83c",
      "range": {
        "startLine": 3175,
        "startChar": 6,
        "endLine": 3175,
        "endChar": 68
      },
      "revId": "eb2c9dd52679d590428a33556f45fb49eaef5e0e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}