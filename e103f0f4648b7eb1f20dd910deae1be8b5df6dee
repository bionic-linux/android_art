{
  "comments": [
    {
      "key": {
        "uuid": "d0d99e70_5c0b145e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 118,
        "startChar": 4,
        "endLine": 118,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30375a6d_15ef84b5",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 118,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d0d99e70_5c0b145e",
      "range": {
        "startLine": 118,
        "startChar": 4,
        "endLine": 118,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0d99e70_fc19a0b0",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 122,
        "startChar": 4,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_b5210220",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 122,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d0d99e70_fc19a0b0",
      "range": {
        "startLine": 122,
        "startChar": 4,
        "endLine": 122,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f222e5_55d52add",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 161,
        "startChar": 4,
        "endLine": 161,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_95260634",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 161,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0f222e5_55d52add",
      "range": {
        "startLine": 161,
        "startChar": 4,
        "endLine": 161,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0d99e70_dcff04a6",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 165,
        "startChar": 4,
        "endLine": 165,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30375a6d_b5e338ce",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 165,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d0d99e70_dcff04a6",
      "range": {
        "startLine": 165,
        "startChar": 4,
        "endLine": 165,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_34a5fa28",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "That\u0027s a bad name. What is lazy about it?\n\nMost team members were not in favor of lambdas in the past. That\u0027s where CodeOutput came in.",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_753cba42",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done (renamed).\n\nI did a quick search for \u003cfunctional\u003e in the code base before I added this, and seems that lambadas are used in several other places.  So are lambda still frowned upon?  I would prefer to keep them but I can change it if there are objections.",
      "parentUuid": "b0d42a38_34a5fa28",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f222e5_e3058314",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-29T04:19:49Z",
      "side": 1,
      "message": "Searching for \u003cfunctional\u003e doesn\u0027t mean you find lambdas. We use it for function pointers, too. In fact, except for Igor\u0027s cmdline parser, I believe most use of lambdas has been scrubbed from the main files (the only existence is in *tests* for the optimizing compiler and one assembler [because it was the only typable way to get things done generically, languages without integrated reflection suck...]).\n\nDon\u0027t change things, yet. I was waiting for bdc to weigh in.",
      "parentUuid": "90e3a61e_753cba42",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_00b9b60e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2015-04-29T08:15:12Z",
      "side": 1,
      "message": "I strongly favor not using it. I personally can\u0027t parse:\nusing LazyWrite \u003d std::function\u003cbool(File*)\u003e;  // NOLINT\n\nI\u0027m sure there\u0027s other ways to write it that don\u0027t involve lambdas.",
      "parentUuid": "f0f222e5_e3058314",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_c08f2e2e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-04-29T09:29:41Z",
      "side": 1,
      "message": "The run time overhead of std::function\u003c\u003e is substantial, starting with its internal usage of new/delete. So, I\u0027m not very keen to use it widely.\n\nIt\u0027s already slipped into command line parsing and dex2oat\u0027s class list parsing but I\u0027m now tempted to remove it so that people don\u0027t get used to it.",
      "parentUuid": "90e3a61e_00b9b60e",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_80eec633",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-29T12:53:45Z",
      "side": 1,
      "message": "Done.  I did not know that lambdas internally do new/delete.  I should look up the C++ implementation details.  I expected that the compiler would expand them out pretty much exactly into what I have written now.",
      "parentUuid": "90e3a61e_c08f2e2e",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30375a6d_f0c8ee2a",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2015-04-29T13:25:31Z",
      "side": 1,
      "message": "It\u0027s not lambdas that do that. They have a special compile-time type that doesn\u0027t need to use new/delete. It\u0027s the std::function\u003c\u003e that needs to encapsulate an arbitrary type of object while erasing its type from the std::function\u003c\u003e\u0027s own interface. To do that, it will use a polymorphic base class that provides an interface for the invoke and the templated constructor/assignment will create an object of a derived class that can hold a copy of the provided object.",
      "parentUuid": "90e3a61e_80eec633",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30e3da4b_e1de8657",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 223,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-29T14:38:35Z",
      "side": 1,
      "message": "Ah, I did not know that.  My intuition was that the compiler\u0027s lambda type would already be deriving from some polymorphic base class, and std::function\u003c\u003e would just take reference to that.  But I suppose that might make lifetime management difficult in some cases.  I suppose replacing std::function with templated type might work for cases where people really care about performance.\n\nBack to the CL.  Are you happy with it as it is now?",
      "parentUuid": "30375a6d_f0c8ee2a",
      "range": {
        "startLine": 223,
        "startChar": 8,
        "endLine": 223,
        "endChar": 17
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_74c4a2e2",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 236,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 236,
        "startChar": 4,
        "endLine": 236,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30375a6d_d5e83cac",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 236,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0d42a38_74c4a2e2",
      "range": {
        "startLine": 236,
        "startChar": 4,
        "endLine": 236,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f222e5_35950616",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 240,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 240,
        "startChar": 4,
        "endLine": 240,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_5539be50",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 240,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0f222e5_35950616",
      "range": {
        "startLine": 240,
        "startChar": 4,
        "endLine": 240,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_742dc212",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 324,
        "startChar": 4,
        "endLine": 324,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "500f6eb1_5ea0b59e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 324,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0d42a38_742dc212",
      "range": {
        "startLine": 324,
        "startChar": 4,
        "endLine": 324,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_5422c623",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 328,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 328,
        "startChar": 4,
        "endLine": 328,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "500f6eb1_3ead0197",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 328,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0d42a38_5422c623",
      "range": {
        "startLine": 328,
        "startChar": 4,
        "endLine": 328,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b0d42a38_b4332a6f",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 383,
        "startChar": 4,
        "endLine": 383,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "500f6eb1_1eaa3d7f",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 383,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b0d42a38_b4332a6f",
      "range": {
        "startLine": 383,
        "startChar": 4,
        "endLine": 383,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f222e5_357ce66d",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 389,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?",
      "range": {
        "startLine": 389,
        "startChar": 4,
        "endLine": 389,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "30375a6d_75de1009",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 1
      },
      "lineNbr": 389,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "f0f222e5_357ce66d",
      "range": {
        "startLine": 389,
        "startChar": 4,
        "endLine": 389,
        "endChar": 11
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f0f222e5_b50456d0",
        "filename": "oatdump/oatdump.cc",
        "patchSetId": 1
      },
      "lineNbr": 255,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2015-04-28T20:32:46Z",
      "side": 1,
      "message": "?\n\nDidn\u0027t you just change that to auto?",
      "range": {
        "startLine": 255,
        "startChar": 6,
        "endLine": 255,
        "endChar": 52
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "90e3a61e_b5dc6299",
        "filename": "oatdump/oatdump.cc",
        "patchSetId": 1
      },
      "lineNbr": 255,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2015-04-28T21:39:33Z",
      "side": 1,
      "message": "Done (it was a side effect of the fact that I did the first CL last to separate changes that affect output)",
      "parentUuid": "f0f222e5_b50456d0",
      "range": {
        "startLine": 255,
        "startChar": 6,
        "endLine": 255,
        "endChar": 52
      },
      "revId": "e103f0f4648b7eb1f20dd910deae1be8b5df6dee",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}