{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ae83df03_243a3d4b",
        "filename": "runtime/runtime.cc",
        "patchSetId": 8
      },
      "lineNbr": 3162,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-03-11T00:58:06Z",
      "side": 1,
      "message": "My question was really about why we need to do this in chunks rather all at once. What\u0027s the performance advantage? Clearly the additional kernel entries don\u0027t help.",
      "range": {
        "startLine": 3161,
        "startChar": 7,
        "endLine": 3162,
        "endChar": 51
      },
      "revId": "1303069a077b50e4932689385805b76a26c6a34f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "933b2f88_4b173b77",
        "filename": "runtime/runtime.cc",
        "patchSetId": 8
      },
      "lineNbr": 3162,
      "author": {
        "id": 1017430
      },
      "writtenOn": "2021-03-11T01:06:00Z",
      "side": 1,
      "message": "madvise(MADV_WILLNEED) will prefetch max(fd readahead size, optimal block size for device) per call, hence the need for chunks. (128KB is a good default.)",
      "parentUuid": "ae83df03_243a3d4b",
      "range": {
        "startLine": 3161,
        "startChar": 7,
        "endLine": 3162,
        "endChar": 51
      },
      "revId": "1303069a077b50e4932689385805b76a26c6a34f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "645838d0_f0ca2c47",
        "filename": "runtime/runtime.cc",
        "patchSetId": 8
      },
      "lineNbr": 3172,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2021-03-11T00:58:06Z",
      "side": 1,
      "message": "I think the usual reporting mechanism here is LOG(WARNING) \u003c\u003c ...\nDoes ScopedTrace also show up in the log? Will it be visible in Bugreports?\nIt looks like EINTR is not a possibility. EAGAIN is, but unless we see it a lot, this is probably the right response in that case. So I\u0027m OK with this so long as it leaves a trace in logcat.",
      "range": {
        "startLine": 3172,
        "startChar": 8,
        "endLine": 3172,
        "endChar": 73
      },
      "revId": "1303069a077b50e4932689385805b76a26c6a34f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d9c9db5a_d5e03a3f",
        "filename": "runtime/runtime.cc",
        "patchSetId": 8
      },
      "lineNbr": 3172,
      "author": {
        "id": 1017430
      },
      "writtenOn": "2021-03-11T01:06:00Z",
      "side": 1,
      "message": "given that this is an opportunistic performance improvement, putting additional data in logcat is IMO not worth it; logcat is so noisy that this will be lost.",
      "parentUuid": "645838d0_f0ca2c47",
      "range": {
        "startLine": 3172,
        "startChar": 8,
        "endLine": 3172,
        "endChar": 73
      },
      "revId": "1303069a077b50e4932689385805b76a26c6a34f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}