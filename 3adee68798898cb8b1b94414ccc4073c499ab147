{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2ed95634_2afc3122",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-08-11T12:41:50Z",
      "side": 1,
      "message": "Do we know it\u0027s the right one? Or doesn\u0027t it matter?\n\n(Also, please break up this long line.)",
      "range": {
        "startLine": 9,
        "startChar": 291,
        "endLine": 9,
        "endChar": 313
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "da18cd0e_6dbd75ef",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-08-11T14:00:27Z",
      "side": 1,
      "message": "`pidof` outputs pids in ascending order, so the first one is the right one because its pid is a very small number. Actually, I\u0027m not sure why there are multiple zygote processes. Does zygote fork for some reason?",
      "parentUuid": "2ed95634_2afc3122",
      "range": {
        "startLine": 9,
        "startChar": 291,
        "endLine": 9,
        "endChar": 313
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a831ad29_ef234053",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-08-11T14:36:39Z",
      "side": 1,
      "message": "I recalled that zygote forks to start apps. My guess is that there can be a very short period of time where zygote just forks, in order to start an app, but hasn\u0027t executed the app binary yet, and therefore the child process is also named \"zygote\"/\"zygote64\". That may be why `pidof` sometimes finds multiple zygote processes. Does this make sense?\n\nIf that\u0027s the case, then which pid we take really doesn\u0027t matter, since our goal is to find mapped boot classpath artifacts.",
      "parentUuid": "da18cd0e_6dbd75ef",
      "range": {
        "startLine": 9,
        "startChar": 291,
        "endLine": 9,
        "endChar": 313
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "675a5e97_914cb731",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 9,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-08-12T08:59:11Z",
      "side": 1,
      "message": "Agreed. Can you please add some commentary to motivate why picking the first pid DTRT?",
      "parentUuid": "a831ad29_ef234053",
      "range": {
        "startLine": 9,
        "startChar": 291,
        "endLine": 9,
        "endChar": 313
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5ae86c53_f9f7323b",
        "filename": "test/odsign/test-src/com/android/tests/odsign/OnDeviceSigningHostTest.java",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1013030
      },
      "writtenOn": "2021-08-11T13:21:41Z",
      "side": 1,
      "message": "do we need to do the same thing here? Generally there is only one system_server",
      "range": {
        "startLine": 158,
        "startChar": 0,
        "endLine": 158,
        "endChar": 82
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "d59db620_f8ab3d1e",
        "filename": "test/odsign/test-src/com/android/tests/odsign/OnDeviceSigningHostTest.java",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-08-11T14:00:27Z",
      "side": 1,
      "message": "I do the same thing here just to be safe. I thought there was supposed to be only one `zygote` and one `zygote64`, but it turns out that there are multiple of them, so I\u0027m not sure about `system_server` either. There is probably only one system_server as you said, but taking the first pid doesn\u0027t hurt correctness.\n\nBTW, why can there be multiple zygote processes? Does zygote fork for some reason?",
      "parentUuid": "5ae86c53_f9f7323b",
      "range": {
        "startLine": 158,
        "startChar": 0,
        "endLine": 158,
        "endChar": 82
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "38fd5377_a21cf7d2",
        "filename": "test/odsign/test-src/com/android/tests/odsign/OnDeviceSigningHostTest.java",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-08-11T14:36:39Z",
      "side": 1,
      "message": "I took a guess and wrote it in the another comment. Does it make sense to you?",
      "parentUuid": "d59db620_f8ab3d1e",
      "range": {
        "startLine": 158,
        "startChar": 0,
        "endLine": 158,
        "endChar": 82
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "3020ec2c_c108b4e7",
        "filename": "test/odsign/test-src/com/android/tests/odsign/OnDeviceSigningHostTest.java",
        "patchSetId": 2
      },
      "lineNbr": 158,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2021-08-12T08:59:11Z",
      "side": 1,
      "message": "The zygote forks to spawn the app processes, so it\u0027s very plausible that there can be races where more than one process have that name. Afaik system_server doesn\u0027t fork that way, so I think it\u0027s better to put this off until proven necessary.\n\nHowever, I think it\u0027s still a good idea to assert that pidof doesn\u0027t produce more than one line, to make the error more obvious.",
      "parentUuid": "38fd5377_a21cf7d2",
      "range": {
        "startLine": 158,
        "startChar": 0,
        "endLine": 158,
        "endChar": 82
      },
      "revId": "3adee68798898cb8b1b94414ccc4073c499ab147",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}