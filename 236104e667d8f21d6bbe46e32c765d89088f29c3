{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "116719a7_46008192",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 3
      },
      "lineNbr": 0,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-08-23T11:00:47Z",
      "side": 1,
      "message": "PTAL",
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "104b6430_95b1f796",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 1227,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-08-23T12:25:33Z",
      "side": 1,
      "message": "At build time, this is likely to be not as good as after running a few optimization passes.\n\nWhich makes me wonder: could we have the builder just do the work needed for the codegen to work, and then the instruction simplifier do some optimizations?",
      "range": {
        "startLine": 1224,
        "startChar": 0,
        "endLine": 1227,
        "endChar": 5
      },
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0bd9e392_e624f5be",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 1227,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-08-23T13:10:14Z",
      "side": 1,
      "message": "It should be possible to do a (possibly overly-pessimistic) check here for baseline compiler, and do a more precise simplifier pass for the optimizing compiler.\n\nI can do as you suggested before: at CFG construction time find out if we have any varhandle method calls, save it as a boolean flag, and if it\u0027s true then accept the overhead on an extra-pass in baseline compiler.",
      "parentUuid": "104b6430_95b1f796",
      "range": {
        "startLine": 1224,
        "startChar": 0,
        "endLine": 1227,
        "endChar": 5
      },
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac90a55a_db3f9fdb",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 1227,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-08-23T13:11:53Z",
      "side": 1,
      "message": "Ignore the second paragraph, I misunderstood your comment on the first read ad then forgot to delete it.",
      "parentUuid": "0bd9e392_e624f5be",
      "range": {
        "startLine": 1224,
        "startChar": 0,
        "endLine": 1227,
        "endChar": 5
      },
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "689b7945_560f6faf",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 1227,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-08-27T13:43:22Z",
      "side": 1,
      "message": "Yeah, a overly-pessimistic approach on the builder works for me, with the instruction simplifier doing all optimizations possible (that approach follows the the spirit of the baseline compiler).",
      "parentUuid": "ac90a55a_db3f9fdb",
      "range": {
        "startLine": 1224,
        "startChar": 0,
        "endLine": 1227,
        "endChar": 5
      },
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "039d2ecd_4883b456",
        "filename": "compiler/optimizing/instruction_builder.cc",
        "patchSetId": 3
      },
      "lineNbr": 1227,
      "author": {
        "id": 1550939
      },
      "writtenOn": "2021-08-27T15:41:42Z",
      "side": 1,
      "message": "Next attempt (PS4): do the simple static checks in builder, and more complex checks in simplifier.",
      "parentUuid": "689b7945_560f6faf",
      "range": {
        "startLine": 1224,
        "startChar": 0,
        "endLine": 1227,
        "endChar": 5
      },
      "revId": "236104e667d8f21d6bbe46e32c765d89088f29c3",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}