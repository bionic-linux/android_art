{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "37460a44_c12369db",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 2
      },
      "lineNbr": 0,
      "author": {
        "id": 1241761
      },
      "writtenOn": "2023-11-15T09:37:44Z",
      "side": 1,
      "message": "Santiago: It appears that our next -dev cut of R8/D8 is causing some changes to the CFGs in some ART tests. I\u0027m not sure why the CFG changes as the D8 code change did not have any change in the instructions, just a constant that moved so it is now consistent with the placement in the ART CFG (so less diff from the DEX to your IR).\n\nI\u0027ve tried to update the CFG checks for the failing tests, but even with the updates the tests are still failing as if checking against the non-updated test expectations. Do you know what is up?",
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "78b838ff_b4cf5097",
        "filename": "test/646-checker-simd-hadd/src/HaddShort.java",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2023-11-15T10:05:41Z",
      "side": 1,
      "message": "This is the one that\u0027s failing on presubmit\n```\nerror: Statement could not be matched starting from line 1368604\nHaddShort.java:334: \u003c\u003cAnd2:i\\d+\u003e\u003e And [\u003c\u003cUMAX\u003e\u003e,\u003c\u003cGet2\u003e\u003e]             loop:\u003c\u003cLoop\u003e\u003e      outer_loop:none\n```\n\nAre you able to test locally these failures?",
      "range": {
        "startLine": 334,
        "startChar": 0,
        "endLine": 334,
        "endChar": 100
      },
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9eed1746_163994d5",
        "filename": "test/646-checker-simd-hadd/src/HaddShort.java",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1241761
      },
      "writtenOn": "2023-11-15T11:37:24Z",
      "side": 1,
      "message": "Thank you! I missed the line!\n\nI don\u0027t have a local test set up right now. What would be the best repro set up?",
      "parentUuid": "78b838ff_b4cf5097",
      "range": {
        "startLine": 334,
        "startChar": 0,
        "endLine": 334,
        "endChar": 100
      },
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "28b03a84_8c7e1fd8",
        "filename": "test/646-checker-simd-hadd/src/HaddShort.java",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1241761
      },
      "writtenOn": "2023-11-15T12:16:54Z",
      "side": 1,
      "message": "Running as specified in the README I\u0027m getting this locally:\n```\n$ m -j32 test-art-host-run-test-dependencies\n$ art/test.py --host -r -t 646-checker-simd-hadd\n\u003csnip\u003e\n/usr/local/google/home/zerny/android/aosp/prebuilts/build-tools/path/linux-x86/python3 /usr/local/google/home/zerny/android/aosp/art/test/run-test --temp-path /tmp/test-art-461qafxe/tmp976a8hvl --always-clean --host --prebuild --compact-dex-level fast --optimizing --no-relocate --runtime-option -Xcheck:jni 646-checker-simd-hadd\nTraceback (most recent call last):\n  File \"/usr/local/google/home/zerny/android/aosp/art/test/run-test\", line 917, in \u003cmodule\u003e\n    zip \u003d ZipFile(zip_file, \"r\")\n          ^^^^^^^^^^^^^^^^^^^^^^\n  File \"internal/python3.11/zipfile.py\", line 1284, in __init__\nFileNotFoundError: [Errno 2] No such file or directory: \u0027/usr/local/google/home/zerny/android/aosp/out/host/linux-x86/etc/art/art-run-test-host-data-shard46.zip\u0027\n```",
      "parentUuid": "9eed1746_163994d5",
      "range": {
        "startLine": 334,
        "startChar": 0,
        "endLine": 334,
        "endChar": 100
      },
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e2e8e9db_bea8bb6f",
        "filename": "test/646-checker-simd-hadd/src/HaddShort.java",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1889741
      },
      "writtenOn": "2023-11-15T13:58:59Z",
      "side": 1,
      "message": "On host, you can run `art/test/testrunner/testrunner.py --host --64 --optimizing -b` to build and run all the tests. You can use `-t` to specify a subset of tests to run e.g. `art/test/testrunner/testrunner.py --host --64 --optimizing -b -t 646-checker-simd-hadd`.\n\nFor device, you can use the chroot method (https://cs.android.com/android/platform/superproject/main/+/main:art/test/README.chroot.md). Note that if you run `testrunner` for device you don\u0027t need the `-b` flag as you already built and synced the tests. Running on device (after building and syncing) would be `art/test/testrunner/testrunner.py --target --64 --optimizing -t 646-checker-simd-hadd`",
      "parentUuid": "28b03a84_8c7e1fd8",
      "range": {
        "startLine": 334,
        "startChar": 0,
        "endLine": 334,
        "endChar": 100
      },
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3283e05f_804adfed",
        "filename": "test/646-checker-simd-hadd/src/HaddShort.java",
        "patchSetId": 2
      },
      "lineNbr": 334,
      "author": {
        "id": 1241761
      },
      "writtenOn": "2023-11-16T08:20:23Z",
      "side": 1,
      "message": "Thanks. That worked. Tests should pass now so this is ready for review. Rerunning presubmit now.",
      "parentUuid": "e2e8e9db_bea8bb6f",
      "range": {
        "startLine": 334,
        "startChar": 0,
        "endLine": 334,
        "endChar": 100
      },
      "revId": "5798553533dab18c2a4641a823baf09b011af4ff",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}