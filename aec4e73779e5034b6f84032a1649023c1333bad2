{
  "comments": [
    {
      "key": {
        "uuid": "ef5322d2_fc608d43",
        "filename": "compiler/optimizing/load_store_elimination.cc",
        "patchSetId": 6
      },
      "lineNbr": 312,
      "author": {
        "id": 1096678
      },
      "writtenOn": "2018-01-19T10:58:25Z",
      "side": 1,
      "message": "Hi Mingyao,\nI have a question regarding keeping stores (and possibly_removed_stores_) in LSE - probably you\u0027ve considered it already, but I\u0027d like to ask anyway.\nBy applying this patch locally, I saw some failure in my gtest case: https://android-review.googlesource.com/#/c/platform/art/+/498151/4/compiler/optimizing/load_store_elimination_test.cc@223\n\nThe problem is that my test case doesn\u0027t have any HReturnVoid/HReturn/HThrow in its CFG and there is only a HExit in exit block. Thus HandleExit()/KeepIfIsStore() aren\u0027t called and some stores were removed incorrectly.\n\nI can easily change my test case (by adding HReturn) to fix this, but I wonder should LSE handle such case? I\u0027d like to hear your opinion.\nThanks.",
      "range": {
        "startLine": 312,
        "startChar": 7,
        "endLine": 312,
        "endChar": 20
      },
      "revId": "aec4e73779e5034b6f84032a1649023c1333bad2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "94e4348e_a3bc4ada",
        "filename": "compiler/optimizing/load_store_elimination.cc",
        "patchSetId": 6
      },
      "lineNbr": 312,
      "author": {
        "id": 1043514
      },
      "writtenOn": "2018-01-19T19:45:20Z",
      "side": 1,
      "message": "IMO you should fix the graph. graph_checker.cc explicitly calls IsAllowedToJumpToExitBlock() for exit block predecessors. The graph should be able to pass graph checker.",
      "parentUuid": "ef5322d2_fc608d43",
      "range": {
        "startLine": 312,
        "startChar": 7,
        "endLine": 312,
        "endChar": 20
      },
      "revId": "aec4e73779e5034b6f84032a1649023c1333bad2",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}