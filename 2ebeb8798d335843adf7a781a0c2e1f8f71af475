{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "fd6de49a_60fff740",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-06-24T14:15:03Z",
      "side": 1,
      "message": "The changes in build/flags look fine. How to use the flags needs to be discussed more. The fact that we can\u0027t use flags on host is a blocker. Besides, we should also consider linking flag lib into libart in addition to just libartbase. I suggest to submit this CL without the change to `libartbase/Android.bp`",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "55ac5acc_6db8f4d6",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-06-24T14:43:23Z",
      "side": 1,
      "message": "\u003e The fact that we can\u0027t use flags on host is a blocker.\n\nSee other thread.\n\n\u003e Besides, we should also consider linking flag lib into libart in addition to just libartbase.\n\n`libart` already depends on `libartbase` (via `libart-runtime`), so I think that should work already.",
      "parentUuid": "fd6de49a_60fff740",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "96ad8b23_dfdbf873",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-06-24T14:46:34Z",
      "side": 1,
      "message": "I\u0027m not sure static_libs work transitively. AFAIK, static_libs are pruned at link time.",
      "parentUuid": "55ac5acc_6db8f4d6",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "f19b42a5_81247f39",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-06-24T15:13:30Z",
      "side": 1,
      "message": "It doesn\u0027t if there are symbol references in the headers, but everything is inline here. When read-write flags is a thing this will probably be something we need to look into, but that\u0027s a problem for then.",
      "parentUuid": "96ad8b23_dfdbf873",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "de5ac68c_2f22c318",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-06-24T16:07:22Z",
      "side": 1,
      "message": "Oh, we rely on the fact that everything we need is in the headers. I see. Maybe it will be clearer if we put the flag lib in `header_libs` instead of `static_libs`, but I\u0027m fine with either way.",
      "parentUuid": "f19b42a5_81247f39",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "887e6aa2_f2437d50",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-06-24T17:03:28Z",
      "side": 1,
      "message": "It would, yes, but since the aconfig Soong module is a static lib it has to be imported with `static_libs`. `header_libs` only works with `cc_library_headers`.",
      "parentUuid": "de5ac68c_2f22c318",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "28001d35_9a68299f",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 5
      },
      "lineNbr": 0,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-06-24T17:57:48Z",
      "side": 1,
      "message": "I see.",
      "parentUuid": "887e6aa2_f2437d50",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2e22b404_ba339c77",
        "filename": "libartbase/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-06-24T14:15:03Z",
      "side": 1,
      "message": "We can\u0027t use it on host? This is very concerning because we have host dex2oat that must match ART on device. I don\u0027t think we can start to use flags until we address this problem.",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "fb9a1e55_19e47b89",
        "filename": "libartbase/Android.bp",
        "patchSetId": 5
      },
      "lineNbr": 72,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-06-24T14:43:23Z",
      "side": 1,
      "message": "We can use it on host. I just missed it, thanks for pointing it out. (Not supported on Windows though, but we can probably live with that, at least initially.)",
      "parentUuid": "2e22b404_ba339c77",
      "revId": "2ebeb8798d335843adf7a781a0c2e1f8f71af475",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}