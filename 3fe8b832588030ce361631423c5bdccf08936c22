{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "ae2e82e8_a752cb13",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 948,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2021-11-15T10:02:06Z",
      "side": 1,
      "message": "!\u003d 0 ?",
      "range": {
        "startLine": 948,
        "startChar": 6,
        "endLine": 948,
        "endChar": 8
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "097297e6_3e821254",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 948,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-11-15T10:20:50Z",
      "side": 1,
      "message": "As-is, this is `operator bool()` and is the idiomatic check here.",
      "parentUuid": "ae2e82e8_a752cb13",
      "range": {
        "startLine": 948,
        "startChar": 6,
        "endLine": 948,
        "endChar": 8
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c8c21677_f799737c",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 948,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-15T12:23:09Z",
      "side": 1,
      "message": "Ack. Thank you for confirming this, Orion.",
      "parentUuid": "097297e6_3e821254",
      "range": {
        "startLine": 948,
        "startChar": 6,
        "endLine": 948,
        "endChar": 8
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ebc278cf_4bb57281",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 961,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-11-15T10:20:50Z",
      "side": 1,
      "message": "Just android::base::ReadFully(), android::base::WriteFully(). Passing through a string is non-obviously correct for binary files.",
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d0c17532_b4b794bd",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 961,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-15T12:23:09Z",
      "side": 1,
      "message": "`android::base::ReadFully` requires a size to be provided, so it\u0027s not as convenient as `android::base::ReadFileToString`. Passing through a string is correct (though not obviously). There is a similar function `file::GetContents` in google3, which is widely used for reading any contents from a file.",
      "parentUuid": "ebc278cf_4bb57281",
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "769b22bf_63850707",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 961,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-11-15T22:04:35Z",
      "side": 1,
      "message": "The size is on hand `std::filesystem::directory_entry::file_size(ec)`. Up to you. There\u0027s also std::filesystem::remove vs unlink.",
      "parentUuid": "d0c17532_b4b794bd",
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d3d1562b_1aec8449",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 961,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:04:39Z",
      "side": 1,
      "message": "Yes, there are ways to get the file size, but I still think reading contents to a string is an easy way and should be the standard way. Since `file::GetContents` in google3 is the standard way to read file contents, the same rationale applies here.\n\nRegarding `std::filesystem::remove` vs `unlink`, I\u0027m fine with either way. I chose `unlink` to keep the consistency with other usages in this file.",
      "parentUuid": "769b22bf_63850707",
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e846ae9b_065c1f68",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 970,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-11-15T22:04:35Z",
      "side": 1,
      "message": "File level constant if this is this is now repeated in this file?",
      "range": {
        "startLine": 970,
        "startChar": 44,
        "endLine": 970,
        "endChar": 81
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "c2a1d5b6_4afa5c82",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 970,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:04:39Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e846ae9b_065c1f68",
      "range": {
        "startLine": 970,
        "startChar": 44,
        "endLine": 970,
        "endChar": 81
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "7cd01b0c_e317c015",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1112,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2021-11-15T22:04:35Z",
      "side": 1,
      "message": "There are quite a few unrelated style changes here. By all means change the style, but group those changes into a separate CL off of the topic here.",
      "range": {
        "startLine": 1112,
        "startChar": 2,
        "endLine": 1112,
        "endChar": 94
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "341c33e1_5964814c",
        "filename": "odrefresh/odrefresh.cc",
        "patchSetId": 4
      },
      "lineNbr": 1112,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2021-11-16T11:04:39Z",
      "side": 1,
      "message": "Yes, I also realized that. My editor is set to format modified lines only, but looks like it accidentally formatted some unmodified lines. It\u0027s probably too late to revert those changes in this CL because the CLs pile up and reverting those changes may cause many merge conflicts. Anyway, those style changes look reasonable to me and we need to do them sooner or later, so keeping them in this CL doesn\u0027t hurt.",
      "parentUuid": "7cd01b0c_e317c015",
      "range": {
        "startLine": 1112,
        "startChar": 2,
        "endLine": 1112,
        "endChar": 94
      },
      "revId": "3fe8b832588030ce361631423c5bdccf08936c22",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}