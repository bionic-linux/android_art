{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2b0d7d7d_9bd5cddc",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootDriver.java",
        "patchSetId": 15
      },
      "lineNbr": 66,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "Please document the null option here.",
      "range": {
        "startLine": 66,
        "startChar": 23,
        "endLine": 66,
        "endChar": 47
      },
      "revId": "54dd8d03ee3c93fd7e7e50889bd1b81649b15132",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "e04297ba_5a33860b",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootDriver.java",
        "patchSetId": 15
      },
      "lineNbr": 111,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "Gosh, is it this hard to shut it down? I\u0027m curious about both the long sleeps and the number of retries.\n\nAs for the chroot teardown, do you expect compilation threads and forked processes to still be running here? I thought we have enough control so that wouldn\u0027t be the case (regardless of outcome), If so we still may have various memory structures around, but nothing that would keep files open in the chroot. So it ought to be enough to just do the teardown of that once right at the start (which is the most important part of the teardown because it\u0027s persistent).\n\nThen I can imagine it\u0027s harder to free everything to get the art-service dexjar unloaded, but by then it\u0027s just dead garbage with no threads or open fd\u0027s etc (except for the mmaps of the jar itself, of course).",
      "range": {
        "startLine": 88,
        "startChar": 0,
        "endLine": 111,
        "endChar": 9
      },
      "revId": "54dd8d03ee3c93fd7e7e50889bd1b81649b15132",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f6a54bbf_af46b4b3",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootDriver.java",
        "patchSetId": 15
      },
      "lineNbr": 130,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "Please add argument comment.",
      "range": {
        "startLine": 130,
        "startChar": 24,
        "endLine": 130,
        "endChar": 28
      },
      "revId": "54dd8d03ee3c93fd7e7e50889bd1b81649b15132",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2b097cbd_02d4bc27",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootGlobalInjector.java",
        "patchSetId": 15
      },
      "lineNbr": 60,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "DexUseManagerLocal comes from the new version, so this means the on-disk format is part of the stable API, correct? There\u0027s already [a note]() about stability for, so no need to do anything, just wanted to confirm.",
      "range": {
        "startLine": 60,
        "startChar": 38,
        "endLine": 60,
        "endChar": 80
      },
      "revId": "54dd8d03ee3c93fd7e7e50889bd1b81649b15132",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bd17635c_6bb2bc43",
        "filename": "libartservice/service/java/com/android/server/art/prereboot/PreRebootManager.java",
        "patchSetId": 15
      },
      "lineNbr": 51,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-04-25T09:59:45Z",
      "side": 1,
      "message": "This retrieves the \"old\" instance of PackageManager? Can it be passed as an argument instead, to make it more clear it\u0027s part of the API?",
      "range": {
        "startLine": 51,
        "startChar": 20,
        "endLine": 51,
        "endChar": 78
      },
      "revId": "54dd8d03ee3c93fd7e7e50889bd1b81649b15132",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}