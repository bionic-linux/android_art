{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "085f2e6b_fe16c460",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 9
      },
      "lineNbr": 0,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "This is an initial pass. I suspect I misunderstood some things here ...",
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b55b5342_bc5d27c7",
        "filename": "runtime/arch/arm/fault_handler_arm.cc",
        "patchSetId": 9
      },
      "lineNbr": 83,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "Nit: \"A32 instruction encoding\" would make this clearer to many readers, I suspect.",
      "range": {
        "startLine": 83,
        "startChar": 37,
        "endLine": 83,
        "endChar": 41
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "32eb4e5e_c4f97f02",
        "filename": "runtime/arch/x86/fault_handler_x86.cc",
        "patchSetId": 9
      },
      "lineNbr": 297,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "Is this safe here? This runs in a signal handler, right? Is GetOatQuickMethodHeader async-signal-safe? It doesn\u0027t allocate or acquire locks? It seems rather involved. I think if it is, that should be documented. (I\u0027m willing to overlook CHECKs, which I\u0027m pretty sure are not async-signal-safe on failure, but should otherwise be.)",
      "range": {
        "startLine": 297,
        "startChar": 54,
        "endLine": 297,
        "endChar": 77
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f7265c36_071aeecf",
        "filename": "runtime/class_linker.cc",
        "patchSetId": 9
      },
      "lineNbr": 10364,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "I don\u0027t understand what it means to be not runnable, but holding the mutator lock. Can you explain?",
      "range": {
        "startLine": 10363,
        "startChar": 4,
        "endLine": 10364,
        "endChar": 76
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4f610755_14cb77c6",
        "filename": "runtime/fault_handler.cc",
        "patchSetId": 9
      },
      "lineNbr": 227,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "Why do you need a compare_exchange here? Shouldn\u0027t concurrent modifications be impossible?",
      "range": {
        "startLine": 227,
        "startChar": 37,
        "endLine": 227,
        "endChar": 60
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4056926b_9ea32d6f",
        "filename": "runtime/fault_handler.cc",
        "patchSetId": 9
      },
      "lineNbr": 262,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "I don\u0027t see why this is necessary. This presumably shouldn\u0027t race with any other modifications to the data structure, so I don\u0027t think it helps.\nThe extra acquire here seems to be nearly free, so my concern is more about my understanding than unnecessary overhead.",
      "range": {
        "startLine": 262,
        "startChar": 25,
        "endLine": 262,
        "endChar": 51
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9426f089_02db6e9e",
        "filename": "runtime/fault_handler.cc",
        "patchSetId": 9
      },
      "lineNbr": 335,
      "author": {
        "id": 1042828
      },
      "writtenOn": "2022-11-04T01:24:45Z",
      "side": 1,
      "message": "I\u0027m suspicious of this. I\u0027ll revisit after the other questions. My immediate take on this should be that all updates should be release stores, and this should use acquire operations. But I need to think about this more, particularly in light of the fences.",
      "range": {
        "startLine": 335,
        "startChar": 29,
        "endLine": 335,
        "endChar": 54
      },
      "revId": "2ab2cca04dc1cd2f2b2a50c9a2ae4b4727a6ee2f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}