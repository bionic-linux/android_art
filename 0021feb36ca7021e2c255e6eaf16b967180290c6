{
  "comments": [
    {
      "key": {
        "uuid": "b80e27db_ded02500",
        "filename": "compiler/dex/dex_to_dex_compiler.cc",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-07T21:19:08Z",
      "side": 1,
      "message": "I\u0027m worried about the const_cast here since that could cause undefined behavior.\n\n----\n\nCan we expose a method here that returns the non-const instruction?\n\nFor that matter, why doesn\u0027t the regular Inst() just return a non-const pointer? Is there some reason?",
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "93a84fea_137e1e68",
        "filename": "compiler/dex/dex_to_dex_compiler.cc",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2017-11-07T21:20:34Z",
      "side": 1,
      "message": "Because its rare to want to modify the instructions. Does exposing a non const getter prevent the undefined behavior?",
      "parentUuid": "b80e27db_ded02500",
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "c9f59609_6fb65f3e",
        "filename": "compiler/dex/dex_to_dex_compiler.cc",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-07T22:15:32Z",
      "side": 1,
      "message": "Yeah, so long as there\u0027s no const-cast then there\u0027s no undefined behavior.",
      "parentUuid": "93a84fea_137e1e68",
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "43ae1760_e0a20cff",
        "filename": "compiler/dex/dex_to_dex_compiler.cc",
        "patchSetId": 2
      },
      "lineNbr": 118,
      "author": {
        "id": 1021471
      },
      "writtenOn": "2017-11-07T22:25:27Z",
      "side": 1,
      "message": "Looks like this const_cast is from L116 so this isn\u0027t new. I guess it\u0027s fine to leave it as--is if the Instruction points to memory that is originally non-const.",
      "parentUuid": "c9f59609_6fb65f3e",
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f19427df_af5b6013",
        "filename": "dex2oat/dex2oat_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 944,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2017-11-08T09:30:28Z",
      "side": 1,
      "message": "Should be 4 space post the \u0027(\u0027 above.",
      "range": {
        "startLine": 944,
        "startChar": 18,
        "endLine": 944,
        "endChar": 62
      },
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6d442abd_8186c390",
        "filename": "dex2oat/dex2oat_test.cc",
        "patchSetId": 2
      },
      "lineNbr": 944,
      "author": {
        "id": 1015378
      },
      "writtenOn": "2017-11-08T22:36:38Z",
      "side": 1,
      "message": "Will fix in followup:\nhttps://android-review.googlesource.com/c/platform/art/+/530179",
      "parentUuid": "f19427df_af5b6013",
      "range": {
        "startLine": 944,
        "startChar": 18,
        "endLine": 944,
        "endChar": 62
      },
      "revId": "0021feb36ca7021e2c255e6eaf16b967180290c6",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}