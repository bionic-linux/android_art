{
  "comments": [
    {
      "key": {
        "uuid": "517cf4a3_d5fbdc28",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T14:19:45Z",
      "side": 1,
      "message": "Why do we need to align to page boundary if we are switching from allocated section to a non-allocated section?\n\nShould we (explicitly) align the first section to page boundary if it is allocated?",
      "range": {
        "startLine": 113,
        "startChar": 6,
        "endLine": 117,
        "endChar": 7
      },
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "317b00b0_14f3948e",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-02-01T14:49:10Z",
      "side": 1,
      "message": "I do not want to included non-related data at the end of mmaped page.  It just feels wrong.\n\nWhether we align or not given section depends on which sections are written.  Thus I like to do it implicitly here.",
      "parentUuid": "517cf4a3_d5fbdc28",
      "range": {
        "startLine": 113,
        "startChar": 6,
        "endLine": 117,
        "endChar": 7
      },
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "517cf4a3_356250bb",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T15:10:49Z",
      "side": 1,
      "message": "AFAIK you can mmap only part of a page if the part starts at page boundary.",
      "parentUuid": "317b00b0_14f3948e",
      "range": {
        "startLine": 113,
        "startChar": 6,
        "endLine": 117,
        "endChar": 7
      },
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7153b827_09b16db3",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 117,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-02-01T15:30:39Z",
      "side": 1,
      "message": "I would still rather be safe than sorry as the behavior also depends on the linker\u0027s implementation.\n\nThe elf spec says: \"Impurities in the other three pages are not logically part of the process image; whether the system expunges them is unspecified.\"\n\nNone the less, our JIT images contain no allocated sections, so it does not affect them.",
      "parentUuid": "517cf4a3_356250bb",
      "range": {
        "startLine": 113,
        "startChar": 6,
        "endLine": 117,
        "endChar": 7
      },
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7153b827_4993e542",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 372,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T14:19:45Z",
      "side": 1,
      "message": "What do you think about changing it to \"bool write_program_headers\" without a default value? It would mean the user of the class don\u0027t have to know how many program headers an ELF file has and it would be more consistent with the approach we use for write_oat patches in the End() function.",
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "317b00b0_34f81066",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 372,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2016-02-01T14:49:10Z",
      "side": 1,
      "message": "The user of the class kind of needs to know the number of headers.  That is, at least the upper bound needs to be provided.\nHaving said that I am happy to revert to compile-time upper bound + write_program_headers.",
      "parentUuid": "7153b827_4993e542",
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b140d043_d0865c40",
        "filename": "compiler/elf_builder.h",
        "patchSetId": 2
      },
      "lineNbr": 372,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T15:10:49Z",
      "side": 1,
      "message": "I don\u0027t feel strongly about it but I would prefer to use \"compile-time upper bound + write_program_headers\" especially as none of the user specifies the argument to a value different then 0.",
      "parentUuid": "317b00b0_34f81066",
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "517cf4a3_950564f5",
        "filename": "compiler/elf_writer_debug.cc",
        "patchSetId": 2
      },
      "lineNbr": 1536,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T14:19:45Z",
      "side": 1,
      "message": "Please add a comment about why we don\u0027t want program headers here",
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d139c4d1_549dc27b",
        "filename": "compiler/elf_writer_debug.cc",
        "patchSetId": 2
      },
      "lineNbr": 1567,
      "author": {
        "id": 1059813
      },
      "writtenOn": "2016-02-01T14:19:45Z",
      "side": 1,
      "message": "Please add a comment about why we don\u0027t want program headers here",
      "revId": "c757d91b3db252a3d09c092d7c5cfa8ca46b8cdf",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}