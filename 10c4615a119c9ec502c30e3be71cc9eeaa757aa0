{
  "comments": [
    {
      "key": {
        "uuid": "3ad1308d_1d495f1f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:12:04Z",
      "side": 1,
      "message": "It\u0027s reserving a large set of bits for a very small number of \"users.\" And it\u0027s not extensibly, there\u0027s a hard limit.",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 11,
        "endChar": 41
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a12f748_5ae395a1",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:18:27Z",
      "side": 1,
      "message": "You mean the compiler for \"users\"? Yeah, though you could argue some other bits are also for a very small number of users.\n\nStill we\u0027re talking about known methods, and most modifiers are not relevant for them.\n\nWhat is the problem of using those bits, you think?\n\nHard limit is currently 255. We could work around using 65535 if you want to, but I doubt the intrinsic maintainer will survive that.",
      "parentUuid": "3ad1308d_1d495f1f",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 11,
        "endChar": 41
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_fd2c4b3f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:23:37Z",
      "side": 1,
      "message": "No, I meant the number of methods being tagged that way.",
      "parentUuid": "6a12f748_5ae395a1",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 11,
        "endChar": 41
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba20c083_8441662f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 11,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:25:37Z",
      "side": 1,
      "message": "Oh I see. Hmm, should I bring up kAccMustCountLocks? :)",
      "parentUuid": "3ad1308d_fd2c4b3f",
      "range": {
        "startLine": 10,
        "startChar": 32,
        "endLine": 11,
        "endChar": 41
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_7d569bbe",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:12:04Z",
      "side": 1,
      "message": "That\u0027s a bug that should be assigned to our class-unloading implementer...",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0af41b40_df1f9b5f",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:18:27Z",
      "side": 1,
      "message": "Or a bug in the compiler. Regardless, we need to fix it, and I\u0027m in the opinion avoiding a map completely is a nice cleanup.\n\nDo you have other suggestions?",
      "parentUuid": "3ad1308d_7d569bbe",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a12f748_3ad8e1e9",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:21:34Z",
      "side": 1,
      "message": "For cleanups that is. We can surely put some hooks between class linker and dex method inliner / compiler driver, but I feel it\u0027s much nicer to avoid the map altogeter and not require any hooks.",
      "parentUuid": "0af41b40_df1f9b5f",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_5d1e3704",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:23:37Z",
      "side": 1,
      "message": "Using a map nicely decouples runtime internals (who don\u0027t care that the method can be intrinsified) from the compiler, though. And means that my favorite modes, interpreter and AoT, don\u0027t have any \"overhead.\" Maybe an implementation of a sparse map would save space?",
      "parentUuid": "0af41b40_df1f9b5f",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2a08ff1a_182ac5e4",
        "filename": "/COMMIT_MSG",
        "patchSetId": 2
      },
      "lineNbr": 16,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:25:37Z",
      "side": 1,
      "message": "Why do you hate svelte?",
      "parentUuid": "3ad1308d_5d1e3704",
      "range": {
        "startLine": 14,
        "startChar": 16,
        "endLine": 16,
        "endChar": 18
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "5936f710_e1c2869d",
        "filename": "compiler/optimizing/intrinsics.cc",
        "patchSetId": 2
      },
      "lineNbr": 159,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2016-08-08T13:22:24Z",
      "side": 1,
      "message": "You want to rely on the method being already in the dex cache?",
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "f9afab5f_8629aa8f",
        "filename": "compiler/optimizing/intrinsics_list.h",
        "patchSetId": 2
      },
      "lineNbr": 2,
      "author": {
        "id": 1018108
      },
      "writtenOn": "2016-08-08T13:22:24Z",
      "side": 1,
      "message": "Bulk find\u0026replace?",
      "range": {
        "startLine": 2,
        "startChar": 15,
        "endLine": 2,
        "endChar": 27
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_bdc49375",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:23:37Z",
      "side": 1,
      "message": "Why waste another bit?",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "ba20c083_64246aa2",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:25:37Z",
      "side": 1,
      "message": "? That\u0027s the way to know the method is an intrinsic. Not sure I understand your question.",
      "parentUuid": "3ad1308d_bdc49375",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_fd90cb66",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:27:30Z",
      "side": 1,
      "message": "Start counting at 1. That gives you 2^(N+1)-1 intrinsics, vs the 2^N right now. A signalling bit is wasteful when you control the value range...",
      "parentUuid": "ba20c083_64246aa2",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0af41b40_7f364fee",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:31:28Z",
      "side": 1,
      "message": "You don\u0027t control the range, other flags are in it. Or maybe I still don\u0027t understand what you\u0027re suggesting.",
      "parentUuid": "3ad1308d_fd90cb66",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3ad1308d_4f531e58",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2016-07-15T16:49:15Z",
      "side": 1,
      "message": "The value of \"intrinsic,\" make 0 denote \"not an intrinsic.\"\n\n(If you want to \"protect\" the caller, add one to it before storing...)",
      "parentUuid": "0af41b40_7f364fee",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6a12f748_5a8a75c3",
        "filename": "runtime/art_method.h",
        "patchSetId": 2
      },
      "lineNbr": 297,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2016-07-15T16:51:01Z",
      "side": 1,
      "message": "Sorry, still not clear for me. We can take it offline.",
      "parentUuid": "3ad1308d_4f531e58",
      "range": {
        "startLine": 297,
        "startChar": 57,
        "endLine": 297,
        "endChar": 70
      },
      "revId": "10c4615a119c9ec502c30e3be71cc9eeaa757aa0",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}