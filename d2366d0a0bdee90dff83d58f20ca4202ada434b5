{
  "comments": [
    {
      "key": {
        "uuid": "fb359495_0d77f9b5",
        "filename": "tools/timeout_dumper/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-11-02T22:36:06Z",
      "side": 1,
      "message": "On to get a dump on a segfault I don\u0027t understand:\n\n  RELADDR           FUNCTION                                                                                                                                                                                                                                                                                                                                                                                                         FILE:LINE\n  v--------------\u003e  unwindstack::Unwinder::SetResolveNames(bool)                                                                                                                                                                                                                                                                                                                                                                     system/core/libunwindstack/include/unwindstack/Unwinder.h:80\n     104b4  Backtrace::Unwind(unwindstack::Regs*, BacktraceMap*, std::__1::vector\u003cbacktrace_frame_data_t, std::__1::allocator\u003cbacktrace_frame_data_t\u003e \u003e*, unsigned long, std::__1::vector\u003cstd::__1::basic_string\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e \u003e, std::__1::allocator\u003cstd::__1::basic_string\u003cchar, std::__1::char_traits\u003cchar\u003e, std::__1::allocator\u003cchar\u003e \u003e \u003e \u003e*, BacktraceUnwindError*)+260  system/core/libbacktrace/UnwindStack.cpp:51\n     10dac  UnwindStackPtrace::Unwind(unsigned long, void*)+76                                                                                                                                                                                                                                                                                                                                                               system/core/libbacktrace/UnwindStack.cpp:184",
      "range": {
        "startLine": 36,
        "startChar": 4,
        "endLine": 38,
        "endChar": 6
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "81906af6_c8a6f381",
        "filename": "tools/timeout_dumper/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 38,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2018-11-02T23:32:30Z",
      "side": 1,
      "message": "Hmm, this crash could be because the stack_map is nullptr, or that somehow you got a stack map that is not really an UnwindStackMap.",
      "parentUuid": "fb359495_0d77f9b5",
      "range": {
        "startLine": 36,
        "startChar": 4,
        "endLine": 38,
        "endChar": 6
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "3b7e1598_e5d91ffb",
        "filename": "tools/timeout_dumper/timeout_dumper.cc",
        "patchSetId": 1
      },
      "lineNbr": 252,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2018-11-02T23:32:30Z",
      "side": 1,
      "message": "Could you replace this with:\n\nos \u003c\u003c std::string(tmp, new_line - tmp);",
      "range": {
        "startLine": 249,
        "startChar": 0,
        "endLine": 252,
        "endChar": 32
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "fe6c05aa_043bd746",
        "filename": "tools/timeout_dumper/timeout_dumper.cc",
        "patchSetId": 1
      },
      "lineNbr": 252,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-11-05T16:28:10Z",
      "side": 1,
      "message": "For the cost of an extra allocation (I don\u0027t trust that it can be optimized away).\n\nCan do it in a follow-up - this code is exactly the one in native_stack_dump.cc, I\u0027d like to keep it as-is for this CL.",
      "parentUuid": "3b7e1598_e5d91ffb",
      "range": {
        "startLine": 249,
        "startChar": 0,
        "endLine": 252,
        "endChar": 32
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "e2ad0759_3cff6bb8",
        "filename": "tools/timeout_dumper/timeout_dumper.cc",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 1019050
      },
      "writtenOn": "2018-11-02T23:32:30Z",
      "side": 1,
      "message": "nullptr?",
      "range": {
        "startLine": 335,
        "startChar": 36,
        "endLine": 335,
        "endChar": 40
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": true
    },
    {
      "key": {
        "uuid": "04802b99_06a9af38",
        "filename": "tools/timeout_dumper/timeout_dumper.cc",
        "patchSetId": 1
      },
      "lineNbr": 335,
      "author": {
        "id": 1041833
      },
      "writtenOn": "2018-11-05T16:28:10Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "e2ad0759_3cff6bb8",
      "range": {
        "startLine": 335,
        "startChar": 36,
        "endLine": 335,
        "endChar": 40
      },
      "revId": "d2366d0a0bdee90dff83d58f20ca4202ada434b5",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}