{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a5fb48f4_a1c14a65",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 4
      },
      "lineNbr": 0,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-03-18T18:11:29Z",
      "side": 1,
      "message": "m",
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8fa3e106_21998ec0",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-03-18T18:11:29Z",
      "side": 1,
      "message": "Why doesn\u0027t it work to make it a normal non-global injector in `ArtManagerLocal`? We shouldn\u0027t use global storage unless it\u0027s absolutely unavoidable.\n\nAlso, won\u0027t the same system server process have both a normal and a pre-reboot instance active at the same time?",
      "range": {
        "startLine": 41,
        "startChar": 57,
        "endLine": 41,
        "endChar": 63
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "668d6321_3edbb60e",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-03-19T16:10:56Z",
      "side": 1,
      "message": "Discussed offline and added comments. PTAL, thanks.",
      "parentUuid": "8fa3e106_21998ec0",
      "range": {
        "startLine": 41,
        "startChar": 57,
        "endLine": 41,
        "endChar": 63
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8d1eab52_a530aa14",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-03-19T21:07:08Z",
      "side": 1,
      "message": "Thanks. I only see a comment for this static variable though, but I think it\u0027s worth pointing out for all of them. Did you intend to do that here or in a separate CL?",
      "parentUuid": "668d6321_3edbb60e",
      "range": {
        "startLine": 41,
        "startChar": 57,
        "endLine": 41,
        "endChar": 63
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "174c65b3_3053f09f",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 41,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-03-19T21:49:46Z",
      "side": 1,
      "message": "Yes, I intend to do it in a separate CL, as discussed. Does the comment look good to you?",
      "parentUuid": "8d1eab52_a530aa14",
      "range": {
        "startLine": 41,
        "startChar": 57,
        "endLine": 41,
        "endChar": 63
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5494633c_ce0f6d73",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-03-18T18:11:29Z",
      "side": 1,
      "message": "This could use a comment. It\u0027s used in code that talks about getters, so maybe call it `checkGetArtModuleServiceManager` to make it more self-explanatory. In the pre-reboot code the manager object may be called something else, but whatever it is it\u0027d be good if this method made it more clear that it\u0027s checking the getter for the registrerer for `Artd`, not `Artd` itself.",
      "range": {
        "startLine": 66,
        "startChar": 25,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "d29ec4c4_ed652663",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-03-19T16:10:56Z",
      "side": 1,
      "message": "Renamed.",
      "parentUuid": "5494633c_ce0f6d73",
      "range": {
        "startLine": 66,
        "startChar": 25,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "a71f52d5_8fa10aca",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 1373864
      },
      "writtenOn": "2024-03-19T21:07:08Z",
      "side": 1,
      "message": "I think `check\u003eGet\u003cArtModuleServiceManager` is even better, because it says what kind of check it is. But close enough.",
      "parentUuid": "d29ec4c4_ed652663",
      "range": {
        "startLine": 66,
        "startChar": 25,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "39a4d37b_97d6accc",
        "filename": "libartservice/service/java/com/android/server/art/GlobalInjector.java",
        "patchSetId": 4
      },
      "lineNbr": 66,
      "author": {
        "id": 1884045
      },
      "writtenOn": "2024-03-19T21:49:46Z",
      "side": 1,
      "message": "In the Pre-reboot Dexopt case, there is not getter involved. Instead, PreRebootDexoptGlobalInjector holds a reference to the ArtModuleServiceManager instance. I think it\u0027s more accurate without \"Get\". Basically, it checks that we have access to the ArtModuleServiceManager instance, regardless of how.",
      "parentUuid": "a71f52d5_8fa10aca",
      "range": {
        "startLine": 66,
        "startChar": 25,
        "endLine": 66,
        "endChar": 34
      },
      "revId": "3e83f8a683e8481b727a0edfff5262a08a0f5d5c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}