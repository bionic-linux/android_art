{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0153fb31_1248a217",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1440,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-10-28T18:25:17Z",
      "side": 0,
      "message": "Why would this be a problem? Isn\u0027t the kernel setting the page-size?",
      "range": {
        "startLine": 1440,
        "startChar": 2,
        "endLine": 1440,
        "endChar": 67
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "dbb19acc_3a08e89a",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1440,
      "author": {
        "id": 1499410
      },
      "writtenOn": "2022-10-28T18:32:31Z",
      "side": 0,
      "message": "When dexpreopt at build time this is executed in the host context where the page size is 4Kb",
      "parentUuid": "0153fb31_1248a217",
      "range": {
        "startLine": 1440,
        "startChar": 2,
        "endLine": 1440,
        "endChar": 67
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "86492265_499e9b94",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1440,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-10-28T19:18:52Z",
      "side": 0,
      "message": "In that case we should set kPageSize differently for host/target and keep this check.\n\nThe reason I insist on keeping these checks is that there are numerous places in the code where things are done with the assumption that kPageSize is the page_size as per kernel.",
      "parentUuid": "dbb19acc_3a08e89a",
      "range": {
        "startLine": 1440,
        "startChar": 2,
        "endLine": 1440,
        "endChar": 67
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "20444d45_f30628ce",
        "filename": "runtime/runtime.cc",
        "patchSetId": 1
      },
      "lineNbr": 1440,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-11-02T23:43:00Z",
      "side": 0,
      "message": "please put this check back. After the conditional page-size setting this should work.",
      "parentUuid": "86492265_499e9b94",
      "range": {
        "startLine": 1440,
        "startChar": 2,
        "endLine": 1440,
        "endChar": 67
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b58b7486_3caaa33f",
        "filename": "runtime/thread_pool.cc",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-10-28T18:25:17Z",
      "side": 0,
      "message": "ditto, why is this a problem?",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 45
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "05ec4f94_a7b067d6",
        "filename": "runtime/thread_pool.cc",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1499410
      },
      "writtenOn": "2022-10-28T18:32:31Z",
      "side": 0,
      "message": "Same as above. (Host uses 4kb pages)",
      "parentUuid": "b58b7486_3caaa33f",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 45
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ac1fa94c_9ce1e352",
        "filename": "runtime/thread_pool.cc",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-10-28T19:18:52Z",
      "side": 0,
      "message": "We can keep this check after making the changes to kPageSize as suggested above.",
      "parentUuid": "05ec4f94_a7b067d6",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 45
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2673065d_7f8b5cbf",
        "filename": "runtime/thread_pool.cc",
        "patchSetId": 1
      },
      "lineNbr": 65,
      "author": {
        "id": 1258954
      },
      "writtenOn": "2022-11-02T23:43:00Z",
      "side": 0,
      "message": "ditto. please revert this change.",
      "parentUuid": "ac1fa94c_9ce1e352",
      "range": {
        "startLine": 65,
        "startChar": 4,
        "endLine": 65,
        "endChar": 45
      },
      "revId": "9e97a8d783d04eede57686e2ab398e62d5ae385c",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}