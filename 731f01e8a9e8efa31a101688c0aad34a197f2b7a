{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "77c0b3fb_f1b85081",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-07-05T08:28:11Z",
      "side": 1,
      "message": "The type should be known: it\u0027s either dex if it\u0027s in the APK, or cdex if it\u0027s in the vdex (though you can change the vdex generation with flags, you could still check the vdex content?).\n\nWhy do we need to know the version before we open it?",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "731f01e8a9e8efa31a101688c0aad34a197f2b7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b462ae40_283c72a6",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2023-07-05T09:22:34Z",
      "side": 1,
      "message": "I need to know whether it is the old multidex (v \u003c 41) or new multidex (v \u003e\u003d 41) since affects how the multidex checksum is calculated (for the new multidex we just look at the checksum of the primary dex file only, since that is already the CRC of the whole zip entry)\n\nAlternatively, I could also calculate the multidex checksum in dex2oat and store that.",
      "parentUuid": "77c0b3fb_f1b85081",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "731f01e8a9e8efa31a101688c0aad34a197f2b7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "39ee4c5e_aee2f667",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1038443
      },
      "writtenOn": "2023-07-05T09:54:11Z",
      "side": 1,
      "message": "So this is to optimize getDexoptNeeded and avoid looking into the zip?",
      "parentUuid": "b462ae40_283c72a6",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "731f01e8a9e8efa31a101688c0aad34a197f2b7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "710ed1b3_5d9dc5ab",
        "filename": "/COMMIT_MSG",
        "patchSetId": 1
      },
      "lineNbr": 10,
      "author": {
        "id": 1065473
      },
      "writtenOn": "2023-07-05T10:15:17Z",
      "side": 1,
      "message": "Kind of - I assume I can no decompress the zip, and I can only get the entry CRCs (and thus XORed CRC of the whole zip archive).\n\nThe question is how to compare it to the oat file. With the old multidex, the secondary dexes are separate zip entries so they contribute to the XORed CRC, but for the new multidex, the CRC of just the primary file is already the full CRC.\n\nSo I need to know which case it is.",
      "parentUuid": "39ee4c5e_aee2f667",
      "range": {
        "startLine": 9,
        "startChar": 0,
        "endLine": 10,
        "endChar": 18
      },
      "revId": "731f01e8a9e8efa31a101688c0aad34a197f2b7a",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}