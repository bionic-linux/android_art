{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "0bfdad00_54e378c8",
        "filename": "runtime/native/dalvik_system_DexFile.cc",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2022-11-13T22:12:06Z",
      "side": 1,
      "message": "Because of Mainline, we\u0027re double gating changes relating to the core library. The preferred check considers both the feature and the device API level:\n\n(compatFramework.IsChangeEnabled(kEnforceReadOnlyJavaDcl) \u0026\u0026\n  android_get_device_api_level() \u003e\u003d __ANDROID_API_U__)\n\nExample of the existing pattern:\n\nhttps://r.android.com/c/platform/libcore/+/2214816/3/ojluni/src/main/java/java/util/regex/Matcher.java#887\n\nThere\u0027s no need for the CTS target SDK change proposed this route.",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 41
      },
      "revId": "639816fbf2d44217e37d61060cc2da935c09393f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bfc3bc80_b8006428",
        "filename": "runtime/native/dalvik_system_DexFile.cc",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1891746
      },
      "writtenOn": "2022-11-17T02:51:22Z",
      "side": 1,
      "message": "I\u0027ve followed your instruction. There\u0027s a small problem here though: the current value returned from `android_get_device_api_level()` on AOSP master is 33, not 34, so the check will actually never pass. This makes the code path unreachable for any tests.",
      "parentUuid": "0bfdad00_54e378c8",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 41
      },
      "revId": "639816fbf2d44217e37d61060cc2da935c09393f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5d2a911e_87477ed9",
        "filename": "runtime/native/dalvik_system_DexFile.cc",
        "patchSetId": 1
      },
      "lineNbr": 343,
      "author": {
        "id": 1071150
      },
      "writtenOn": "2022-11-17T09:22:38Z",
      "side": 1,
      "message": "Rats!hTanks for trying John (Android has different versioning conventions in managed and native code).\n\nTwo possible fixes:\n\n1) Do the checking of the compat flag and version in Java and pass that down.\n\n2) Add an additional check for T and ro.build.version.preview_sdk set, or release_or_codename exists and is UpsideDownCake.\n\n```\n[ro.build.version.base_os]: []\n[ro.build.version.codename]: [UpsideDownCake]\n[ro.build.version.incremental]: [eng.oth.20221113.090541]\n[ro.build.version.known_codenames]: [Base,Base11,Cupcake,Donut,Eclair,Eclair01,EclairMr1,Froyo,Gingerbread,GingerbreadMr1,Honeycomb,HoneycombMr1,HoneycombMr2,IceCreamSandwich,IceCreamSandwichMr1,JellyBean,JellyBeanMr1,JellyBeanMr2,Kitkat,KitkatWatch,Lollipop,LollipopMr1,M,N,NMr1,O,OMr1,P,Q,R,S,Sv2,Tiramisu,UpsideDownCake]\n[ro.build.version.min_supported_target_sdk]: [23]\n[ro.build.version.preview_sdk]: [1]\n[ro.build.version.preview_sdk_fingerprint]: [d6bc2e56392576724c177957ae81e439]\n[ro.build.version.release]: [13]\n[ro.build.version.release_or_codename]: [UpsideDownCake]\n[ro.build.version.release_or_preview_display]: [13]\n[ro.build.version.sdk]: [33]\n```",
      "parentUuid": "bfc3bc80_b8006428",
      "range": {
        "startLine": 343,
        "startChar": 10,
        "endLine": 343,
        "endChar": 41
      },
      "revId": "639816fbf2d44217e37d61060cc2da935c09393f",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}