{
  "comments": [
    {
      "key": {
        "uuid": "675807cd_5f25bfd1",
        "filename": "tools/ahat/src/Main.java",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "This import is added but isn\u0027t used anywhere.",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6bbb0b95_f6bb1e90",
        "filename": "tools/ahat/src/Main.java",
        "patchSetId": 6
      },
      "lineNbr": 19,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Used on line 91. The import wasn\u0027t needed before because AhatSnapshot used to be in the same package, but now it\u0027s in a different package.",
      "parentUuid": "675807cd_5f25bfd1",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "79651d47_a2c41e07",
        "filename": "tools/ahat/src/Sort.java",
        "patchSetId": 6
      },
      "lineNbr": 145,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "It\u0027d be more typical here to just have a single Comparator instance, since every instance acts the same.\n\npublic static final Comparator\u003cSite\u003e SITE_BY_TOTAL_SIZE \u003d new Comparator\u003cSite\u003e { ... }\n\n..and the same for the other similar items in this class.",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c3a518be_8f4f5243",
        "filename": "tools/ahat/src/Sort.java",
        "patchSetId": 6
      },
      "lineNbr": 145,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Fixed in a subsequent CL to avoid merge headaches.",
      "parentUuid": "79651d47_a2c41e07",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96164b1b_9cb32b95",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "It\u0027s actually better to leave off the documentation here, since the Javadoc tools will automatically include the superclass\u0027s documentation if nothing is present, but won\u0027t if something is there.",
      "range": {
        "startLine": 41,
        "startChar": 5,
        "endLine": 41,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d1b359d2_84dd2b88",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 41,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "96164b1b_9cb32b95",
      "range": {
        "startLine": 41,
        "startChar": 5,
        "endLine": 41,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d3cc0a05_a1f0dee3",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 74,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "Instead of this, it looks like perflib.heap.ArrayInstance has a specialized methods to extract char and byte arrays (asCharArray() and asRawByteArray(), respectively), which should be a lot more efficient.",
      "range": {
        "startLine": 74,
        "startChar": 8,
        "endLine": 74,
        "endChar": 54
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "96853d0c_fd4815f3",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 74,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "d3cc0a05_a1f0dee3",
      "range": {
        "startLine": 74,
        "startChar": 8,
        "endLine": 74,
        "endChar": 54
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0fe3bbe4_369d6ff5",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "You could just make objects final and leave this out, since nothing modifies it anyway.",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 40
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "460b6123_6f334ccf",
        "filename": "tools/ahat/src/heapdump/AhatArrayInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "No longer relevant.",
      "parentUuid": "0fe3bbe4_369d6ff5",
      "range": {
        "startLine": 108,
        "startChar": 8,
        "endLine": 108,
        "endChar": 40
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "b8f28d3f_3c27bf7e",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "Here too",
      "range": {
        "startLine": 38,
        "startChar": 5,
        "endLine": 38,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4d197fe5_309f4cce",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 38,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "b8f28d3f_3c27bf7e",
      "range": {
        "startLine": 38,
        "startChar": 5,
        "endLine": 38,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "0c567e9b_7e99945b",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "It might be more clear if this were java.lang.Class{foo.bar.baz.MyClass} or something along those lines, just so it\u0027s harder to be confused about whether this is the class object or an instance of the class.",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 22
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "16e18cc0_48e8c12e",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "The Summarizer adds \"class\" to those things that are classes, and the toString for class instances adds an explicit id for the instance, so in theory it should already be clear?",
      "parentUuid": "0c567e9b_7e99945b",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 22
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "a683f820_493c345f",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-21T08:51:52Z",
      "side": 1,
      "message": "\u003e The Summarizer adds \"class\" to those things that are classes, and\n \u003e the toString for class instances adds an explicit id for the\n \u003e instance, so in theory it should already be clear?\n\nThe addition of \"class\" by Summarizer should make it clear, yeah, though I\u0027d argue that kind of thing should probably be in here so that you don\u0027t need to know what Summarizer does.  I don\u0027t think the ID is enough on its own, since a new user seeing something labeled \"java.util.ArrayList\" wouldn\u0027t be at all out of place to assume that means an instance of that class instead of its class object.",
      "parentUuid": "16e18cc0_48e8c12e",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 22
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "d0e70d73_c96a1208",
        "filename": "tools/ahat/src/heapdump/AhatClassObj.java",
        "patchSetId": 6
      },
      "lineNbr": 111,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-21T10:51:43Z",
      "side": 1,
      "message": "Let me address this in a followup CL, because I agree it can be hard to distinguish between class objects and class instances, and it makes sense to be able to distinguish between them based solely on the output of toString. I need to think more about the best way to distinguish between the two cases.",
      "parentUuid": "a683f820_493c345f",
      "range": {
        "startLine": 111,
        "startChar": 4,
        "endLine": 111,
        "endChar": 22
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "64b2b0e1_6b0083c2",
        "filename": "tools/ahat/src/heapdump/AhatInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 207,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "It\u0027s probably worth putting this next to addRootType()",
      "range": {
        "startLine": 207,
        "startChar": 2,
        "endLine": 207,
        "endChar": 44
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "900ef0ae_8ec3fe8c",
        "filename": "tools/ahat/src/heapdump/AhatInstance.java",
        "patchSetId": 6
      },
      "lineNbr": 207,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "64b2b0e1_6b0083c2",
      "range": {
        "startLine": 207,
        "startChar": 2,
        "endLine": 207,
        "endChar": 44
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "7612276c_bd90e4d3",
        "filename": "tools/ahat/src/heapdump/AhatSnapshot.java",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "Nit: Extra space here",
      "range": {
        "startLine": 91,
        "startChar": 13,
        "endLine": 91,
        "endChar": 39
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "2282f3eb_6c1aaa78",
        "filename": "tools/ahat/src/heapdump/AhatSnapshot.java",
        "patchSetId": 6
      },
      "lineNbr": 91,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "7612276c_bd90e4d3",
      "range": {
        "startLine": 91,
        "startChar": 13,
        "endLine": 91,
        "endChar": 39
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "99a4ffc8_77505cb8",
        "filename": "tools/ahat/src/heapdump/AhatSnapshot.java",
        "patchSetId": 6
      },
      "lineNbr": 187,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "FYI, this will fail if you ever have at least 2^30 instances in a heap dump.  Not sure if we care about that problem, but you can extend it to 2^31 by making this int mid \u003d start + ((end - start) / 2).  (You can never have more than 2^31 elements in an array in Java because the index must be an int.)",
      "range": {
        "startLine": 187,
        "startChar": 6,
        "endLine": 187,
        "endChar": 34
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "1e1bfea0_f3b38c5e",
        "filename": "tools/ahat/src/heapdump/AhatSnapshot.java",
        "patchSetId": 6
      },
      "lineNbr": 187,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "99a4ffc8_77505cb8",
      "range": {
        "startLine": 187,
        "startChar": 6,
        "endLine": 187,
        "endChar": 34
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "da627c95_ff0a8770",
        "filename": "tools/ahat/src/heapdump/NativeAllocation.java",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "Should these be final?",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "263ac7cf_edc1f80e",
        "filename": "tools/ahat/src/heapdump/NativeAllocation.java",
        "patchSetId": 6
      },
      "lineNbr": 20,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "obsolete by subsequent CLs, which remove this class entirely.",
      "parentUuid": "da627c95_ff0a8770",
      "range": {
        "startLine": 20,
        "startChar": 2,
        "endLine": 20,
        "endChar": 19
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "db983bf1_b1533e78",
        "filename": "tools/ahat/src/heapdump/Site.java",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "This should probably not have a name argument, given that the name is just thrown away.",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "6051286a_b0077802",
        "filename": "tools/ahat/src/heapdump/Site.java",
        "patchSetId": 6
      },
      "lineNbr": 81,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "I used the name argument as originally intended, rather than assuming it is \"ROOT\".",
      "parentUuid": "db983bf1_b1533e78",
      "range": {
        "startLine": 81,
        "startChar": 2,
        "endLine": 81,
        "endChar": 28
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "4f18bd35_057c6afe",
        "filename": "tools/ahat/src/heapdump/Value.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "As a minor point, Java also has Short and Boolean as primitive types.",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "aa69c62c_c699e9f3",
        "filename": "tools/ahat/src/heapdump/Value.java",
        "patchSetId": 6
      },
      "lineNbr": 108,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "I add these lazily as needed, and have not yet needed conversions to Short or Boolean.",
      "parentUuid": "4f18bd35_057c6afe",
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "c6a6f6b9_2662871b",
        "filename": "tools/ahat/test-dump/Main.java",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1042885
      },
      "writtenOn": "2017-02-17T15:02:12Z",
      "side": 1,
      "message": "Unless is the Android compiler doesn\u0027t accept UTF-8 input, you can put an actual sigma character here, which would probably be a little more obvious that it\u0027s actually storing a unicode character in the string.",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    },
    {
      "key": {
        "uuid": "66407498_557f8f57",
        "filename": "tools/ahat/test-dump/Main.java",
        "patchSetId": 6
      },
      "lineNbr": 49,
      "author": {
        "id": 1057373
      },
      "writtenOn": "2017-02-20T13:35:38Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c6a6f6b9_2662871b",
      "range": {
        "startLine": 49,
        "startChar": 4,
        "endLine": 49,
        "endChar": 59
      },
      "revId": "e70e985de33ec9e8895cb1b2af4cfc32cd23f008",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889",
      "unresolved": false
    }
  ]
}